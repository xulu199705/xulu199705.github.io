<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>基于CAN总线的多轴运动控制系统的一种优化方案</title>
    <url>//2019/01/30/can-based-optimization/</url>
    <content><![CDATA[<p>昨天从学校毕设系统里面下载了要做的英文翻译的原文，论文名称是<em>The
CAN-Based Synchronized Structure for Multi-Axis</em>。</p>
<p>运动控制系统对于通信的实时性要求很高，这就间接地要求系统的通信必须使用时间触发。CAN总线从本质上来说是一种事件触发总线协议，对于这种极高的硬实时性要求很难满足。文章中展示了基础的时间触发CAN协议在运动控制中的传输误差，实验结果表明：传输速率较低时，系统的跟踪误差较好；当传输速率提高后，系统的传输实时性就差强人意了。</p>
<p>为了解决这一问题，文章中提出了一种对CAN运动控制的优化，这个优化涉及两个方面。</p>
<span id="more"></span>
<h2 id="优化一">优化一</h2>
<p>本文提出在时间触发中嵌入事件触发，将传统的通信触发结构改为事件/时间触发结构，如图1所示。</p>
<figure>
<img data-src="./1884776264.jpg" alt="图1">
<figcaption aria-hidden="true">图1</figcaption>
</figure>
<h2 id="优化二">优化二</h2>
<p>除了优化时间触发结构，文章还提出了预估器优化方案。如果系统在一段时间内没有接收到运动控制指令，系统就会将之前的位置数据带入泰勒二阶展开式计算丢失的控制指令。</p>
<p>系统的最终结构框图如图2所示。</p>
<figure>
<img data-src="./122056196.jpg" alt="图2">
<figcaption aria-hidden="true">图2</figcaption>
</figure>
]]></content>
      <categories>
        <category>算法</category>
      </categories>
      <tags>
        <tag>控制</tag>
        <tag>summary</tag>
        <tag>总线</tag>
      </tags>
  </entry>
  <entry>
    <title>是什么驱动着无限进步？</title>
    <url>//2021/08/05/driver-of-development/</url>
    <content><![CDATA[<span id="more"></span>
<blockquote>
<p>崇高的理念在欲望面前根本无能为力 说到底 人类不过是充满欲望的生物
人活着就不能否定这一点 正因为这份欲望文明才进化至今 今后也会继续进化
绝不会倒退 建造燃料废物处理厂 修建高速公路 打造购物中心 森林面积不断减少
稀有物种濒临灭绝 终有一天这里会变得和一般的城市一样 于是他们一边缅怀过去
一边伤感唏嘘 但是大家都想这样做 多棒啊 这就是人类</p>
<p>—— LEGAL HIGH.S02E08</p>
</blockquote>
]]></content>
      <categories>
        <category>观点&amp;感想</category>
      </categories>
      <tags>
        <tag>观点</tag>
      </tags>
  </entry>
  <entry>
    <title>IC笔记之反相器仿真</title>
    <url>//2021/03/30/ic-note-inv-simu/</url>
    <content><![CDATA[<p>2021第一次更新啦！！！</p>
<p>本文是基于IC618的ADE仿真操作基本介绍，以反相器为例。</p>
<p>接下来一段时间还会陆陆续续地更新一些IC电路的仿真。</p>
<span id="more"></span>
<p>仿真基于SMIC的.18库（工艺库的安装看后续时间安排，可能会写一篇<del>当然也可能不写</del>）。</p>
<figure>
<img data-src="./virtuoso_ui.png" alt="图0-1">
<figcaption aria-hidden="true">图0-1</figcaption>
</figure>
<h2 id="新建library">1 新建Library</h2>
<p>选择"File"-"New"-"Library"。</p>
<figure>
<img data-src="./new_library_1.png" alt="图1-1">
<figcaption aria-hidden="true">图1-1</figcaption>
</figure>
<p>在弹出的对话框的文本框中输入Library的名称（因为之后的电路仿真主要是模拟方面，我就选了"analog_test"）。<br>
"Technology File"选择第3项"Attach to an existing technology
library"。点击"OK"，进入下一步。</p>
<figure>
<img data-src="./new_library_2.png" alt="图1-2">
<figcaption aria-hidden="true">图1-2</figcaption>
</figure>
<p>选择依赖的已存在工艺库（这里我选择了"smic18ee"）。点击"OK"，进入下一步。</p>
<figure>
<img data-src="./new_library_3.png" alt="图1-3">
<figcaption aria-hidden="true">图1-3</figcaption>
</figure>
<p>这是，Virtuoso的输出信息中就会有Library创建成功的信息。</p>
<figure>
<img data-src="./new_library_4.png" alt="图1-4">
<figcaption aria-hidden="true">图1-4</figcaption>
</figure>
<p>选择"Tools"-"Library Manager"进入Library管理界面。</p>
<figure>
<img data-src="./lib_manager_1.png" alt="图1-5">
<figcaption aria-hidden="true">图1-5</figcaption>
</figure>
<p>刚刚新建的库可以看到，但库中还没有任何Cell。</p>
<figure>
<img data-src="./lib_manager_2.png" alt="图1-6">
<figcaption aria-hidden="true">图1-6</figcaption>
</figure>
<h2 id="新建cell">2 新建Cell</h2>
<p>在"Library Manager"中选择"File"-"New"-"Cell View"。</p>
<figure>
<img data-src="./new_cell_1.png" alt="图2-1">
<figcaption aria-hidden="true">图2-1</figcaption>
</figure>
<p>在弹出对话框的"Cell"对话框中输入接下来设计的电路的名称，"Type"为"schematic"。点击"OK"，进入下一步。</p>
<figure>
<img data-src="./new_cell_2.png" alt="图2-2">
<figcaption aria-hidden="true">图2-2</figcaption>
</figure>
<p>Cell新建对话框消失后，进入"Schematic Editor"窗口。</p>
<figure>
<img data-src="./new_cell_3.png" alt="图2-3">
<figcaption aria-hidden="true">图2-3</figcaption>
</figure>
<p>"Library Manager"中"analog_test"库中也可以看到刚刚新建的Cell。</p>
<figure>
<img data-src="./new_cell_4.png" alt="图2-4">
<figcaption aria-hidden="true">图2-4</figcaption>
</figure>
<h2 id="原理图绘制">3 原理图绘制</h2>
<p>目前的原理图还是空的，需要向其中添加需要仿真的电路。</p>
<h3 id="添加器件">3.1 添加器件</h3>
<p>首先添加元器件。在"Schematic
Editor"窗口空白处（好吧，是黑色的）按"i"。点击"Library"下拉框右边的"Browse"。</p>
<figure>
<img data-src="./sch_add_instance_1.png" alt="图3-1">
<figcaption aria-hidden="true">图3-1</figcaption>
</figure>
<p>先勾选弹窗左上角的"Show
Categories"勾选框，再选择"smic18ee"-"mosfet"中的PMOS，根据需求选择规格，我选择了"p33e2r"。之后在"View"栏中双击"Symbol"。</p>
<figure>
<img data-src="./sch_add_instance_2.png" alt="图3-2">
<figcaption aria-hidden="true">图3-2</figcaption>
</figure>
<p>此时，"Add
Instance"对话框中就有刚刚选择的"p33e2r"的详细参数，可以自行调节。<br>
这里我简单设置了PMOS的宽长（<span class="math inline">\(L=1u,
W=2u\)</span>）。</p>
<figure>
<img data-src="./sch_add_instance_3.png" alt="图3-3">
<figcaption aria-hidden="true">图3-3</figcaption>
</figure>
<p>设置好参数后，鼠标就可以在"Schematic
Editor"窗口空白处中放置刚刚配置好参数的PMOS了。</p>
<figure>
<img data-src="./sch_add_instance_4.png" alt="图3-4">
<figcaption aria-hidden="true">图3-4</figcaption>
</figure>
<p>反相器还需要一个NMOS，也可通过上述的"Add Instance"来实现。<br>
为了方便，我使用了另一种方法。首先复制一个PMOS，再选中后右键选择"Properties"进入第二个PMOS的属性页。</p>
<figure>
<img data-src="./sch_add_instance_5.png" alt="图3-5">
<figcaption aria-hidden="true">图3-5</figcaption>
</figure>
<p>在属性页中，修改"Cell
Name"为"n33e2r"，再修改宽长比，点击"OK"。这样就得到一个NMOS了。</p>
<figure>
<img data-src="./sch_add_instance_6.png" alt="图3-6">
<figcaption aria-hidden="true">图3-6</figcaption>
</figure>
<h3 id="添加端口">3.2 添加端口</h3>
<p>电路中除了器件外，还有输入输出端口和电源端口。在空白处按"p"进入"Create
Pin"对话框。这里需要注意的是"Names"、"Direction"、"Signal
Type"这三个属性。<br>
与放置器件一样，配置好端口属性就可以在空白处放置端口了。表格中是常用的端口配置。</p>
<figure>
<img data-src="./sch_add_port_1.png" alt="图3-7">
<figcaption aria-hidden="true">图3-7</figcaption>
</figure>
<p>表3-1 常用端口配置 | Pin Name | Direction | Signal Type | | :---: |
:---: | :---: | | in | input | signal | | out | output | signal | | vdd
| inputoutput| power | | gnd | inputoutput| ground |</p>
<p>按照上述的方法，根据电路需求放置其它的端口。</p>
<figure>
<img data-src="./sch_add_port_2.png" alt="图3-8">
<figcaption aria-hidden="true">图3-8</figcaption>
</figure>
<h3 id="绘制导线">3.3 绘制导线</h3>
<p>器件和端口添加好后，根据设计的电路连接导线，快捷键是"w"。<br>
在连接MOS时，注意衬底"Bulk"上的连线。</p>
<figure>
<img data-src="./sch_add_wire.png" alt="图3-9">
<figcaption aria-hidden="true">图3-9</figcaption>
</figure>
<p>原理图绘制结束后，使用"Shift+X"检查保存。原理图的检查信息会输出到Virtuoso主界面。</p>
<figure>
<img data-src="./sch_check_and_save.png" alt="图3-10">
<figcaption aria-hidden="true">图3-10</figcaption>
</figure>
<p>到这里，电路的原理图就设计完成了。</p>
<h2 id="生成symbol">4 生成Symbol</h2>
<p>为了方便调用设计好的电路，可以为电路生成一个Symbol。如果之前简单学习过Altium
Designer，可以将之前绘制电路原理图理解为一个芯片，将Symbol理解为这个芯片的元器件符号。<br>
在"Schematic Editor"窗口中选择"Create"-"Cellview"-"From Cellview"。</p>
<figure>
<img data-src="./sch_generate_symbol_1.png" alt="图4-1">
<figcaption aria-hidden="true">图4-1</figcaption>
</figure>
<p>这个对话框中的信息都是自动生成的，只要检查一下没有出现导出错误，可以直接进入下一步。</p>
<figure>
<img data-src="./sch_generate_symbol_2.png" alt="图4-2">
<figcaption aria-hidden="true">图4-2</figcaption>
</figure>
<p>这个对话框中只需要调整一下输出端口在Symbol中排布的位置。当然，这里直接进入下一步也没有问题，端口位置可以在下一步调整。</p>
<figure>
<img data-src="./sch_generate_symbol_3.png" alt="图4-3">
<figcaption aria-hidden="true">图4-3</figcaption>
</figure>
<p>此时，进入了"Symbol
Editor"窗口，空白处已经放置了一个元器件符号。至此，Symbol就基本完成了。</p>
<figure>
<img data-src="./sch_generate_symbol_4.png" alt="图4-4">
<figcaption aria-hidden="true">图4-4</figcaption>
</figure>
<p>众所周知啊，反相器的符号绝对不是方形的，但是方形也不是不能用。所以，如果同样有轻微强迫症的同学可以自己捣鼓一下Symbol。我最后将Symbol整成下面这样。<br>
友情提醒，在调整Symbol时，需要时刻注意鼠标的样式和被选择的对象。操作失误及时使用"u"撤销。</p>
<figure>
<img data-src="./sch_generate_symbol_5.png" alt="图4-5">
<figcaption aria-hidden="true">图4-5</figcaption>
</figure>
<h2 id="仿真电路搭建">5 仿真电路搭建</h2>
<p>使用新建Cell的方法新建一个inv_ade的Cell。<br>
仿真电路中需要使用4个器件和1个端口：反相器inv、直流源vdc、脉冲生成器vpulse、电源地gnd和端口out。<br>
器件使用"i"添加，端口使用"p"添加。</p>
<p>以下是vdc、vpulse和gnd的参数配置。<br>
vdc是直流源，在analoglib库中。在反相器的仿真中，只需要设置"DC
Voltage"为3.3V就可以了。</p>
<figure>
<img data-src="./ade_add_vdc.png" alt="图5-1">
<figcaption aria-hidden="true">图5-1</figcaption>
</figure>
<p>vpluse是脉冲生成器，在analoglib库中。有4个参数需要设置，分别为"Voltage
1"、"Voltage 2"、"Period"、"Pulse Width"。<br>
"Voltage 1"、"Voltage 2"控制输出脉冲的两个边界电压。<br>
"Period"控制脉冲的周期。<br>
"Pulse Width"控制脉冲的宽度。<br>
这方面的内容可以看一下PWM波的知识。</p>
<figure>
<img data-src="./ade_add_vpulse.png" alt="图5-2">
<figcaption aria-hidden="true">图5-2</figcaption>
</figure>
<p>gnd是电源地，在analoglib库中。</p>
<figure>
<img data-src="./ade_add_gnd.png" alt="图5-2">
<figcaption aria-hidden="true">图5-2</figcaption>
</figure>
<p>器件和端口添加完毕，通过导线连接好。<br>
为了仿真中对除端口外的信号进行更好的观察，需要为信号线添加导线名。<br>
选择目标导线，右键选择"Add Name"。</p>
<figure>
<img data-src="./ade_add_wire_name_1.png" alt="图5-3">
<figcaption aria-hidden="true">图5-3</figcaption>
</figure>
<p>在弹出对话框中输入导线名称后，添加在导线上。</p>
<figure>
<img data-src="./ade_add_wire_name_2.png" alt="图5-4">
<figcaption aria-hidden="true">图5-4</figcaption>
</figure>
<p>所有工作完成后，同样需要进行检查保存。仿真原理图设计完毕。</p>
<figure>
<img data-src="./ade_sch.png" alt="图5-5">
<figcaption aria-hidden="true">图5-5</figcaption>
</figure>
<h2 id="ade仿真配置">6 ADE仿真配置</h2>
<p>在仿真电路的窗口中选择"Launch"-"ADE L"。</p>
<figure>
<img data-src="./ade_sim_1.png" alt="图6-1">
<figcaption aria-hidden="true">图6-1</figcaption>
</figure>
<p>此时，进入到"ADE L"窗口中。</p>
<figure>
<img data-src="./ade_sim_2.png" alt="图6-2">
<figcaption aria-hidden="true">图6-2</figcaption>
</figure>
<p>选择"Setup"-"Model Libraries"查看仿真库的路径配置。</p>
<figure>
<img data-src="./ade_sim_3.png" alt="图6-3">
<figcaption aria-hidden="true">图6-3</figcaption>
</figure>
<p>一般来说，仿真库的路径是没有错的。但还是建议<strong>检查一下对应路径下是否有需要的仿真文件</strong>。</p>
<figure>
<img data-src="./ade_sim_4.png" alt="图6-4">
<figcaption aria-hidden="true">图6-4</figcaption>
</figure>
<p>返回"ADE L"窗口，选择"Analyses"-"Choose"。</p>
<figure>
<img data-src="./ade_sim_5.png" alt="图6-5">
<figcaption aria-hidden="true">图6-5</figcaption>
</figure>
<p>在"Choosing Analyses"对话框中配置仿真模式和对应参数。<br>
这次的反相器仿真就使用瞬态仿真"tran"简单看一下结果。时间设置为5u。</p>
<figure>
<img data-src="./ade_sim_6.png" alt="图6-6">
<figcaption aria-hidden="true">图6-6</figcaption>
</figure>
<p>接下来，需要将跟踪的信号添加进来。选择"Outputs"-"To Be
Ploted"-"Select On
Design"。然后再仿真原理图中选择对应的信号节点或导线。</p>
<figure>
<img data-src="./ade_sim_7.png" alt="图6-7">
<figcaption aria-hidden="true">图6-7</figcaption>
</figure>
<p>这时，"ADE L"窗口就有仿真策略"tran"和跟踪信号"in"和"out"。</p>
<figure>
<img data-src="./ade_sim_8.png" alt="图6-8">
<figcaption aria-hidden="true">图6-8</figcaption>
</figure>
<p>点击右侧的绿色按钮开始仿真。<br>
仿真结果的可视化如下图所示（两个信号分组可以在右键中选择）。</p>
<figure>
<img data-src="./ade_sim_9.png" alt="图6-9">
<figcaption aria-hidden="true">图6-9</figcaption>
</figure>
<p>如果想重复使用本次的仿真配置，可以将其保存起来以备后用。<br>
选择"Session"-"Save State"。（加载仿真配置选择"Session"-"Load
State"）</p>
<figure>
<img data-src="./ade_sim_save_1.png" alt="图6-10">
<figcaption aria-hidden="true">图6-10</figcaption>
</figure>
<p>共有3个属性需要填写。"State Save Directiory"为保存路径，"Save
As"为仿真配置的名称，"Description"中可以选填一些配置信息，方便更好地与其他仿真配置区分。</p>
<figure>
<img data-src="./ade_sim_save_2.png" alt="图6-11">
<figcaption aria-hidden="true">图6-11</figcaption>
</figure>
<hr>
<h2 id="总结">总结</h2>
<p>基于IC618的反相器仿真就结束了，很详细地介绍了从建库到仿真结束的全部流程。</p>
<p>最后的最后，请别忘了<del>一键三连</del>收藏分享。 :@(击掌)</p>
]]></content>
      <categories>
        <category>集成电路</category>
      </categories>
      <tags>
        <tag>IC</tag>
        <tag>IC618</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>//2016/09/26/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very
first post. Check <a href="https://hexo.io/docs/">documentation</a> for
more info. If you get any problems when using Hexo, you can find the
answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or
you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<span id="more"></span>
<h2 id="quick-start">Quick Start</h2>
<h3 id="create-a-new-post">Create a new post</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="run-server">Run server</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="generate-static-files">Generate static files</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="deploy-to-remote-sites">Deploy to remote sites</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
      <categories>
        <category>杂项</category>
      </categories>
  </entry>
  <entry>
    <title>IC笔记之瞬态仿真</title>
    <url>//2021/04/06/ic-note-simu-tran/</url>
    <content><![CDATA[<p>IC笔记系列再次更新，这次介绍一下瞬态仿真。</p>
<span id="more"></span>
<h2 id="概述">1 概述</h2>
<p>瞬态仿真是什么？</p>
<blockquote>
<p>瞬态仿真是电路在给定的输入激励下，在设定的时间范围内计算电路时域瞬态响应性能的一种仿真手段。</p>
</blockquote>
<p>瞬态仿真一般是集成电路的第一个仿真，是年轻人的第一个仿真手段；通常是验证稳定性、速度、精度等等，需要在多次不同的瞬态分析过程才能得出结论。</p>
<h3 id="基本设置">1.1 基本设置</h3>
<p>在"ADE"中选择"Analyses"-"Choose"，可以选择仿真功能选择。点击"tran"后，可以看到如下图的基本设置界面。</p>
<figure>
<img data-src="./tran_ade_settings_1.png" alt="图1-1">
<figcaption aria-hidden="true">图1-1</figcaption>
</figure>
<ol type="1">
<li>"Stop Time"，设置仿真时间<br>
仿真时间默认从0时刻开始，这里只设置停止时间。时间单位为可以是"s"（秒）、"m"（毫秒）和"u"（微秒）。</li>
<li>"Accuracy Defaults(errpreset)"，设置仿真精度和速度<br>
软件内置有三种仿真精度："conservative"、"moderate"、"liberal"。"conservative"具有最高的精度，但速度较慢，用于高精度模拟电路和混合信号电路；"liberal"则是速度最快，精度较差，用于数字电路和变化率不高的模拟电路；"moderate"是比较折衷的模式，用于绝大多数模拟电路。如果需要更高的精度，则要在高级设置中配置参数。</li>
<li>"Transient Noise"，设置瞬态噪声</li>
<li>"Dynamic Parameter"，设置动态参数</li>
<li>"Enabled"，设置瞬态仿真启用</li>
</ol>
<h3 id="高级设置">1.2 高级设置</h3>
<p>在图1-1中点击右下角的"Options"可进入高级设置。</p>
<h4 id="time-step标签页">1.2.1 Time Step标签页</h4>
<figure>
<img data-src="./tran_ade_settings_2_timestep.png" alt="图1-2">
<figcaption aria-hidden="true">图1-2</figcaption>
</figure>
<p>Simulation Interval Parameters</p>
<ul>
<li>"start"：仿真起始时刻。仿真器默认起始时间为0s。</li>
<li>"outputstart"：输出波形时间。如果设计者的仿真时间较长，而只需观察某个时间点或者部分时间段内的电路瞬态特性输出，则可以通过该参数控制数据输出。</li>
</ul>
<p>Time Step Parameters</p>
<ul>
<li>"step"：最小的时间步长。</li>
<li>"maxstep"：最大时间步长，根据"errpreset"中的精度设定取得默认值。</li>
</ul>
<h4 id="algorithm标签页">1.2.2 Algorithm标签页</h4>
<figure>
<img data-src="./tran_ade_settings_2_algorithm.png" alt="图1-3">
<figcaption aria-hidden="true">图1-3</figcaption>
</figure>
<p>Initial Condition Parameters</p>
<p>用户可以利用设置电路节点状态的初始化语句（ic
statement）或电容、电感等模型内的初始条件参数（ic
parameters）两种方式为瞬态仿真设置初始条件。其中电容中设置的是初始电压值，电感中设置的是初始电流值。如果没有进行设置，仿真器将默认采用直流分析的结果作为初始条件。对这个参数进行设置时要格外注意，如果对电路分析不明，贸然设置电路节点的初始值，极易造成电路瞬态仿真出现收敛性问题，并产生错误结果。</p>
<ul>
<li>"ic"：设定通过何种方式设置初始条件。
<ul>
<li>ic=dc：忽略任何设置的初始条件，直接采用直流分析的结果。</li>
<li>ic=node：忽略电容、电感等器件上设置的初始条件，而采用"ic
statement"设置的初始条件。</li>
<li>ic=dev：忽略由"ic
statement"设置的初始条件，采用电容、电感上的初始条件。</li>
<li>ic=all：两种初始条件都将被采用。当设置条件发生冲突时，"ic
parameters"比"ic statement"的优先级更高。<br>
&gt; "ic statement"的格式是ic NodeName=value。<br>
&gt; 例：ic V1=1 M1:int_d=3.3 L1:1=10u<br>
&gt;
上句表示的是：在节点V1上的初始电压是1V；在MOS管M1的漏极电压是3.3V；在电感L1
上流过的初始电流是10μA。</li>
</ul></li>
<li>"skipdc"：最小的时间步长。
选择跳过直流分析。在没有直流分析的情况下，电路的初始解将采用通解，或是从由"readic"定义的文件中读取初始条件。如果"readic"中没有定义，则将从"ic
statement"中获取初始条件。无论是否跳过直流分析，器件上的初始条件肯定都会被采用。如果一个节点没有被赋予初始条件，将自动被仿真器设置为零。</li>
<li>"readic"：从文件中读取初始条件。</li>
</ul>
<p>Initial Condition Parameters For Oscillator</p>
<p>用户可以手动配置振荡器的初始条件，也可以选择使用软件自动配置。</p>
<p>Convergence Parameters</p>
<p>当电路在仿真时存在无限快的响应速度（如一个电路节点不存在任何电容），仿真器可能会产生收敛性问题。为了避免出现这种问题，需要设置"cmin"参数，给该节点设置一个合理的对地电容值。</p>
<ul>
<li>"readns"：从文件中读取电路瞬态仿真的初始解。</li>
<li>"cmin"：设定每个节点对地的最小电容</li>
</ul>
<p>Integration Method Parameters</p>
<p>该参数用于设计者根据仿真速度和仿真精确度选择合适的积分方式。仿真器提供3种不同的积分方式："backward-Euler"，"Trapezoidal"，"Second-order
Gear"。根据这3种方式一共组合出6种模式，分别为"euler"、"traponly"、"trap"、"gear2only"、gear2"、"trapgear2"。<br>
如果设计者需要高精度仿真，可以选择"trapezoidal"积分方式。但是，这种积分方式对前一时刻计算产生的误差非常敏感，因此在容差很大时并不是一种很好的选择。在容差很大而且要求速度较快的情况下，通常选择"Second-order
Gear"积分法。"Second-order
Gear"积分法比"backward-Euler"积分法更加精确。</p>
<p>Accuracy Parameters -
"relref"：相对收敛标准的参考，默认值从"errpreset"得到。包括以下几个选项。<br>
"relref =
pointlocal"：即relref=局部点，这个设置用来定量比较每个节点的值相对于待分析节点上当前数值的相对误差。<br>
"relref =
alllocal"：即relref=局部所有点，定量比较过去所有时间点的值相对于最大节点值的相对误差。<br>
"relref =
sigglobal"：即relref=所有信号点，定量比较每个电路上信号值相对于电路中所有信号中的最大值的相对误差。<br>
"relref =
allgolbal"：功能与sigglobal选项基本相同。另外，对每个节点最大悬浮电流值设定比较方程，此时不能满足基尔霍夫电流方程。
- "lteratio"：比例系数，用于计算Newton容差中的LTE 容差。</p>
<p>Newton Parameters</p>
<ul>
<li>"maxiters"：在每个时间步长内最多的迭代次数。</li>
<li>"restart"：如果有任何条件发生变化，是否从最开始重新计算直流解。如果不重新计算，将直接采用上一次的初始值。</li>
</ul>
<h4 id="state-file标签页">1.2.3 State File标签页</h4>
<figure>
<img data-src="./tran_ade_settings_2_statefile.png" alt="图1-4">
<figcaption aria-hidden="true">图1-4</figcaption>
</figure>
<p>StateFile Parameters</p>
<p>状态文件（State File）主要有两个用处： 1.
将保存下来的状态文件用于后续的仿真分析中。如在一次瞬态分析中保存下结束时刻的信息，在下一次瞬态分析中能够以该时刻作为起始点继续完成后续时间段的分析。
2.
用户能够利用状态文件自动完成初始条件的更新。设计者能够利用仿真器将一次分析的初始时刻工作点或终止时刻工作点生成状态文件。同时，设计者也能手动编写一个状态文件。</p>
<ul>
<li>"write"：将瞬态分析的初始状态解写到指定的文件中。</li>
<li>"writefinal"：将瞬态分析的最终解写到指定的文件中。</li>
</ul>
<p>Save-Restart Parameters</p>
<p>该参数用于配置保存和载入的频率等参数。</p>
<h4 id="output标签页">1.2.3 Output标签页</h4>
<p><img data-src="./tran_ade_settings_2_output_1.png" alt="图1-5"> <img data-src="./tran_ade_settings_2_output_2.png" alt="图1-6"></p>
<p>Output Parameters</p>
<p>仿真器默认情况下会把所有仿真数据都保存下来，但有时并不需要所有的数据量。仿真器允许设计者选择保存需要的数据。如果需要得到更精确的结果，也可以增大数据输出量。<br>
该参数配置"compression"输出模式，将恒定信号的重复记录删除。</p>
<p>Strobing Parameters</p>
<p>该参数配置"strobing"输出模式。在保存点之间设置一个时间间隔。虽然仿真器计算过这些数据，但是并没有将其保存输出。</p>
<p>Final OP Point Settings</p>
<p>该参数配置静态工作点的保存等参数。</p>
<p>Infotimes Settings</p>
<p>该参数配置"infotimes"输出模式。允许设计者保存某些自定义时刻的工作点数据。如果需要保存多个时刻的工作点，填入时间矢量之间以空格隔开。</p>
<p>Actimes Settings</p>
<p>未找到相关资料，待补充。</p>
<h4 id="emir-output标签页">1.2.5 EM/IR Output标签页</h4>
<figure>
<img data-src="./tran_ade_settings_2_emiroutput.png" alt="图1-7">
<figcaption aria-hidden="true">图1-7</figcaption>
</figure>
<p>该标签页涉及EM（电子迁移）和IR（IR压降）。<del>恕我直言，不会。</del></p>
<h4 id="misc标签页">1.2.6 Misc标签页</h4>
<figure>
<img data-src="./tran_ade_settings_2_misc.png" alt="图1-7">
<figcaption aria-hidden="true">图1-7</figcaption>
</figure>
<p>该标签页为一些难以分类的配置，毕竟都写了是misc了。</p>
<ol type="1">
<li>Annotation Parameters，注释。</li>
<li>Captab Parameters，电容列表参数。</li>
<li>Additional Parameters，额外参数。</li>
</ol>
<h2 id="实例">2 实例</h2>
<p>仿真电路如图。瞬态仿真实例选择了使用二极管连接方式的PMOS作为负载的共源极电路。</p>
<figure>
<img data-src="./circuit_opa.png" alt="图2-1">
<figcaption aria-hidden="true">图2-1</figcaption>
</figure>
<h3 id="配置激励源">2.1 配置激励源</h3>
<p>与前一篇关于<a href="/2021/03/30/ic-note-inv-simu/">反相器仿真</a>中对于激励信号的配置不同，这次选择直接对端口进行激励源配置。</p>
<p>在ADE窗口中选择"Setup"-"Stimuli"。</p>
<figure>
<img data-src="./tran_ade_stimuli_1.png" alt="图2-2">
<figcaption aria-hidden="true">图2-2</figcaption>
</figure>
<p>按照下面三张图片依次对三个端口的输入信号进行配置。</p>
<p><img data-src="./tran_ade_stimuli_2_vin.png" alt="图2-3"> <img data-src="./tran_ade_stimuli_2_vdda.png" alt="图2-4"> <img data-src="./tran_ade_stimuli_2_gnda.png" alt="图2-5"></p>
<h3 id="配置瞬态仿真">2.2 配置瞬态仿真</h3>
<p>选择瞬态仿真模式，并选择仿真时间和精度。</p>
<figure>
<img data-src="./tran_ade_mode.png" alt="图2-6">
<figcaption aria-hidden="true">图2-6</figcaption>
</figure>
<p>选取观测信号后，仿真配置结束。</p>
<figure>
<img data-src="./tran_ade_settings.png" alt="图2-7">
<figcaption aria-hidden="true">图2-7</figcaption>
</figure>
<h3 id="仿真结果">2.3 仿真结果</h3>
<p>下图是仿真结果。局部放大后，可以通过"M"键选取曲线上的点，对信号进行进一步分析。</p>
<figure>
<img data-src="./tran_ade_results.png" alt="图2-8">
<figcaption aria-hidden="true">图2-8</figcaption>
</figure>
<h2 id="总结">总结</h2>
<p>以上就是ADE中瞬态仿真的大部分介绍。本次笔记结束。 :@(击掌)</p>
]]></content>
      <categories>
        <category>集成电路</category>
      </categories>
      <tags>
        <tag>瞬态仿真</tag>
        <tag>仿真</tag>
      </tags>
  </entry>
  <entry>
    <title>从零开始的客制化87键机械键盘_2_硬件设计</title>
    <url>//2019/01/22/keyboard87-2/</url>
    <content><![CDATA[<blockquote>
<p>前文：<br>
<a href="/2018/12/25/keyboard87-1/">从零开始的客制化87键机械键盘_1_立项</a></p>
</blockquote>
<p>从这个项目立项以来已经快一个月了，终于在师傅和同学的帮助下，搞定了硬件设计。下面我就器件选型简单介绍一下，最后贴了一下渲染图。</p>
<span id="more"></span>
<h2 id="硬件设计">1 硬件设计</h2>
<p>这一章介绍一下客制化键盘的硬件设计，包括以下4项：主控芯片、传输接口、轴体选择、键盘布局。</p>
<h3 id="主控芯片">1.1 主控芯片</h3>
<p>在确定STM32作为主控芯片之前，我在网上搜了一下，也拆了手上的ikbc
C87，ATMEL的ATMEGA32芯片使用的比较多。我最终还是选择了STM32，主要原因是对STM32比较熟悉。</p>
<p>当然，作为32位的MCU，STM32不管是在IO数量、USB接口支持，还是程序运算速度，都能满足机械键盘的需求。</p>
<ul>
<li>USB接口</li>
</ul>
<p>机械键盘使用时是作为USB
Slave使用的，所以只需要芯片支持USB就行，不需要OTG。STM32F1的所有芯片都支持全速USB
2.0，所以随便选一款就行。</p>
<ul>
<li>IO数量</li>
</ul>
<p>简单计算一下机械键盘需要的IO口，见下表（实际IO分配以实际原理图为准）。</p>
<table>
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>序号</th>
<th>用途</th>
<th>数量</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>键盘列</td>
<td>17</td>
<td>87键键盘布局，最多的一行（第2行）共17个按键</td>
</tr>
<tr class="even">
<td>2</td>
<td>键盘行</td>
<td>6</td>
<td>87键键盘布局，共6行</td>
</tr>
<tr class="odd">
<td>3</td>
<td>USB接口</td>
<td>2</td>
<td>USBDN和USBDP</td>
</tr>
<tr class="even">
<td>4</td>
<td>调试接口</td>
<td>2</td>
<td>使用STLink连接，仅需JTMS-SWDIO、JTCK-SWCLK和GND三个接口</td>
</tr>
</tbody>
</table>
<p>简单计算一下，键盘需求的IO口为27个。</p>
<ul>
<li>运算速度</li>
</ul>
<p>STM32有四个时钟源：</p>
<table>
<thead>
<tr class="header">
<th>时钟源</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>高速外部时钟(HSE)</td>
<td>可取4-16MHz，一般采用8MHz</td>
</tr>
<tr class="even">
<td>高速内部时钟(HSI)</td>
<td>8MHz，内部RC振荡器产生，不稳定</td>
</tr>
<tr class="odd">
<td>低速外部时钟(LSE)</td>
<td>外部晶振，一般采用32.768KHz</td>
</tr>
<tr class="even">
<td>低速内部时钟(LSI)</td>
<td>内部RC振荡器产生，约40KHz</td>
</tr>
</tbody>
</table>
<p>机械键盘用8MHz外部晶振，内部的系统时钟最高为72MHz，满足机械键盘的输入精度要求。</p>
<h3 id="传输接口">1.2 传输接口</h3>
<p>机械键盘的传输接口已经确定为USB。一般来说，USB有以下几种接口类型：</p>
<table>
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Type A</th>
<th style="text-align: center;">Type B</th>
<th style="text-align: center;">Mini</th>
<th style="text-align: center;">Micro</th>
<th style="text-align: center;">Type C</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><img data-src="./3082159515.jpg" alt="type_a"></td>
<td style="text-align: center;"><img data-src="./3927602725.jpg" alt="type_b"></td>
<td style="text-align: center;"><img data-src="./1301417559.jpg" alt="miniusb"></td>
<td style="text-align: center;"><img data-src="./3726218615.jpg" alt="microusb"></td>
<td style="text-align: center;"><img data-src="./1494934121.jpg" alt="type_c"></td>
</tr>
</tbody>
</table>
<p>目前现在市面上键线分离的机械键盘一般用的是miniUSB或microUSB接口。最近半年来，USB
C-type特别流行。这个接口不仅提供大功率传输，而且支持正反随便插，大大降低了插第二次的郁闷。机械键盘就决定用USB
C-type。</p>
<h3 id="轴体选择">1.3 轴体选择</h3>
<p>在选择机械键盘的轴体时，因为正在使用的ikbc
C87，所以直接就决定用樱桃的MX轴。常用的MX轴有黑青茶红四种，茶轴肯定是我的首选，不管用做什么，都可以满足要求。</p>
<p>MX轴的封装尺寸：<a href="https://github.com/xulu199705/KeyBoard87/tree/master/Reference/Cherry_MX/Cherry_MX_sw.pdf">PDF</a></p>
<h3 id="键盘布局">1.4 键盘布局</h3>
<p>键盘布局选择和手头使用的ikbc c87一样的87键布局，在<a href="http://www.keyboard-layout-editor.com/">这里</a>可以将需要的布局信息生成一堆文本，将文本复制到<a href="http://builder.swillkb.com/">这里</a>，生成定位板文件，方面在PCB中定位每个键轴的位置。</p>
<p>布线图 <img data-src="./1178723672.png" alt="pcb_2d_bottomlayer.png"></p>
<table>
<thead>
<tr class="header">
<th>3D顶部视图</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><img data-src="./1617787578.png" alt="2.PNG"></td>
<td><img data-src="./2508825578.png" alt="pcb_3d_top.png"></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header">
<th>3D底部视图</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><img data-src="./784997014.png" alt="1.PNG"></td>
<td><img data-src="./210904615.png" alt="pcb_3d_bottom.png"></td>
</tr>
</tbody>
</table>
<p>LOGO视图 <img data-src="./2778683646.png" alt="pcb_3d_logo.png"></p>
<p>P.S. PCB文件已上传<a href="https://github.com/xulu199705/KeyBoard87">github</a>，过一会儿就投板给嘉立创打样。</p>
]]></content>
      <categories>
        <category>硬件</category>
      </categories>
      <tags>
        <tag>STM32</tag>
        <tag>键盘</tag>
        <tag>DIY</tag>
      </tags>
  </entry>
  <entry>
    <title>从零开始的客制化87键机械键盘_1_立项</title>
    <url>//2018/12/25/keyboard87-1/</url>
    <content><![CDATA[<p>还有半年就要毕业了，在做毕业设计之余，我准备客制化一个87键机械键盘。键盘用STM32做主控，USB
type-C做接口，以基本操作为最低目标。当然了，由于主专业的毕业设计和第二专业的毕业论文，留给这个项目的时间不会太多，项目的开发周期会(geng)有(xin)半(wan)年(quan)之(sui)久(yuan)。</p>
<span id="more"></span>
<h2 id="项目初衷">1 项目初衷</h2>
<p>最初决定做键盘是在1月初的时候。当然，一开始想做的并不是键盘，而是一个USB-to-Bluetooth的转换器（如下图），这样就可以在iPad上用机械键盘了。</p>
<figure>
<img data-src="./3841195344.jpg" alt="USB-to-Bluetooth Convertor">
<figcaption aria-hidden="true">USB-to-Bluetooth Convertor</figcaption>
</figure>
<p>转换器的主控同样是准备采用STM32，毕竟STM32作为我比较熟悉的MCU，不仅功能强大，而且有过几次基于STM32系统的制作经验。</p>
<p>这时候，本着“不如搞个大事情”的原则，我就想着不如直接做个机械键盘吧。<del>就这样，我踏上了从零开始的客制化87键机械键盘不归路</del>。</p>
<p>项目软件调通之后会将硬件原理图、封装库和STM32的程序发布到我的<a href="https://github.com/xulu199705/KeyBoard87">GitHub</a>，敬请期待···</p>
]]></content>
      <categories>
        <category>硬件</category>
      </categories>
      <tags>
        <tag>STM32</tag>
        <tag>键盘</tag>
        <tag>DIY</tag>
      </tags>
  </entry>
  <entry>
    <title>从零开始的客制化87键机械键盘_3_PCB打样</title>
    <url>//2019/01/28/keyboard87-3/</url>
    <content><![CDATA[<blockquote>
<p>前文：<br>
<a href="/2018/12/25/keyboard87-1/">从零开始的客制化87键机械键盘_1_立项</a><br>
<a href="/2019/01/22/keyboard87-2/">从零开始的客制化87键机械键盘_2_硬件设计</a></p>
</blockquote>
<p>机械键盘的原理图搞定之后就投去打样了，这次体验还是不错。</p>
<span id="more"></span>
<h2 id="pcb打样">1 PCB打样</h2>
<p>PCB打样就交给嘉立创了，下单系统虽然UI做的不怎么样，但系统操作和服务看上去特别高大上。而且最近嘉立创对自己的SMT进行了升级，添加了很多可贴元器件，这样一来，板子一拿回来就只要焊四个0805的贴片和直插的按键轴体。</p>
<p>下单大概四天，板子就寄到了。一层一层的红色气泡纸把五块板子包得严严实实。</p>
<figure>
<img data-src="./1443212437.jpg" alt="pcb_package.jpg">
<figcaption aria-hidden="true">pcb_package.jpg</figcaption>
</figure>
<p>板子那绿油油的照片忘记拍了，等全部搞定再拍吧。</p>
]]></content>
      <categories>
        <category>硬件</category>
      </categories>
      <tags>
        <tag>STM32</tag>
        <tag>键盘</tag>
        <tag>DIY</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux笔记之VNC配置</title>
    <url>//2021/06/21/linux-note-vnc-config/</url>
    <content><![CDATA[<p>又要当苦力了，自<del>bei</del>愿<del>po</del>学习VNC多用户的配置。成就·学习运维技能之VNC配置，get！</p>
<p>和XDMCP相同，环境为CentOS 7.8，且已安装GNOME桌面环境。</p>
<span id="more"></span>
<blockquote>
<p>友情提醒：配置生产用的服务器是务必小心，不熟悉、不自信的同学可以先用虚拟机练练手。</p>
</blockquote>
<h2 id="预备知识">1 预备知识</h2>
<p>下面先简单讲一下VNC是个啥。<del>还是要先装模作样一番的</del></p>
<p>VNC可以简单理解为桌面级的图像分享系统，可以通过它实现远程控制。<del>就这么简单，更难的我也不会</del></p>
<p>wikipedia上有详细介绍<a href="https://en.m.wikipedia.org/wiki/Virtual_Network_Computing">VNC的词条</a>，可以过去看看。</p>
<p>另外，VNC本质上是不需要桌面环境的，即使是CentOS最小安装也是可以使用VNC的；但是呢，这一套就比较麻烦了，所以，懂的都懂，毕竟打工人的干活方式就是能用就行嘛。</p>
<h2 id="安装vnc">2 安装VNC</h2>
<h3 id="安装桌面环境">2.1 安装桌面环境</h3>
<p>首先检查系统内是否有图形界面，我就以GNOME为例，KDE也是类似的。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 检查group列表，看看是否有GNOME Desktop</span></span><br><span class="line">yum grouplist</span><br></pre></td></tr></table></figure>
<figure>
<img data-src="./linux_note_vnc_config_gnome.png" alt="yum grouplist结果">
<figcaption aria-hidden="true">yum grouplist结果</figcaption>
</figure>
<p>如果在已安装中有GNOME Desktop，那么就可以跳过桌面环境的安装了。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 安装GNOME Desktop环境</span></span><br><span class="line">sudo yum groupinstall -y <span class="string">&quot;GNOME Desktop&quot;</span></span><br></pre></td></tr></table></figure>
<p>如果需要调整默认显示模式（命令行/图形桌面），可以使用下面的指令。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 切换为图形桌面</span></span><br><span class="line">sudo systemctl set-default graphical.target</span><br><span class="line"><span class="comment"># 切换为命令行</span></span><br><span class="line">sudo systemctl set-default multi-user.target</span><br></pre></td></tr></table></figure>
<h3 id="安装vnc组件">2.2 安装VNC组件</h3>
<p>VNC组件安装前，可以确认一下使用的镜像源，如果是国外源，可以尝试切换为清华源，切换步骤查看TUNA的<a href="https://mirrors.tuna.tsinghua.edu.cn/help/centos/">CentOS镜像使用帮助</a>。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 安装VNC组件</span></span><br><span class="line">yum install tigervnc-server -y</span><br><span class="line"><span class="comment"># 验证VNC安装</span></span><br><span class="line">rpm -qa|grep tigervnc-server</span><br></pre></td></tr></table></figure>
<figure>
<img data-src="./linux_note_vnc_config_vnc.png" alt="验证VNC安装">
<figcaption aria-hidden="true">验证VNC安装</figcaption>
</figure>
<h2 id="配置vnc">3 配置VNC</h2>
<p>VNC安装结束后，需要为每个需要使用的用户配置VNC，本文就简单为2个用户配置一下。其中，<code>leon</code>用户使用的桌面号为<code>1</code>，<code>root</code>用户使用的桌面号为<code>2</code>。<del>注：实际配置过程中，请务必把老板的账号配置为<code>1</code>，以表示尊重</del></p>
<p>第一步需要依据VNC自带的脚本sample来创建2个VNC启动脚本。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 从sample创建VNC启动脚本</span></span><br><span class="line">sudo <span class="built_in">cp</span> /lib/systemd/system/vncserver@.service /etc/systemd/system/vncserver@:1.service</span><br><span class="line">sudo <span class="built_in">cp</span> /lib/systemd/system/vncserver@.service /etc/systemd/system/vncserver@:2.service</span><br></pre></td></tr></table></figure>
<p>命令中的<code>1</code>和<code>2</code>是桌面号，访问VNC时，桌面号不同的脚本对应的端口号不同。VNC访问桌面号<code>1</code>时，使用<code>5900+1=5901</code>端口；问桌面号<code>2</code>时，使用<code>5900+2=5902</code>端口；以此类推。<del>但请不乱推</del></p>
<p>接着，需要小小处理一下刚刚复制的脚本。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/systemd/system</span><br><span class="line"><span class="comment"># 给权限x</span></span><br><span class="line">sudo <span class="built_in">chmod</span> +x vncserver@\:1.service</span><br><span class="line">sudo <span class="built_in">chmod</span> +x vncserver@\:2.service</span><br></pre></td></tr></table></figure>
<p>接着打开2个脚本。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 打开脚本</span></span><br><span class="line">sudo vim vncserver@\:1.service</span><br></pre></td></tr></table></figure>
<p>将<code>&lt;USER&gt;</code>改为用户名，此处为桌面号<code>1</code>的脚本<code>vncserver@\:1.service</code>，改为普通用户<code>leon</code>。</p>
<figure>
<img data-src="./linux_note_vnc_config_script_1.png" alt="脚本修改前">
<figcaption aria-hidden="true">脚本修改前</figcaption>
</figure>
<figure>
<img data-src="./linux_note_vnc_config_script_2.png" alt="脚本修改后">
<figcaption aria-hidden="true">脚本修改后</figcaption>
</figure>
<p>相同的操作步骤，将<code>vncserver@\:2.service</code>中的<code>&lt;USER&gt;</code>改为<code>root</code>。</p>
<p>改完之后，还需要设置一下VNC的连接密码。配置此密码需要在相应的用户下进行，可以使用<code>su</code>（仅能切换到root）或<code>su xxx</code>来进行用户切换。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 配置VNC连接密码</span></span><br><span class="line">vncpasswd</span><br></pre></td></tr></table></figure>
<p>VNC密码配置过程中，首先是主密码的设置；接着是一个进入只读模式的辅助密码，可根据自身需求选择是否进行设置。</p>
<h2 id="启动vnc服务及端口开放">4 启动VNC服务及端口开放</h2>
<p>下面是VNC服务的启动和开机自启的配置。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 重载配置文件</span></span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line"><span class="comment"># 启动VNC脚本服务</span></span><br><span class="line">sudo systemctl start vncserver@\:1.service</span><br><span class="line">sudo systemctl start vncserver@\:2.service</span><br><span class="line"><span class="comment"># 配置开机自启</span></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> vncserver@\:1.service</span><br><span class="line">sudo systemctl <span class="built_in">enable</span> vncserver@\:2.service</span><br></pre></td></tr></table></figure>
<p>检查端口监听情况。<del>注：如果这里看不到端口<code>5901</code>和<code>5902</code>，可以尝试重启，具体原因未知</del></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 检查端口监听</span></span><br><span class="line">netstat -lnpt|grep Xvnc</span><br></pre></td></tr></table></figure>
<figure>
<img data-src="./linux_note_vnc_config_port.png" alt="端口监听状态">
<figcaption aria-hidden="true">端口监听状态</figcaption>
</figure>
<p>防火墙开放端口<code>5901</code>和<code>5902</code>。如果比较大胆的，可以直接把防火墙给关了。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 防火墙开放端口</span></span><br><span class="line">firewall-cmd --zone=public --add-port=5901/tcp --permanent</span><br><span class="line">firewall-cmd --zone=public --add-port=5902/tcp --permanent</span><br></pre></td></tr></table></figure>
<p>关闭SELinux<del>我也不知道这个具体怎么使用，只清楚开着没办法连接¯\_(
ツ )_/¯</del></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 打开SELinux配置文件</span></span><br><span class="line">vim /etc/selinux/config</span><br></pre></td></tr></table></figure>
<p>将横线处改为<code>disabled</code>即可。改为<code>permissive</code>可以连接VNC，但是会报错，且可以屏蔽，自行选择。</p>
<figure>
<img data-src="./linux_note_vnc_config_selinux.png" alt="端口监听状态">
<figcaption aria-hidden="true">端口监听状态</figcaption>
</figure>
<h2 id="连接vnc">5 连接VNC</h2>
<p>连接桌面号为<code>1</code>，可以使用<code>ip:1</code>或者<code>ip:5901</code>来连接；桌面号为<code>2</code>使用<code>ip:2</code>或者<code>ip:5902</code>。</p>
<figure>
<img data-src="./linux_note_vnc_config_pre_1.png" alt="连接VNC地址配置">
<figcaption aria-hidden="true">连接VNC地址配置</figcaption>
</figure>
<figure>
<img data-src="./linux_note_vnc_config_pre_2.png" alt="连接VNC演示">
<figcaption aria-hidden="true">连接VNC演示</figcaption>
</figure>
<h2 id="总结">6 总结</h2>
<p>VNC配置到此结束，希望有需求的各位同学能有点收获吧。</p>
<p>最后的最后，日常求<del>一键三连</del>收藏分享。</p>
]]></content>
      <categories>
        <category>软件</category>
      </categories>
      <tags>
        <tag>VNC</tag>
        <tag>CentOS</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux笔记之XDMCP配置</title>
    <url>//2021/04/08/linux-note-xdmcp-config/</url>
    <content><![CDATA[<p>恰好遇到了服务器远程桌面的需求，记一篇笔记详细介绍一下XDMCP配置。</p>
<p>XDMCP配置主要是XDMCP
Server配置、端口打开这两个部分。至于服务器上公网，我会再开一篇写一下。</p>
<span id="more"></span>
<blockquote>
<p>友情提醒：配置生产用的服务器是务必小心，不熟悉、不自信的同学可以先用虚拟机练练手。</p>
</blockquote>
<h2 id="概述">1 概述</h2>
<p>首先简单地介绍一下目前的问题。</p>
<ol type="1">
<li>需要在局域网内访问服务器，并实现远程桌面。</li>
<li>CentOS
7默认桌面为Gnome。虽说没什么问题，但是7开始的Gnome据说开始使用硬件加速，如果使用XDMCP协议来远程与gdm会有冲突，会出现奇奇怪怪的问题，Xmanager官方提到了<a href="http://blog.netsarang.com/89/connecting-to-centos-7/">这个问题</a>，建议更换显示管理（display
manager）和桌面环境（desktop environment）。</li>
</ol>
<blockquote>
<p>这里顺嘴说一下CentOS的版本。下面我是用的是CentOS
7的虚拟机，没有使用CentOS 8。原因嘛，大家可以看一下CentOS官网<a href="https://www.centos.org/centos-linux/">下载页面</a>看一下这两个版本的支持时间。CentOS之前明明说好了对CentOS
8有10年支持的，结果RedHat为了推CentOS Stream就把CentOS
8在今年（2021年）年底提前结束了。这个博客还跑在CentOS
8上面，就挺难受的。</p>
</blockquote>
<h2 id="更换镜像源">2 更换镜像源</h2>
<p>众所周知啊，CentOS的服务器经常因为一些问题访问非常缓慢，下载速度堪忧。所以，更换镜像源是非常直接的解决方案。目前推荐使用清华TUNA或者北外BFSU（广度优先搜索大学）的镜像。当然用阿里或者华为的也不是不行。</p>
<p>更换镜像源指令很简单，共两个，依次执行就可以。<del>当然，你的账号需要有或者通过sudo可以拿到root的权限，直接使用root账号的可以忽略sudo，下同</del></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo sed -e <span class="string">&#x27;s|^mirrorlist=|#mirrorlist=|g&#x27;</span> \</span><br><span class="line">         -e <span class="string">&#x27;s|^#baseurl=http://mirror.centos.org|baseurl=https://mirrors.tuna.tsinghua.edu.cn|g&#x27;</span> \</span><br><span class="line">         -i.bak \</span><br><span class="line">         /etc/yum.repos.d/CentOS-*.repo</span><br><span class="line"></span><br><span class="line">sudo yum makecache</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果之前对于镜像源进行过更改，还需要检查一下修改过的镜像源文件是否启用，再执行makecache。</p>
</blockquote>
<p>这部分内容参考了TUNA的<a href="https://mirrors.tuna.tsinghua.edu.cn/help/centos/">CentOS镜像使用帮助</a>。</p>
<h2 id="更换display-manager和desktop-environment">3 更换display
manager和desktop environment</h2>
<p>display manager更换为lightdm，不再使用gdm；desktop
environment可以使用MATE desktop、Xfce、KDE等等。MATE desktop是基于Gnome
2.x的桌面环境，资源占用极小。</p>
<ul>
<li>安装EPEL（Extra Package for Enterprise Linux），这是Fedora Special
Interest Group维护的Enterprise Linux（RHEL、CentOS）中常用的包。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo yum install epel-release</span><br></pre></td></tr></table></figure>
<ul>
<li>安装lightdm。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo yum install lightdm</span><br></pre></td></tr></table></figure>
<ul>
<li>安装X Windows System。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo yum <span class="built_in">groups</span> mark convert <span class="string">&quot;X Window system&quot;</span></span><br><span class="line">sudo yum groupinstall <span class="string">&quot;X Window system&quot;</span></span><br></pre></td></tr></table></figure>
<p>接下来展示的桌面环境安装只需要选择一个，反正我就用META了。<del>当然都选了我也不知道，你开心就好</del></p>
<ul>
<li>META desktop安装。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo yum <span class="built_in">groups</span> mark convert <span class="string">&quot;MATE Desktop&quot;</span></span><br><span class="line">sudo yum groupinstall <span class="string">&quot;MATE Desktop&quot;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Xfce安装。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo yum groupinstall xfce</span><br></pre></td></tr></table></figure>
<h3 id="使用lightdm配置xdmcp-server">3.1使用lightdm配置XDMCP Server</h3>
<p>通过vim打开lightdm配置文件。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/lightdm/lightdm.conf</span><br></pre></td></tr></table></figure>
<p>在文件中找到<code>[XDMCPServer]</code>，修改其下方被注释的代码。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">···</span><br><span class="line">[XDMCPServer]</span><br><span class="line">···</span><br><span class="line">enabled=true</span><br><span class="line">port=177</span><br><span class="line">···</span><br></pre></td></tr></table></figure>
<h3 id="配置lightdm为默认桌面环境">3.2 配置lightdm为默认桌面环境</h3>
<p>切换display
manager为lightdm。<code>init 3</code>是将系统的运行切换为命令行，同时，如果是图形界面执行该命令，需要重新登录一下系统再继续下一步；<code>init 5</code>是将系统的运行再次切换到UI桌面。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">disable</span> gdm &amp;&amp; systemctl <span class="built_in">enable</span> lightdm</span><br><span class="line">sudo init 3</span><br><span class="line">sudo init 5</span><br></pre></td></tr></table></figure>
<p>这时我们第二次重新登录后，就进入了META desktop了。</p>
<p>接着，还需要讲META设置为默认桌面环境。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/share/xsessions/ &amp;&amp; <span class="built_in">ls</span></span><br><span class="line">sudo <span class="built_in">mkdir</span> back</span><br><span class="line">sudo <span class="built_in">mv</span> gnome* back &amp;&amp; <span class="built_in">ls</span></span><br><span class="line">sudo init 3</span><br><span class="line">sudo init 5</span><br></pre></td></tr></table></figure>
<h2 id="打开177端口">4 打开177端口</h2>
<p>XDMCP默认的端口是177端口，可以在lightdm配置文件根据需求中更改。系统默认是不会放开177端口的，需要进一步配置。</p>
<p>另外，为了测试端口是否可用，需要实现准备可以ping端口的程序。Linux环境可以安装telnet；Windows环境建议使用<a href="https://elifulkerson.com/projects/tcping.php">tcping</a>，使用时务必在程序所在文件夹中打开终端执行命令。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># telnet Ping 192.168.58.130的177端口</span></span><br><span class="line">telnet 192.168.58.130 177</span><br><span class="line"></span><br><span class="line"><span class="comment"># tcping Ping 192.168.58.130的177端口</span></span><br><span class="line">.\tcping.exe 192.168.58.130 177</span><br><span class="line"><span class="comment"># 或</span></span><br><span class="line">.\tcping64.exe 192.168.58.130 177</span><br></pre></td></tr></table></figure>
<p>好，接下来解决端口开放问题。</p>
<p>防火墙设置部分。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 配置防火墙，将177端口永久开放给所有用户</span></span><br><span class="line">sudo firewall-cmd --permanent --add-port=177/udp</span><br><span class="line">sudo firewall-cmd --permanent --add-port=177/tcp</span><br><span class="line"></span><br><span class="line"><span class="comment"># 更新防火墙规则</span></span><br><span class="line">sudo firewall-cmd --reload</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看所有打开的端口</span></span><br><span class="line">sudo firewall-cmd --zone=public --list-ports</span><br></pre></td></tr></table></figure>
<p>端口监听部分。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 配置177端口tcp协议永久监听</span></span><br><span class="line">sudo nc -lk 177 &amp;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看目前177端口状态</span></span><br><span class="line">netstat -tunlp | grep 177</span><br></pre></td></tr></table></figure>
<p>CentOS部分的端口配置基本结束，接下来就用telnet或者tcping来ping服务器的177端口。</p>
<figure>
<img data-src="./tcping_ip_port.png" alt="tcping Ping端口177">
<figcaption aria-hidden="true">tcping Ping端口177</figcaption>
</figure>
<p>你以为这么简单就结束了？ :&amp;(蛆音娘_摊手)
一旦SSH连接断开或系统重启<del>当然生产用的服务器没有特殊情况是不会重启的</del>，监听就自动结束了。这时候有两个解决方案了。</p>
<h3 id="方案一使用tmux针对不重启的系统">4.1
方案一：使用tmux，针对不重启的系统</h3>
<p>tmux可以实现终端复用，即使表面上终端结束了，但是跑在tmux中的指令不会就此结束，非常适合目前的需求。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 安装tmux</span></span><br><span class="line">sudo yum install tmux</span><br><span class="line"></span><br><span class="line"><span class="comment"># 新建tmux会话</span></span><br><span class="line">tmux new -s xdmcp_listen_177</span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入会话后开始监听177端口</span></span><br><span class="line">sudo nc -lk 177 &amp;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 离开tmux会话，返回主终端</span></span><br><span class="line">tmux detach</span><br><span class="line"></span><br><span class="line"><span class="comment"># 其它tmux相关操作</span></span><br><span class="line"><span class="comment"># 列出已有tmux会话</span></span><br><span class="line">tmux <span class="built_in">ls</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 重新进入会话</span></span><br><span class="line">tmux attach-session -t xdmcp_listen_177</span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭会话（需在会话中）</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line"><span class="comment"># 或（无需在会话中）</span></span><br><span class="line">tmux kill-session -t xdmcp_listen_177</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重命名会话xdmcp_listen_177为xdmcp_listen</span></span><br><span class="line">tmux rename -t xdmcp_listen_177 xdmcp_listen</span><br></pre></td></tr></table></figure>
<p>下图是我关闭终端后进行的测试（测试端口178），可以满足目标需求。</p>
<figure>
<img data-src="./tmux_listen_177.png" alt="使用tmux实现端口永久监听">
<figcaption aria-hidden="true">使用tmux实现端口永久监听</figcaption>
</figure>
<h3 id="方案二配置自启动">4.2 方案二：配置自启动</h3>
<p>这是我最开始想到的方案，只适用于个人使用的、没有重启限制的服务器。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 新建需要自启动的文件</span></span><br><span class="line">vim listen177.sh</span><br></pre></td></tr></table></figure>
<p>在文件中编写以下内容，用<code>:wq</code>保存并关闭。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment">#chkconfig:5 80 90</span></span><br><span class="line"><span class="comment">#decription:autostart</span></span><br><span class="line"></span><br><span class="line">nc -lk 177</span><br></pre></td></tr></table></figure>
<p>然后进行自启动配置。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cp</span> listen177.sh /etc/rc.d/init.d/</span><br><span class="line"><span class="built_in">cd</span> /etc/rc.d/init.d</span><br><span class="line"><span class="built_in">chmod</span> +x  /etc/rc.d/init.d/listen177.sh</span><br><span class="line">chkconfig --add listen177.sh</span><br><span class="line">chkconfig listen177.sh</span><br></pre></td></tr></table></figure>
<p>到此，端口监听才全部结束。上面两种方案就看自己的需求选取吧。</p>
<h2 id="xdmcp客户端">5 XDMCP客户端</h2>
<p>这里就是各显神通的地方了。</p>
<p>Windows端当然是推荐Xmanager，macOS可以使用XQuartz。我就放一下我自己的Xmanager效果图。</p>
<figure>
<img data-src="./xmanager_config.png" alt="Xmanager配置">
<figcaption aria-hidden="true">Xmanager配置</figcaption>
</figure>
<figure>
<img data-src="./xdmcp_res.png" alt="最终效果图">
<figcaption aria-hidden="true">最终效果图</figcaption>
</figure>
<h2 id="总结">总结</h2>
<p>XDMCP配置到此结束，希望有需求的各位同学能有点收获吧。</p>
<p>最后，预告一下服务器挂上公网的笔记。<del>只要我的宽带不是传说的虚拟IP</del></p>
<p>最后的最后，日常求<del>一键三连</del>收藏分享。 :@(击掌)</p>
]]></content>
      <categories>
        <category>软件</category>
      </categories>
      <tags>
        <tag>CentOS</tag>
        <tag>XDMCP</tag>
        <tag>Xmanager</tag>
      </tags>
  </entry>
  <entry>
    <title>ACFM裂纹检测改进——RACFM</title>
    <url>//2020/04/03/racfm-summary/</url>
    <content><![CDATA[<p>之前一段时间，阅读了一片裂纹检测的文章，写了篇内容摘要。</p>
<p>针对交变电场检测（ACFM）的方向性局限，文章<em>High sensitivity
rotating alternating current field measurement for arbitrary-angle
underwater
cracks</em>（下文简称“原文”）提出了基于旋转交变电场检测（RACFM）的裂纹检测方式，并通过模拟的海水环境实验验证了RACFM
对任意角度裂纹的灵敏性。</p>
<span id="more"></span>
<h2 id="论文背景">1 论文背景</h2>
<p>原文以离岸油气开采行业为实际应用背景，列举了当时水下管道裂纹检测的几种方法，并分析这些方法的特点和缺陷，请参见表1。针对当时普遍使用的交变电场检测（ACFM）的方向性局限，原文提出了一种新型的旋转交变电场检测（RACFM）在保证相对较高的灵敏度的前提下，克服方向性的局限。</p>
<table>
<tr>
<th colspan="3">
表1 多种裂纹检测比较
</th>
</tr>
<tr>
<th>
</th>
<th>
特点
</th>
<th>
缺陷
</th>
</tr>
<tr>
<th>
肉眼检查
</th>
<th>
实用、廉价
</th>
<th>
<ol type="1">
<li>高度依赖使用者的经验和能力<br>2. 不借助工具无法发现应力腐蚀开裂(SCC)
</li></ol></th>
</tr>
<tr>
<th>
磁粉探伤(MPI)
</th>
<th>
<ol type="1">
<li>使用最广泛<br>2. 使用铁屑探查裂纹
</li></ol></th>
<th>
MPI的检测性能依赖于结构体表面的平整程度，而水下表面清洁成本高昂
</th>
</tr>
<tr>
<th>
漏磁检测(MFL)
</th>
<th>
无接触检测，无需表面清洁
</th>
<th>
无法检测排列紧密的裂纹
</th>
</tr>
<tr>
<th>
涡流检测(ECT)
</th>
<th>
检测导电材料表面和亚表面的裂缝
</th>
<th>
水下结构体表面不规则，难以做到匀速检测装置离开，影响ECT精准性
</th>
</tr>
<tr>
<th>
交流电场检测(ACFM)
</th>
<th>
<ol type="1">
<li>无需表面清洁<br>2. 数学模型精确<br>3. 对检测装置移动具有高容忍度
</li></ol></th>
<th>
裂纹与感应电流垂直时，感应电流的扰动最大，与感应电流平行时最小，实际使用时需对同一位置多次检测，增加检测成本
</th>
</tr>
</table>



<h2 id="理论分析">2 理论分析</h2>
<p>ACFM
是一种基于交流电位差的裂纹检测手段。通以交流电的线圈在其周围产生变化的交流磁场，被测表面感应出感生电动势，产生变化的感生交流电场。当被测表面出现裂纹时，感生交流电场就会被干扰，同时交流磁场也会受到轻微的扰动。ACFM
就是通过检测交流磁场的扰动来检测裂纹的长度和深度，其原理框图请参见图1。</p>
<figure>
<img data-src="./2779082017.png" alt="图1 ACFM原理框图">
<figcaption aria-hidden="true">图1 ACFM原理框图</figcaption>
</figure>
<p>图2-a和图2-b分别为被测表面的裂纹与交流电场垂直和平行的示意图。显而易见，当交流电场的方向与裂纹垂直时，裂纹对交流电场的影响就会更加明显；反之，两者平行时，裂纹对交流电场的影响明显降低。原文针对这一局限，RACFM
使用双“U”型正交电感器产生周期旋转的交变磁场，感生出周期旋转的交变电场，最终实现电场与裂纹正交。一个周期内RACFM
感生交流电场方向理论示意图如图3所示。</p>
<p>原文针对这一局限，RACFM使用双“U”型正交电感器产生周期旋转的交变磁场，感生出周期旋转的交变电场，最终实现电场与裂纹正交。一个周期内RACFM感生交流电场方向理论示意图如图3所示。</p>
<figure>
<img data-src="./3338828193.jpg" alt="图2 裂纹角度对交流电场的影响">
<figcaption aria-hidden="true">图2 裂纹角度对交流电场的影响</figcaption>
</figure>
<figure>
<img data-src="./3045871072.jpg" alt="图3 周期内RACFM感生交流电场方向理论示意图">
<figcaption aria-hidden="true">图3
周期内RACFM感生交流电场方向理论示意图</figcaption>
</figure>
<h2 id="实验验证">3 实验验证</h2>
<p>原文使用RACFM与传统ACFM对照试验，除电感器的激励电流外，其余均相同。</p>
<p>探测器直线移动经过裂纹，通过改变路径与裂纹的夹角(0°-90°)来模拟任意角度的裂纹，记录<span class="math inline">\(B_x\)</span>和<span class="math inline">\(B_z\)</span>两个方向的磁感应强度，实验结果如图4所示。在夹角为0°时，RACFM和ACFM得到的扰动都有明显的波动，可以作为裂纹的依据。随着夹角不断变大，ACFM得到的磁感应强度扰动不断衰减，当夹角过大时，扰动被噪声覆盖。而RACFM得到的扰动则一直比较明显，不会随着夹角变化产生明显的衰减。</p>
<figure>
<img data-src="./1016029282.jpg" alt="图4 B_x和B_z实验数据">
<figcaption aria-hidden="true">图4 <span class="math inline">\(B_x\)</span>和<span class="math inline">\(B_z\)</span>实验数据</figcaption>
</figure>
<p>为了量化RACFM的性能，原文定义了x和z方向磁感应强度的灵敏度，见下方公式。</p>
<p><span class="math display">\[
\left\{ \begin{array}{l}
{S_x} = \frac{ {M{X_{max} } } }{ {M{X_0} } } \times 100\% \\
{S_z} = \frac{ {M{Z_{max} } } }{ {M{X_0} } } \times 100\%
\end{array} \right.
\]</span></p>
<p>其中，<span class="math inline">\(MX_0\)</span>表示无裂纹时，<span class="math inline">\(B_x\)</span>的幅度；<span class="math inline">\(M{X_{max}}\)</span>和<span class="math inline">\(M{Z_{max}}\)</span>分别表示<span class="math inline">\(B_x\)</span>和<span class="math inline">\(B_z\)</span>扰动的最大值。灵敏度与角度变化的关系如图5所示。随着路径与裂纹夹角不断变大，ACFM的灵敏度急剧降低，当夹角大于50°时，ACFM的两个方向灵敏度接近0；RACFM的灵敏度<span class="math inline">\(S_x\)</span>和<span class="math inline">\(S_z\)</span>虽然有衰减，但依旧处于较高的灵敏范围内，可以作为裂纹检测的依据。</p>
<figure>
<img data-src="./2353434411.jpg" alt="图5 S_x和S_z变化趋势">
<figcaption aria-hidden="true">图5 <span class="math inline">\(S_x\)</span>和<span class="math inline">\(S_z\)</span>变化趋势</figcaption>
</figure>
<p>根据实验结果，RACFM能克服传统ACFM的方向性局限，同时，RACFM还保持了较高的裂纹检测灵敏度，可以应用在实际的离岸油气开采行业的管道裂纹检测场景中。</p>
<hr>
<p>其实这篇文章提出的RACFM其实就是将ACFM从线到面，从单一角度扩展到多个角度，并不是特别深奥难懂的点子。甚至这样的例子也发生在平时的生活中，我们也许会写下“就这？”。前几天开始看<em>Talk
Like TED</em>，开篇第一句就是“Ideas are the currency of the twenty-first
century”。这就让我想起了RACFM这篇文章，以及经常遇见的“就这？”。</p>
]]></content>
      <categories>
        <category>硬件</category>
      </categories>
      <tags>
        <tag>summary</tag>
        <tag>检测</tag>
        <tag>电磁感应</tag>
      </tags>
  </entry>
  <entry>
    <title>Sigma 14-24mm f2.8 DG DN ART_by SonyAlphaBlog</title>
    <url>//2022/08/18/sigma-14-24mm-f2-8-dg-dn-art/</url>
    <content><![CDATA[<blockquote>
<p>源：<a href="https://sonyalpha.blog/2019/11/12/sigma-14-24mm-f2-8-dg-dn-art/">Sigma
14-24mm f2.8 DG DN ART_by SonyAlphaBlog</a></p>
</blockquote>
<h2 id="结论">1 结论</h2>
<p>Sigma 14-24mm F2.8 DG DN Art （<span class="math inline">\(7599_{JD,20220816}\)</span>）是一只非常不错的镜头；即使在6100万像素的A7R4上使用，也很适合建筑、风光和天文摄影。</p>
<span id="more"></span>
<p><img data-src="Pasted%20image%2020220830195252.png"></p>
<ul>
<li>优势
<ul>
<li>14mm端在F5.6光圈时有Outstanding级别的锐度</li>
<li>边角表现非常好</li>
<li>非常自然的色彩还原度</li>
<li>对于一只广角来说，背景虚化非常好；焦外光斑表现不错</li>
<li>Lightroom可以修正广角带来的畸变</li>
<li>14mm端暗角不明显</li>
<li>无慧差，很适合夜观星像</li>
<li>顶级的手感</li>
<li>有防尘防滴特性</li>
<li>照片的自动对焦非常好</li>
<li>比Sony FE 12-24mm F4 G（<span class="math inline">\(11543_{\mathbf{SONY},20220816}\)</span>）便宜</li>
</ul></li>
<li>一般
<ul>
<li>2.8光圈全开情况下，锐度只能达到Very Good的等级</li>
<li>光圈缩小至F5.6时，24mm端锐度只能达到Very
Good级别，与14mm端的Outstanding级别的锐度差距加大</li>
<li>如果要平衡边角和中心锐度，光圈需要缩小至F8</li>
<li>滤镜系统后置，使用时需要根据其形状进行选购或裁剪</li>
<li>体积和重量有进步，达到了其它竞品的平均水平</li>
<li>不可拆卸遮光罩，这一点和其它超广角镜头一样</li>
<li>没有镜身光学防抖，但可以依靠机身防抖</li>
</ul></li>
<li>缺陷
<ul>
<li>焦距范围受限</li>
<li>视频拍摄时，画面会出现闪烁</li>
<li>必须使用150mm滤镜系统</li>
</ul></li>
<li>镜头比较
<ul>
<li>可替换镜头
<ul>
<li><span class="math inline">\(\mathbf{SONY}\)</span> FE 12-24mm F4
G</li>
<li><span class="math inline">\(\mathbf{SONY}\)</span> FE 16-35mm F2.8
GM</li>
<li>Tamron 17-28mm F2.8 Di III RXD</li>
</ul></li>
<li>其实，真的说起来，还是只有<span class="math inline">\(\mathbf{SONY}\)</span> FE 12-24mm F4
G是同一等级比较的镜头。其他两只的焦距范围还是有点区别的。</li>
<li>这两只镜头其实都是非常不错的镜头。适马1424F2.8有着2.8的光圈，更加适合暗光环境和星空的摄影；索尼1224F4则有着12mm的广角端，这2mm的差距在取景范围上其实是有非常巨大的差别的。</li>
<li>锐度方面，适马1424F2.8在14mm端的中心锐度会有略微优势；索尼1224F4在24mm端稍微领先。边角情况，两只镜头表现差不多。</li>
<li>至于到底选哪一只，就要看你的更想要2.8光圈还是12mm广角了。毕竟，这两支镜头在各方面的表现都是非常不错的。</li>
</ul></li>
</ul>
<hr>
<h2 id="总体信息">2 总体信息</h2>
<h3 id="spec">2.1 SPEC</h3>
<ul>
<li>重量：795克</li>
<li>价格：<span class="math inline">\(7599_{JD,20220816}\)</span></li>
<li>长度：131mm</li>
<li>几乎没有使用通用滤镜的可能性</li>
<li>AF/MF切换按钮</li>
<li>可自定义的对焦保持按钮</li>
<li>11片光圈叶片</li>
<li>防尘防潮设计</li>
<li>最近对焦距离：28cm</li>
<li>后置滤镜插槽</li>
<li>不可拆卸遮光罩</li>
<li>遮光罩预留镜头盖槽</li>
<li>自带镜头盒</li>
<li>The build construction is excellent</li>
<li>自动对焦快速精准，非常安静</li>
<li>内变焦</li>
</ul>
<h3 id="后置滤镜系统">2.2 后置滤镜系统</h3>
<p>镜头尾部有后置滤镜插槽，并配有防掉落锁定。</p>
<p>按照官方的用户手册的说法，必须将滤镜裁剪成对应的形状才能在后置滤镜插槽中使用。
当然你也可以选择前置滤镜，但是得使用150mm的滤镜支架。</p>
<p>P.S. 目前已有厂商发布了定制的后置滤镜片。</p>
<h3 id="与sony-12-24mm-f4-g对比">2.3 与Sony 12-24mm F4 G对比</h3>
<p><span class="math inline">\(\mathbf{SONY}\)</span> FE 12-24mm F4
G</p>
<ul>
<li>重量：565克</li>
<li>长度：117mm</li>
<li>价格：<span class="math inline">\(11543_{\mathbf{SONY},20220816}\)</span></li>
<li>7片光圈叶片</li>
</ul>
<p>Sigma 14-24mm F2.8 DG DN Art</p>
<ul>
<li>重量：795克（重40%）</li>
<li>长度：131mm（长14mm）</li>
<li>价格：<span class="math inline">\(7599_{JD,20220816}\)</span>（便宜34%）</li>
<li>11片光圈叶片</li>
</ul>
<h2 id="光学性能">3 光学性能</h2>
<h3 id="锐度">3.1 锐度</h3>
<p>测试使用6100像素的A7R4。</p>
<p>14mm端，光圈全开时中心锐度为Very
Good级别；在F5.6光圈达到最佳锐度，为Outstanding级别。边角的锐度表现稍有不足。光圈F8时，中心和边角锐度一致，为Excellent级别。在F11时，开始出现衍射现象，锐度开始降低。</p>
<p>24mm端，锐度就有点差强人意了，中心和边角的锐度都只能达到Very
Good级别。</p>
<h3 id="锐度对比sony-12-24mm-f4-g">3.2 锐度（对比Sony 12-24mm F4
G）</h3>
<p>适马1424F2.8在14mm端表现稍好，24mm端则稍微落后。边角锐度相当。</p>
<p><img data-src="./Pasted%20image%2020220817171714.png"></p>
<h3 id="暗角色差畸变眩光星芒">3.3 暗角/色差/畸变/眩光/星芒</h3>
<ul>
<li>14mm端有明显的桶形畸变，24mm端有轻微的枕形畸变</li>
<li>暗角可见，尤其是14mm端，但毕竟是超广角嘛</li>
<li>色差非常微小，但在14mm会有出现</li>
<li>抗眩光非常好，但依旧无法完全消除，毕竟这是一只超广角镜头</li>
<li>在光圈F16至F22时，可以拍摄到不错的星芒</li>
<li>没有明显的慧差，适合夜观星象</li>
<li>Lightroom可以非常完美地校正畸变</li>
</ul>
<h3 id="焦外光斑色彩还原度">3.4 焦外光斑/色彩还原度</h3>
<ul>
<li>非常近的对焦距离（28cm）和F2.8的光圈可以获得一定程度的背景虚化。考虑到这是一只广角镜头，虚化的效果不算差</li>
<li>焦外光斑非常好</li>
<li>色彩还原度非常自然，表现非常好</li>
</ul>
<h2 id="视频">4 视频</h2>
<p>视频拍摄时，成像锐度、色彩还原度、背景虚化都是顶尖水平。但在进行变焦时，会有出现闪烁和光线变化；这种情况在其它的镜头上并没有见过，但这对于拍摄需要变焦的连续片段有很大的影响。具体原因还没有确定，可能是A7R4机身有bug。</p>
]]></content>
      <categories>
        <category>镜头</category>
      </categories>
      <tags>
        <tag>镜头</tag>
        <tag>适马Sigma</tag>
        <tag>E卡口</tag>
        <tag>全画幅</tag>
      </tags>
  </entry>
  <entry>
    <title>关于Spring框架的IOC和DI的理解</title>
    <url>//2018/01/26/spring-ioc-di/</url>
    <content><![CDATA[<p>Spring框架的详细内容就不赘述了。（也实在不是谦虚，主要是刚了解没几天，对Spring的框架完全没有概念）</p>
<p>下面来说说我，一个初学者，对DI的理解。</p>
<span id="more"></span>
<p>1.假如没有Spring，Java中实例化对象一般都是调用构造器。这样，每个对象实例化的时候都要执行一遍实例化的流程。
2.现在，有了Spring框架，可以使用依赖注入DI，将一些Java类预先进行实例化，并保存为对象模版。而之后的每次实例化都可以直接调用已经实例化成功的对象模版。</p>
<p>个人认为，当某一类实例化次数较多时，可以有效地减少系统运行的时间。同时，这也可以减少服务器的物力资源压力。假如某一服务要被调用一万次，那么这个service类就会被实例化一万次；而使用了IOC和DI之后，一方面，实例化一万个对象的时间可以节约下来，另外一方面，bean在生命周期结束会释放资源，减轻了服务器的资源压力。</p>
<p>这个是我今天看了Spring框架之后的理解。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (大犇.发现错误()) &#123;</span><br><span class="line">  大犇.println(错误);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>杂项</category>
      </categories>
      <tags>
        <tag>Spring</tag>
        <tag>前端</tag>
      </tags>
  </entry>
  <entry>
    <title>Sigma 100-400mm f5-6.3 DG DN OS Contemporary_by SonyAlphaBlog</title>
    <url>//2022/08/27/sigma-100-400mm-f5-6-3-dg-dn-os-contemporary/</url>
    <content><![CDATA[<blockquote>
<p>源：<a href="https://sonyalpha.blog/2020/07/21/sigma-100-400mm-f5-6-3-dg-dn-os-contemporary/">Sigma
100-400mm f5-6.3 DG DN OS Contemporary_by SonyAlphaBlog</a></p>
</blockquote>
<h2 id="结论">1 结论</h2>
<p>对于A7M3、A9或者A7R3来说，Sigma 100-400mm F5-F6.3 DG DN OS
Contemporary（<span class="math inline">\(5800_{TB,
20220818}\)</span>）是一只非常有性价比的好镜头；尤其是可以和Sony FE
24-105 F4 G OSS配合使用。</p>
<span id="more"></span>
<p><img data-src="./Pasted%20image%2020220830195148.png"></p>
<p>这只镜头的焦距范围非常适合运动、肖像、风景和动物的摄影。如果你主要使用400mm左右的焦端来拍摄动物，<span class="math inline">\(\mathbf{SONY}\)</span> FE 200-600mm F5.6-6.3 G
OSS（<span class="math inline">\(12700_{\mathbf{SONY},20220827}\)</span>）可能更加适合你。
在A7R4上使用时，适马的100400还是没办法和索尼的100400竞争，不管时锐度还是对焦速度都有一定差距。但是在像素稍微低一点的相机上，比如A7M3和A7R3，锐度上的差距就不是肉眼可察的了。
拍摄静物时，自动对焦还是挺不错的，但是拍摄运动物体就不太行了。你还是得用索尼的100400（<span class="math inline">\(17500_{\mathbf{SONY},20220827}\)</span>）。
所以，对于使用A7R4进行动物和体育摄影，还是推荐<span class="math inline">\(\mathbf{SONY}\)</span> FE 200-600mm F5.6-6.3 G
OSS。其他拍摄题材上，或者说预算有限，Sigma 100-400mm F5-F6.3 DG DN OS
Contemporary可以说是非常不错的平替了。</p>
<ul>
<li>优势
<ul>
<li>价格比较低（<span class="math inline">\(5800_{TB,
20220818}\)</span>）</li>
<li>重量比较轻</li>
<li>在2400万像素的A7M3和4200万像素的A7R3上妥妥够用，锐度在这两台机器上可以达到非常极致的体验</li>
<li>非常好的色彩还原度</li>
<li>非常柔和的背景虚化表现相当好</li>
<li>焦外光斑挺好</li>
<li>色散控制比较好</li>
<li>静物的自动对焦还是不错的</li>
<li>防抖效果挺好</li>
<li>做工非常棒</li>
<li>非常棒的人体工学设计</li>
</ul></li>
<li>一般
<ul>
<li>无法使用E卡口增距镜</li>
<li>在6100万像素的A7R4上只能达到Very Good级别的锐度</li>
<li>抗眩光一般</li>
<li>暗角和畸变需要后期调整</li>
<li>对于移动物体的连续自动对焦还是没办法和索尼比</li>
<li>脚架环需要另外购买，第三方价格为<span class="math inline">\(200_{TB,
20220818}\)</span></li>
<li>边角锐度一般</li>
</ul></li>
<li>缺陷
<ul>
<li>视频拍摄中，自动对焦无法时刻保持精准快速的性能</li>
</ul></li>
</ul>
<hr>
<h2 id="总体信息">2 总体信息</h2>
<h3 id="spec">2.1 SPEC</h3>
<ul>
<li>光圈
<ul>
<li>100mm端F5</li>
<li>400mm端F6.3</li>
</ul></li>
<li>重量
<ul>
<li>1180g</li>
<li>1210g（加上官方脚架环）</li>
</ul></li>
<li>长度
<ul>
<li>100mm端197mm</li>
<li>400mm端299mm</li>
</ul></li>
<li>直径86mm</li>
<li>9片光圈叶片</li>
<li>最近对焦距离
<ul>
<li>100mm端112cm</li>
<li>400mm端160cm</li>
</ul></li>
<li>放大倍率0.24</li>
<li>67mm滤镜口径</li>
<li>不支持E卡口增距镜</li>
<li>步进电机自动对焦</li>
<li>有光学防抖</li>
<li>镜身按钮
<ul>
<li>AF/MF切换</li>
<li>对焦范围限制</li>
<li>防抖模式切换</li>
<li>自动对焦锁定</li>
</ul></li>
<li>防尘防滴</li>
</ul>
<p>适马100-400mm的做工是挺好的，但和索尼的100400GM还是有差距的。大小和重量都是在可接受范围内，甚至比<span class="math inline">\(\mathbf{SONY}\)</span> 100400GM还要小。</p>
<p>适马100-400mm是首次在E卡口上使用光学防抖，手持体验不错。上三脚架时，需要手动关闭，否则出来的照片会糊掉。这一点上，索尼的镜头就做的比较好，会自动关闭光学防抖。官方标配不附带脚架环，需要另外购买官方脚架环；第三方脚架环<span class="math inline">\(200_{TB, 20220818}\)</span>左右。</p>
<p>最近对焦距离110cm@100mmm、160cm@400mm，放大倍率0.23。这方面要比<span class="math inline">\(\mathbf{SONY}\)</span>
100400GM差（最近对焦距离98cm，0.35放大倍率）。</p>
<p>另外，适马（包括腾龙）是不能使用索尼的增距镜的；即使装上去没有问题，但是没办法调节光圈和自动对焦。适马官方也有出增距镜，但是针对L卡口的，E卡口无法使用。</p>
<h3 id="自动对焦">2.2 自动对焦</h3>
<p>静物拍摄的自动对焦性能非常好，且可以调用眼控对焦。移动物体（运动、动物等）的拍摄就差强人意了，自动对焦和<span class="math inline">\(\mathbf{SONY}\)</span>
100400GM比不了，使用A7R4有30%几率会对不上焦。</p>
<h2 id="光学性能">3 光学性能</h2>
<h3 id="锐度">3.1 锐度</h3>
<p>测试使用6100万像素的A7R4。</p>
<ul>
<li>在A7R4上，锐度基本表现为Very
Good级别，但是很难达到Excellent级别。但在A7M3或者A7R3上，锐度肯定是爆表的，可以达到Excellent级别。</li>
<li>边角的锐度要比中心锐度低一个级别。</li>
</ul>
<p><img data-src="./Pasted%20image%2020220819100951.png"></p>
<h3 id="暗角畸变色差抗眩光">3.2 暗角/畸变/色差/抗眩光</h3>
<ul>
<li>光圈全开会有暗角，焦距增加后更加明显。</li>
<li>畸变表现为枕形畸变，100mm端表现得不是很明显，焦距扩展到400mm端会逐渐增加</li>
<li>色差非常小</li>
<li>眩光对于长焦来说不是什么问题，毕竟没有大聪明会一直怼着太阳拍。但是吧，这只镜头直对太阳时确实有不小的眩光。</li>
</ul>
<h3 id="虚化色彩还原度"> 3.3 虚化/色彩还原度</h3>
<ul>
<li>色彩还原度很好，对比度很高</li>
<li>背景虚化非常柔美</li>
<li>焦外光斑非常柔和，没有散射，没有洋葱圈。所有焦端范围内，光圈全开的光斑都挺圆的；收缩光圈之后，会有九边形出现。</li>
</ul>
<h2 id="对比sony-100-400mm">4 对比Sony 100-400mm</h2>
<h3 id="spec和自动对焦">4.1 SPEC和自动对焦</h3>
<p><span class="math inline">\(\mathbf{SONY}\)</span> FE 100-400mm GM
OSS F4.5-F5.6</p>
<ul>
<li>更重，更粗，做工更好</li>
<li>操控性更好，尤其还官方标配了脚架环。镜身有3个自定义按钮，可以使用增距镜，预留了一个小缺口以便直接调节可变滤镜。</li>
<li>最近对焦距离比适马更近，尤其是400mm端只有98cm，而适马有160cm；放大倍率也更好。</li>
<li>GM的自动对焦不论是纸面参数还是实际表现都是碾压级别的，且在捕捉快速运动对相识出现丢焦。</li>
<li>当然了，碾压的代价就是三倍的价格。</li>
</ul>
<table>
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"></th>
<th style="text-align: center;">Sigma</th>
<th style="text-align: center;">Sony</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">光圈</td>
<td style="text-align: center;">F5-6.3</td>
<td style="text-align: center;">F4.5-F.6</td>
</tr>
<tr class="even">
<td style="text-align: center;">重量</td>
<td style="text-align: center;">1180g-1210g</td>
<td style="text-align: center;">1395g-1586g</td>
</tr>
<tr class="odd">
<td style="text-align: center;">长度</td>
<td style="text-align: center;">197-299mm</td>
<td style="text-align: center;">205-307mm</td>
</tr>
<tr class="even">
<td style="text-align: center;">直径</td>
<td style="text-align: center;">86mm</td>
<td style="text-align: center;">93,9mm</td>
</tr>
<tr class="odd">
<td style="text-align: center;">光圈叶片数</td>
<td style="text-align: center;">9</td>
<td style="text-align: center;">9</td>
</tr>
<tr class="even">
<td style="text-align: center;">最近对焦距离</td>
<td style="text-align: center;">112-160cm</td>
<td style="text-align: center;">98cm-98cm</td>
</tr>
<tr class="odd">
<td style="text-align: center;">放大倍率</td>
<td style="text-align: center;">0.24x</td>
<td style="text-align: center;">0.35</td>
</tr>
<tr class="even">
<td style="text-align: center;">滤镜直径</td>
<td style="text-align: center;">67mm</td>
<td style="text-align: center;">77mm</td>
</tr>
<tr class="odd">
<td style="text-align: center;">增距镜</td>
<td style="text-align: center;">不支持E卡口</td>
<td style="text-align: center;">支持TC1.4和TC2.0</td>
</tr>
<tr class="even">
<td style="text-align: center;">自动对焦</td>
<td style="text-align: center;">步进电机</td>
<td style="text-align: center;">双线性直驱SSM</td>
</tr>
<tr class="odd">
<td style="text-align: center;">光学防抖</td>
<td style="text-align: center;">支持</td>
<td style="text-align: center;">支持</td>
</tr>
<tr class="even">
<td style="text-align: center;">镜身按钮</td>
<td style="text-align: center;">AF/MF切换，对焦距离限制，防抖模式，自定义</td>
<td style="text-align: center;">AF/MF切换，对焦距离限制，防抖模式，自定义</td>
</tr>
<tr class="odd">
<td style="text-align: center;">防尘防滴</td>
<td style="text-align: center;">支持</td>
<td style="text-align: center;">支持</td>
</tr>
<tr class="even">
<td style="text-align: center;">附件</td>
<td style="text-align: center;">镜头包；另购脚架环</td>
<td style="text-align: center;">镜头包；脚架环</td>
</tr>
<tr class="odd">
<td style="text-align: center;">价格</td>
<td style="text-align: center;"><span class="math inline">\(5800_{TB,
20220818}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(17500_{\mathbf{SONY},20220827}\)</span></td>
</tr>
</tbody>
</table>
<h3 id="锐度-1">4.2 锐度</h3>
<ul>
<li><span class="math inline">\(\mathbf{SONY}\)</span>的100-400mm在A7R4上可以提供更好的锐度。</li>
</ul>
<p><img data-src="./Pasted%20image%2020220819102131.png"></p>
<h3 id="畸变色差抗眩光">4.3 畸变/色差/抗眩光</h3>
<ul>
<li><span class="math inline">\(\mathbf{SONY}\)</span> FE 100-400mm GM
OSS F4.5-F5.6畸变抑制和暗角控制做得更好，并且在LR中已有矫正文件。</li>
<li>两只镜头的暗角都不明显</li>
<li><span class="math inline">\(\mathbf{SONY}\)</span>的抗眩光更好</li>
</ul>
<h3 id="虚化色彩还原度-1">4.4 虚化/色彩还原度</h3>
<ul>
<li>两只镜头的背景虚化、焦外光斑、色彩还原度都是顶级的存在。</li>
</ul>
<h2 id="视频">5 视频</h2>
<p>适马100-400mm在拍照上时挺不错的，但是视频拍摄时，会出现自动对焦慢和抽搐的情况。</p>
]]></content>
      <categories>
        <category>镜头</category>
      </categories>
      <tags>
        <tag>镜头</tag>
        <tag>适马Sigma</tag>
        <tag>E卡口</tag>
        <tag>全画幅</tag>
      </tags>
  </entry>
  <entry>
    <title>Sony FE 200-600mm F5.6-6.3 G OSS_by SonyAlphaBlog</title>
    <url>//2022/09/22/sony-fe-200-600mm-f5-6-6-3-g-oss/</url>
    <content><![CDATA[<blockquote>
<p>源：<a href="https://sonyalpha.blog/2019/08/14/sony-fe-200-600mm-f5-6-6-3-g-oss/">https://sonyalpha.blog/2019/08/14/sony-fe-200-600mm-f5-6-6-3-g-oss/</a></p>
</blockquote>
<h2 id="结论">1 结论</h2>
<p><span class="math inline">\(\mathbf{SONY}\)</span> FE200-600 GM OSS
F5.6-F6.3（<span class="math inline">\(12700_{\mathbf{SONY},20220831}\)</span>）是一只非常棒的远摄镜头，性价比极高，是同类产品中第一支内变焦设计的镜头。</p>
<p>如果像在座的大多数人一样，买不起索十万双雄——<span class="math inline">\(\mathbf{SONY}\)</span> 400mm F2.8 GM（<span class="math inline">\(95000_{\mathbf{SONY},20220831}\)</span>）和<span class="math inline">\(\mathbf{SONY}\)</span> 600mm F4 GM（<span class="math inline">\(105000_{\mathbf{SONY},20220831}\)</span>），那么，这只镜头将会是运动和动物摄影的完美工具。由于其出色的内变焦设计，200600
G的锐度和可用性上要比100400 GM更高。</p>
<span id="more"></span>
<p><img data-src="./sel200600g_01_190620.jpg"></p>
<p>另外，你得关注一下你手头的焦端配置。如果你只有<span class="math inline">\(\mathbf{SONY}\)</span> 24-70 F2.8 GM或者<span class="math inline">\(\mathbf{SONY}\)</span> 24-105mm F4
G，70mm到200mm之间的焦端缺失需要用<span class="math inline">\(\mathbf{SONY}\)</span> 70-200mm F4 G或者<span class="math inline">\(\mathbf{SONY}\)</span> 70-200mm F2.8
GM来补充；或者，不追求400mm到600mm焦端的话，选择一只<span class="math inline">\(\mathbf{SONY}\)</span> FE 100-400mm F4.5-5.6
GM就挺不错。</p>
<p>200600
G另一个超强的特性是它的背景虚化，真的非常柔和，非常讨喜，压缩效果会让你非常震惊。</p>
<p>200600
G可以配合增距镜使用，但只有在A9上能稳定高效工作。如果时A7R3，建议使用APS-C裁剪模式来获得更长的焦距；当然，直接使用APS-C的A6400也不错</p>
<p>200600
G可以使用转接环，但只有配合A9才能有不错的效果。如果时A7R3，见使用APSC裁剪模式来获得超过600mm的焦端；当然，直接使用A6400作为备机也是可以的。</p>
<p><strong>墙裂推荐</strong></p>
<ul>
<li><strong>优势</strong>
<ul>
<li>Excellent级别的锐度</li>
<li>非常快速的自动对焦</li>
<li>背景虚化非常棒</li>
<li>内变焦设计</li>
<li>总体可用性非常好</li>
<li>做工很好</li>
<li>焦外光斑非常好</li>
<li>无色散</li>
<li>抗眩光非常好</li>
<li>可使用增距镜TC 1.4和TC 2.0，但只能在A9上使用</li>
<li>配合APS-C的A6400，可将焦距扩展至300mm到900mm</li>
</ul></li>
<li><strong>一般</strong>
<ul>
<li>体积超级大，需要一个更加大的背包</li>
<li>自动对焦达不到拥有双线性马达的索尼GM系列的顶尖水平</li>
<li>枕形畸变，略有暗角，但都可以在LR中自动校正</li>
<li>最近对焦距离为2.4m，与适马、腾龙的同类产品一样</li>
<li>重量来到2115g，虽然在这个规格下还算标准，但是对于大多数人还是有点重了</li>
</ul></li>
<li><strong>缺陷</strong>
<ul>
<li>光圈较小，无法在A7R3上配合增距镜使用</li>
<li>光圈较小，ISO对环境光线要求比较高</li>
<li>在一些场景中，图像边缘的焦外光斑会有轻微紫边</li>
</ul></li>
</ul>
<hr>
<h2 id="总体信息">2 总体信息</h2>
<h3 id="spec">2.1 SPEC</h3>
<ul>
<li>重量：2115g（无脚架环）</li>
<li>价格：<span class="math inline">\(12700_{\mathbf{SONY},20220831}\)</span></li>
<li>长度：
<ul>
<li>318mm（无遮光罩）</li>
<li>415mm（有遮光罩）</li>
<li>内变焦设计</li>
</ul></li>
<li>直径：112mm</li>
<li>滤镜口径：95mm</li>
<li>防尘防潮</li>
<li>光学防抖</li>
<li>11片圆形光圈叶片</li>
<li>200g重的可拆卸脚架环，但在90°处无法进行固定</li>
<li>最近对焦距离：240cm，确实有点远</li>
<li>放大倍率：0.2</li>
<li>镜身有4个开关
<ul>
<li>AF/MF切换</li>
<li>对焦距离限制</li>
<li>光学防抖</li>
<li>防抖模式</li>
</ul></li>
<li>专门设计的2个背带孔</li>
<li>内变焦设计</li>
<li>使用直驱超声波电机实现快速、安静、精准的对焦</li>
<li>线性对焦环</li>
<li>5片ED（超低色散）镜片，1片非球面镜</li>
<li>纳米抗反射涂层</li>
<li>氟化物图层，防水防油渍</li>
<li>对焦保持按钮可自定义功能</li>
<li>官方标配遮光罩，103mm长，163g重</li>
<li>可使用增距镜
<ul>
<li>使用SEL14TC
<ul>
<li>焦距范围：280-840mm</li>
<li>光圈：F8-F9</li>
</ul></li>
<li>SEL20TC
<ul>
<li>焦距范围：400-1200mm</li>
<li>光圈：F11 – F13</li>
</ul></li>
</ul></li>
<li>官方标配便携袋</li>
</ul>
<p>200600 G是使用<span class="math inline">\(\mathbf{SONY}\)</span>
E卡口的动物/运动摄影师的心头好，补齐了长焦的又一块碎片。不需要再使用适马的150600或者腾龙的150600，也不再需要将100400
GM配合TC 1.4增距镜，只需要一只镜头就可以获得200-600mm这个焦段。</p>
<p>当然，这只镜头的体积真的是超级巨大，变焦范围也几乎是E卡口之最，但，是，200600
G是内变焦设计，真的鹅妹子嘤啊！与适马和腾龙的同类产品相比，200600
G在巨大的、固定长度的镜身里边实现了变焦，但也损失了使用手感和便携性。另外，内变焦设计可以提供更加出色的防尘效果。</p>
<p>这只镜头是<span class="math inline">\(\mathbf{SONY}\)</span>的G系列，所以定价会稍微保守一点（<span class="math inline">\(12700_{\mathbf{SONY},20220831}\)</span>），比100400
GM（<span class="math inline">\(17500_{\mathbf{SONY},20220827}\)</span>）便宜挺多的。</p>
<p>200600 G的做工是顶级水准。和100400
GM比会有一点点差距，但是防尘防水方面，200600 G无疑做的非常好。</p>
<p>200600
G长度非常长，取下遮光罩都有318mm。如果有人想不开想要挂机直接塞包里，最好量一下你的背～包～。</p>
<h3 id="遮光罩alc-sh-157">2.2 遮光罩（ALC-SH-157）</h3>
<ul>
<li>长度：103mm</li>
<li>重量：163g</li>
<li>没有预留滤镜调节孔</li>
<li>遮光罩顶端有很厚一层橡胶圈，方便垂直放置镜头，也能在碰撞起到缓冲</li>
</ul>
<h3 id="镜身开关按钮">2.3 镜身开关/按钮</h3>
<ul>
<li>AF/MF切换</li>
<li>自动对焦范围限制
<ul>
<li>10m以外</li>
<li>2.4m到10m</li>
<li>无限制</li>
</ul></li>
<li>光学防抖开关</li>
<li>光学防抖模式切换
<ul>
<li>常规模式</li>
<li>水平运动模式</li>
<li>无规则运动模式</li>
</ul></li>
</ul>
<h3 id="变焦环">2.4 变焦环</h3>
<ul>
<li>对焦环和变焦环转动阻尼设计的非常不错，转动起来非常流畅，不是那种松松垮垮的感觉。</li>
<li>200600 G变焦环的转动行程为70°。</li>
<li>与100400 GM相比，200600
G凭借内对焦设计在变焦时不发生明显的重心转移；转动变焦环的力度也小很多。</li>
</ul>
<h3 id="背带孔">2.5 背带孔</h3>
<ul>
<li>200600 G又大又重，你得使用镜身上的背带孔。</li>
</ul>
<h3 id="体积与竞品对比">2.6 体积（与竞品对比）</h3>
<p>与<span class="math inline">\(\mathbf{SONY}\)</span> FE 100-400mm
GM相比，200600 G尺寸更大，与100400 GM在400mm端加上TC
1.4增距镜的长度几乎一样。</p>
<ul>
<li>200600 G：318mm</li>
<li>100400 GM：
<ul>
<li>100mm端：205mm</li>
<li>400mm端：285mm</li>
<li>400mm端+TC 1.4增距镜：301mm</li>
</ul></li>
</ul>
<p>与使用适马MC11转接环的适马和腾龙的150600相比</p>
<ul>
<li>Sigma 150-600mm F5-6.3 Sport
<ul>
<li>长度：
<ul>
<li>150mm端：290mm</li>
<li>150mm端+适马MC11增距镜：316mm</li>
<li>600mm端：480mm</li>
<li>600mm端+适马MC11增距镜：506mm</li>
</ul></li>
<li>重量：2860g</li>
<li>价格：<span class="math inline">\(8699_{TB,20220910}\)</span></li>
<li>脚架环不可拆卸</li>
</ul></li>
<li>Tamron 150-600mm F5-6.3
<ul>
<li>长度：
<ul>
<li>150mm端：260mm</li>
<li>150mm端+适马MC11增距镜：286mm</li>
<li>600mm端：348mm</li>
<li>600mm端+适马MC11增距镜：374mm</li>
</ul></li>
<li>重量：1951g</li>
<li>价格：<span class="math inline">\(7450_{TB,20220910}\)</span></li>
</ul></li>
</ul>
<p>适马和腾龙的两只150600在价格上要便宜很多很多，但是内变焦设计的200600
G真的赢的太多了，仅仅在使用上就有无与伦比的美妙体验，跟别提它超快的自动对焦。</p>
<p>这几只镜头，除了100400
GM的最近对焦距离在1m左右，其它几只的最近对焦距离都在2.5m左右。</p>
<h2 id="光学性能">3 光学性能</h2>
<h3 id="锐度">3.1 锐度</h3>
<p>测试使用4200万像素的A7R3。</p>
<p><img data-src="./Pasted%20image%2020220922111728.png"></p>
<p>200600 G的锐度表现非常惊人，全焦段范围内的中心锐度都是Very
Good级别，甚至有部分场景可以达到Excellent级别；收缩光圈带来的锐度提升不是很明显。</p>
<h3 id="暗角畸变色散眩光星芒">3.2 暗角/畸变/色散/眩光/星芒</h3>
<ul>
<li>光圈全开的暗角比较小</li>
<li>有轻微的枕形畸变</li>
<li>没有色散</li>
<li>抗眩光表现非常出色</li>
<li>光圈小于F16时，星芒表现出色</li>
</ul>
<p>Lightroom有200600 G的矫正文件。</p>
<h3 id="背景虚化色彩还原度">3.3 背景虚化&amp;色彩还原度</h3>
<ul>
<li>背景虚化非常柔和，非常讨喜；本来是没有对这只光圈只有F5.6-6.3的长焦镜头有任何期待的。</li>
<li>压缩效果和虚化量会随着焦距拉长而不断增加；600mm端的虚化效果可以和135
GM的效果旗鼓相当了。</li>
<li>焦外光斑非常好，总体看上去挺圆的，也很柔和，毕竟200600
G的光圈只有F5.6-6.3。边角的光斑在F8时会开始变差，呈现出奇怪的形状。</li>
<li>如果仔细观察边角的光斑，光斑的一侧边缘会有轻微的紫边。</li>
<li>色彩还原度非常不错。</li>
</ul>
<h3 id="各种场景的使用体验">3.4 各种场景的使用体验</h3>
<p>考虑到200600
G的焦段和被摄物体（体育、动物、鸟…），最低快门速度最好为1/500s。即使时开最大光圈，光线充足情况下的ISO会达到800，阴天的ISP会达到25600。</p>
<p>如果你想降低ISO，那就用600
GM吧，F4大光圈会给你前所未有的体验，价格也是（<span class="math inline">\(105000_{\mathbf{SONY},20220831}\)</span>）。</p>
<p>当然，200600 G的变焦可以让你拍摄600定很难获得的构图和追踪效果。</p>
<p>独脚架使用：考虑到200600G的体积，如果需要等待超过10分钟来获取完美的时机，独脚架还是挺不错的。200600
G自带的脚架环可以适配1/4″ -20和3/8″-16两种尺寸的螺丝。</p>
<h3 id="自动对焦性能增距镜表现">3.5 自动对焦性能&amp;增距镜表现</h3>
<ul>
<li>使用A7R3拍摄，自动对焦性能非常不错</li>
<li>使用A9拍摄，加上A9的实时追焦能力，自动对焦性能更进一步，非常完美的对焦体验。</li>
</ul>
<p>尽管200600
G的自动对焦性能很出色，但和拥有双线性对焦马达的那几只镜头比（如400
GM）还是有些差距的，尤其是在拍摄快速移动的对象时。200600
G是一只G镜头，不是GM镜头，在考虑到200600G的售价，我们真的不能再要求更多了。</p>
<p>另外要注意的是，相位对焦（PDAF）对光圈有一定的要求，A7R3上光圈大于F8，A7M3上光圈大于F11，A9上光圈大于F16。</p>
<p>最新版固件的A9有专门针对200600
G进行优化，AFC实时追焦模式下，200mm端光圈F32、600mm端F36可以正常工作。</p>
<p>这就意味着，光圈F9上TC1.4、光圈F13上TC2.0在A7R3上可能无法正常工作，但在A9上完全没有问题，甚至A7M3也可以使用TC1.4。</p>
<p>如果你手上有A7R3或者A7R4，不要忘记使用APSC裁切来获得1600万或2800万像素，等效TC1.5；使用上更加自由，更加方便，而且没有光线损耗。</p>
<p>另一个增加焦段的方法是使用APSC画幅的相机，比如A6400。完美的自动对焦、1.5倍的裁切可以带来非常快速的等效300-900mm的自动对焦体验。</p>
<h3 id="初步结论">3.6 初步结论</h3>
<p><span class="math inline">\(\mathbf{SONY}\)</span> 200-600mm
F5.6-6.3在操作使用和成像质量上都是顶尖水准。</p>
<p>自动对焦快速稳定，锐度顶尖，色彩还原度非常好，背景虚化过渡自然柔和，焦外光斑在绝大多数情况下非常好。</p>
<p>200600 G绝对是体育和动物摄影的必备镜头。</p>
<h2 id="使用tc1.4的光学性能">4 使用TC1.4的光学性能</h2>
<h3 id="操作手感">4.1  操作手感</h3>
<p>增距镜SEL14TC（<span class="math inline">\(3900_{\mathbf{SONY},20220921}\)</span>）重167g，使用时长度17mm。</p>
<p>搭配200600 G后，相关参数如下：</p>
<ul>
<li>焦段：280-840mm</li>
<li>光圈：F8-F9</li>
<li>重量：2645g=镜头2115g+脚架环200g+遮光罩163g+增距镜167g</li>
<li>长度：335mm=无遮光罩镜头318mm+增距镜17mm</li>
<li>价格：<span class="math inline">\(16600_{\mathbf{SONY},20220921}\)</span>=镜头<span class="math inline">\(12700_{\mathbf{SONY},20220921}\)</span>+遮光罩<span class="math inline">\(3900_{\mathbf{SONY},20220921}\)</span></li>
</ul>
<p>使用TC1.4后，可以获得600-800mm这个焦段，但是光圈进一步缩小，快门速度最慢需要调整为1/1000s；同样的，ISO会更高，对于脚架的需求也更加迫切。</p>
<h3 id="自动对焦">4.2 自动对焦</h3>
<p>840mm端最大光圈F9，A7R3上的相位对焦无法正常工作，但是A7M3在光圈全开下还是可以工作的，A9更是完美适配（A9的相位对焦在200600G上可以实现在光圈F32下正常工作）。</p>
<p>A9的自动对焦完全不受增距镜的影响，顶级的快、准、稳。</p>
<p>也因此，除了锐度依旧使用4200万像素的A7R3，使用TC1.4的其它测试换用A9。</p>
<h3 id="锐度-1">4.3 锐度</h3>
<p>锐度测试使用4200万像素的A7R3。</p>
<p>840mm端</p>
<ul>
<li>中心
<ul>
<li>F9：Very Good</li>
<li>F11-F16：Excellent</li>
<li>F22：Very Good</li>
</ul></li>
<li>边角
<ul>
<li>F9：Good</li>
<li>F11-F16：Very Good</li>
<li>F22：Good</li>
</ul></li>
</ul>
<p>中心在收缩光圈后，锐度与不加增距镜持平。其他情况下，中心和边角都会有一定程度的锐度损失。</p>
<h3 id="暗角畸变">4.4 暗角/畸变</h3>
<ul>
<li>840mm端，畸变不可见；光圈F9下有轻微暗角，可通过Lightroom自动校正。</li>
</ul>
<h3 id="背景虚化色彩还原度-1">4.5 背景虚化/色彩还原度</h3>
<ul>
<li>背景虚化依旧过渡自然柔和，非常讨喜；而且增加焦距后，840mm提供的压缩使得虚化更加优秀了。</li>
<li>焦外光斑非常得圆，非常得柔和。边角的焦外光斑的紫边问题依旧存在。</li>
<li>色彩还原度非常不错。</li>
</ul>
<h3 id="mm端提供额外的放大">4.6 840mm端提供额外的放大</h3>
<h3 id="使用tc1.4的总结">4.7 使用TC1.4的总结</h3>
<p>200600
G配合TC1.4使用，中心锐度基本保持不变（光圈全开会有一点损耗，4200万像素840mmF9）。中心和边角都会有一定程度的锐度损失，但是都达到了Good或者Very
Good级别。</p>
<p>在2400万像素下，锐度表现依旧是非常得顶。</p>
<p>在A7R3上，由于相位对焦只能在最小F8下工作，使用TC1.4后，无法对移动物体相位对焦；但在A9上完全没有问题，Perfect！（A7M3和A7R4也只能在最小F11使用相位对焦。）</p>
<p>背景虚化/焦外光斑/色彩还原度依旧保持Very
Good到Excellent的级别；840mm带来的压缩效果是非常非常出色的。（可以去看看陈忠祥老师的800定人像、1200定人像，顾俊老师也用佳能新出的APSC青春砖微配800定拍过小芸。）</p>
<p>唯一的问题是ISO升高太快。最大光圈F9，快门速度1/1000s，大太阳下依旧需要1000的ISO。如果拍摄对象是静止的，倒是可以借助光学防抖略微降低快门速度，设置为1/125s或者1/500s。</p>
<h2 id="使用tc2.0的光学性能">5 使用TC2.0的光学性能</h2>
<h3 id="操作手感-1">5.1  操作手感</h3>
<p>增距镜SEL20TC（<span class="math inline">\(3900_{\mathbf{SONY},20220921}\)</span>）重207g，使用时长度27mm。</p>
<p>搭配200600 G后，相关参数如下：</p>
<ul>
<li>焦段：280-840mm</li>
<li>光圈：F8-F9</li>
<li>重量：2685g=镜头2115g+脚架环200g+遮光罩163g+增距镜207g</li>
<li>长度：345mm=无遮光罩镜头318mm+增距镜27mm</li>
<li>价格：<span class="math inline">\(16600_{\mathbf{SONY},20220921}\)</span>=镜头<span class="math inline">\(12700_{\mathbf{SONY},20220921}\)</span>+遮光罩<span class="math inline">\(3900_{\mathbf{SONY},20220921}\)</span></li>
</ul>
<p>使用TC2.0后，可以获得600-1200mm这个焦段，但是光圈进一步缩小，快门速度最慢需要调整为1/1000s；同样的，ISO会更高，对于脚架的需求也更加迫切。</p>
<h3 id="自动对焦-1">5.2 自动对焦</h3>
<p>只有A9可以在F13下正常相位对焦，完全不受增距镜的影响，顶级的快、准、稳。</p>
<p>也因此，除了锐度依旧使用4200万像素的A7R3，使用TC2.0的其它测试换用A9。</p>
<h3 id="锐度-2">5.3 锐度</h3>
<p>锐度测试使用4200万像素的A7R3。</p>
<p>1200mm端</p>
<ul>
<li>中心
<ul>
<li>F13：Good</li>
<li>F16：Very Good</li>
<li>F22：Good</li>
</ul></li>
<li>边角
<ul>
<li>F13-F22：Good</li>
</ul></li>
</ul>
<p>在A7R3上，中心锐度会比不加TC2.0降低一点，边角会降低挺多的。</p>
<p>在A9上，肉眼可见锐度降低了，但是还是很不错的表现，只是没有不装增距镜和使用TC1.4这两种情况下那么锐度爆表了。</p>
<h3 id="暗角畸变-1">5.4 暗角/畸变</h3>
<ul>
<li>1200mm端，畸变不可见；光圈F13下有轻微暗角，可通过Lightroom自动校正。</li>
</ul>
<h3 id="背景虚化色彩还原度-2">5.5 背景虚化/色彩还原度</h3>
<ul>
<li>背景虚化过渡超级自然，非常柔和，非常讨喜，非常像STF（Smooth Trans
Focus）镜头的成像效果；而且1200mm提供的压缩绝对是现象级那么惊人的程度。</li>
<li>焦外光斑依旧非常得圆，但已经开始有一点性能了。边角的焦外光斑的紫边问题依旧存在。</li>
<li>色彩还原度非常不错。</li>
</ul>
<div class="note info"><p>STF（Smooth Trans
Focus）镜头，具体怎么定义我不是很清楚；大致查了一下，<span class="math inline">\(\mathbf{SONY}\)</span> SAL135F28和老蛙 105mm f2 T
3.2 STF都是STF镜头。</p>
</div>
<h3 id="mm端提供额外的放大-1">5.6 1200mm端提供额外的放大</h3>
<h3 id="使用tc2.0的总结">5.7 使用TC2.0的总结</h3>
<p>200600 G配合TC2.0使用，即使是A9也只是达到了Good或者Very
Good级别。</p>
<p>最佳光圈来到了F16，也只有A9能在小于F13的情况下继续进行相位对焦。</p>
<p>背景虚化/焦外光斑/色彩还原度依旧保持Very
Good到Excellent的级别；1200mm带来的压缩效果是非常非常出色的。（可以去看看陈忠祥老师的800定人像、1200定人像，顾俊老师也用佳能新出的APSC青春砖微配800定拍过小芸。）</p>
<p>使用TC2.0最大的问题依旧是ISO，这一次是真的出了问题。人像拍摄中最低ISO来到了1600，通常会达到4000-6400。</p>
<p>手持已经无法保持构图了，独脚架或者三脚架你必须得有一个，必须！</p>
<p>200600
G配合TC2.0使用确实是可以获得还不错的成像的，但想过并不是最佳的。最适合TC2.0的还是索十万双雄——400
GM和600 GM。变焦镜头，例如720 GM、100400 GM和200600
G，还是用用TC1.4吧。</p>
<h2 id="对比sony-100-400-f4.5-5.6-gm-oss">6 对比Sony 100-400 F4.5-5.6 GM
OSS</h2>
<h3 id="spec-1">6.1  SPEC</h3>
<p>和100400 GM比较，200600 G要大得多，基本和100400
GM的400端装TC1.4一样的长度。</p>
<ul>
<li>尺寸
<ul>
<li>200600 G：318mm</li>
<li>100400 GM：
<ul>
<li>205mm（100mm端）</li>
<li>285mm（400mm端）</li>
<li>302mm（使用TC1.4后560mm端）</li>
</ul></li>
<li>100400 GM在便携性上还是更好。</li>
</ul></li>
<li>重量
<ul>
<li>200600 G：2115g</li>
<li>100400 GM：1562g=镜头1395g+TC1.4增距镜167g</li>
<li>100400 GM轻25%。</li>
</ul></li>
<li>价格
<ul>
<li>200600 G：<span class="math inline">\(12700_{\mathbf{SONY},20220831}\)</span></li>
<li>100400 GM：<span class="math inline">\(17500_{\mathbf{SONY},20220827}\)</span></li>
<li>100400 GM+TC1.4：<span class="math inline">\(21400_{\mathbf{SONY},20220921}\)</span>=<span class="math inline">\(17500_{\mathbf{SONY},20220827}\)</span>+<span class="math inline">\(3900_{\mathbf{SONY},20220921}\)</span></li>
<li>200600 G便宜40%。</li>
</ul></li>
<li>其它
<ul>
<li>100400
GM放大倍率更大，最近对焦距离更小，在特写镜头拍摄上更有优势。</li>
<li>100400 GM上TC1.4后，光圈会比200600
G更小；所以在560mm这个焦段，200600 G的进光量会稍稍多一点。</li>
</ul></li>
</ul>
<h3 id="上手使用">6.2 上手使用</h3>
<p>200600 G肉眼可见的又大又重，便携性要比100400
GM差，但内变焦设计带来的便利也是非常大的。变焦环的阻尼非常合适，一根手指即可转动，再加上70°的变焦行程，变焦体验非常棒。100400
GM是外变焦设计，100mm端和400mm端的长度差距还是挺多的，很难用一根手指进行变焦；同时，镜头+机身的中心也会出现些许变化，对拍摄会有或多或少的影响。</p>
<h3 id="锐度-3">6.3 锐度</h3>
<p>测试使用4200万像素的A7R3。测试使用200600 G和100400
GM+TC1.4两种使用情况在400mm端和560mm端进行锐度测试。</p>
<ul>
<li>400mm端
<ul>
<li>200600 G锐度稍稍领先，可以达到Excellent级别</li>
<li>100400 GM只能达到Very Good级别</li>
</ul></li>
<li>560mm端
<ul>
<li>200600 G锐度虽然还是Excellent级别，但是肉眼可见超过100400 GM</li>
<li>100400 GM只能达到Very Good级别</li>
</ul></li>
</ul>
<h3 id="对比结论">6.4 对比结论</h3>
<p>尽管200600 G并不是一只GM镜头，但是在400mm端的表现要略微胜过100400
GM，更别说多出来的560-600mm的焦段了。</p>
<p>所以，如果你常用焦段超过300mm，或者需要使用500-600mm，那么200600
G不管在成像质量还是内变焦的易用性上都是领先的。</p>
<p>200600 G唯一的缺点就是体积。</p>
<p>同样需要注意的还有焦段补充。如果已有2470 GM或者24105 G，你可能需要720
GM或者720
G来补充70-200mm这个焦段；如果你一般不使用超过400mm的焦段，100400 GM
可能更加适合你，毕竟它要轻得多，你一定会更加愿意带出去。</p>
<h2 id="视频">7 视频</h2>
<p>200600
G拥有可靠的自动对焦和漂亮的背景虚化，视频拍摄的表现相当不错。但由于焦距的原因，必须使用三脚架或者独脚架。</p>
]]></content>
      <categories>
        <category>镜头</category>
      </categories>
      <tags>
        <tag>镜头</tag>
        <tag>E卡口</tag>
        <tag>全画幅</tag>
        <tag>索尼Sony</tag>
      </tags>
  </entry>
  <entry>
    <title>斯普林格Springer免费书籍</title>
    <url>//2020/06/24/springer-free-books-2020/</url>
    <content><![CDATA[<p>2020年不知不觉已经过去一半时间了。 :@(汗)<br>
<a href="https://www.springer.com">斯普林格，Springer</a>，是欧美非常著名的科技图书出版社。目前全球都被Covid-19笼罩，为了帮助有学习需求的同学，Springer将许多专业方面的教科书公开下载。</p>
<span id="more"></span>
<p>Springer这次公开下载的书籍的<a href="https://resource-cms.springernature.com/springer-cms/rest/v1/content/17858272/data/v8">列表</a>。</p>
<p>为了方便不同专业的进行快速检索，有大佬按照学科类别整理了这些免费书籍，<a href="https://hnarayanan.github.io/springer-books/">点这里</a>。当然，如果知道关键词，网页内搜索更加方便。</p>
<p>希望这次的书籍公开下载可以给需要这部分资料的同学提供亿点点帮助。</p>
<hr>
<blockquote>
<p>考研终于上岸了，需要提交的资料也已经基本搞定，就等开学了。<br>
最近一段时间在从头开始学习FPGA，目前进度VHDL语法。之后，我准备把这次的学习比较上传到博客，敬请期待...</p>
</blockquote>
]]></content>
      <categories>
        <category>杂项</category>
      </categories>
      <tags>
        <tag>资源</tag>
        <tag>书籍</tag>
      </tags>
  </entry>
  <entry>
    <title>Sony FE PZ 16-35mm f4 G_by SonyAlphaBlog</title>
    <url>//2022/08/30/sony-pz-16-35mm-f4-g/</url>
    <content><![CDATA[<blockquote>
<p>源：<a href="https://sonyalpha.blog/2022/05/10/sony-pz-16-35mm-f4-g/">https://sonyalpha.blog/2022/05/10/sony-pz-16-35mm-f4-g/</a></p>
</blockquote>
<h2 id="结论">1 结论</h2>
<p><span class="math inline">\(\mathbf{SONY}\)</span> FE PZ 16-35mm F4
G（<span class="math inline">\(8299_{\mathbf{SONY},20220829}\;7599_{JD,20220829}\)</span>）是一只非常棒的广角视频镜头，也可以说是<span class="math inline">\(\mathbf{SONY}\)</span> FEC 16-35mm T3.1（<span class="math inline">\(41999_{\mathbf{SONY},20220829}\)</span>）这只电影镜头的“青春版”。新的PZ
1635 G做工非常棒，非常紧凑，非常轻，上稳定器简直完美。同时，PZ 1635
G专为视频拍摄设计的人体工学设计也超级棒，拥有你们想要的所有按钮和调节环。</p>
<span id="more"></span>
<p><img data-src="./Pasted%20image%2020220830194913.png"></p>
<p>当然了，PZ 1635
G的性能也是巅峰级别的。拍照的锐度表现上，有Excellent级别的中心锐度，Very
Good级别的边角锐度。色彩还原度、对比度、焦外光斑都是顶尖水平；35mm端近摄的背景虚化非常好；抗眩光表现也非常好。</p>
<p>PZ 1635
G有专为视频拍摄的顶尖人体工学设计：电动变焦（可使用镜身、机身、遥控器）、线性对焦环、有级/无极光圈环、变焦环。</p>
<p>可以使用<span class="math inline">\(\mathbf{SONY}\)</span>
GP-VPT2BT遥控器进行远程控制，PZ 1635
G拍摄非常便利，真的是“本当に上手”。</p>
<ul>
<li>对比<span class="math inline">\(\mathbf{SONY}\)</span> FE 16-35 mm
F2.8 GM（<span class="math inline">\(15499_{\mathbf{SONY},20220829}\;10800_{TB,20220829}\)</span>），PZ
1635 G只有在4800万和6100万像素下，边角有一点点小缺点。</li>
<li>对比<span class="math inline">\(\mathbf{SONY}\)</span> FEC 16-35mm
T3.1（<span class="math inline">\(41999_{\mathbf{SONY},20220829}\)</span>），PZ 1635
G缺少了变焦速度调节、遮光斗接口、对焦环和变焦环的机械限位和刻度。但是，我要说但是了，你看看FEC电影头的价格和重量，还要什么自行车啊？！</li>
<li>对比<span class="math inline">\(\mathbf{SONY}\)</span> Vario Tessar
T FE 16-35mm F4 ZA OSS（<span class="math inline">\(7100_{\mathbf{SONY},20220829}\)</span>），PZ 1635
G全方位碾压，完胜！</li>
<li>对比Tamron 17-28mm F2.8 Di III RXD（<span class="math inline">\(5980_{TB,20220829}\)</span>），PZ 1635
G画质更锐，对焦更快，虚化更好，色彩还原度更佳，焦段更大，人体工学设计更棒，体积更小，重量更轻；只是光圈也小了一点。</li>
</ul>
<p>如果你只是进行风光和建筑摄影，那么<span class="math inline">\(\mathbf{SONY}\)</span> FE 16-35 mm F2.8 GM（<span class="math inline">\(15499_{\mathbf{SONY},20220829}\;10800_{TB,20220829}\)</span>）在边角依然有优势。其他的场景下，新的PZ
16-35mm F4 G是非常推荐的选择，甚至值得给一个GM的橙色标。</p>
<p><strong>墙裂推荐</strong></p>
<ul>
<li>优势
<ul>
<li>Excellent级别的中心锐度</li>
<li>Very Good级别边角锐度非常</li>
<li>为视频设计的极致人体工学设计
<ul>
<li>Power Zoom电动变焦可以在镜头和相机上调节，甚至可以远程操控</li>
<li>有级/无极光圈环</li>
<li>线性对焦环</li>
</ul></li>
<li>呼吸效应微乎其微</li>
<li>变焦时不会失焦</li>
<li>小巧的镜身非常适合上稳定器拍Vlog</li>
<li>极致的色彩还原度</li>
<li>极致的对比度</li>
<li>抗眩光非常好</li>
<li>焦外光斑非常好</li>
<li>防尘防滴</li>
<li>做工超级棒</li>
<li>低色散</li>
<li>巅峰级别的自动对焦</li>
</ul></li>
<li>一般
<ul>
<li>价格</li>
<li>背景虚化有一点busy</li>
<li>变焦环没有机械限位，也没有变焦标记</li>
</ul></li>
<li>缺陷
<ul>
<li>16mm端畸变和暗角</li>
</ul></li>
</ul>
<hr>
<h2 id="总体信息">2 总体信息</h2>
<ul>
<li>重量：353g</li>
<li>价格：<span class="math inline">\(8299_{\mathbf{SONY},20220829}\;7599_{JD,20220829}\)</span></li>
<li>光圈：F4 – F22</li>
<li>长度：88.1mm</li>
<li>滤镜口径：72mm</li>
<li>7片光圈叶片</li>
<li>有级/无极光圈环</li>
<li>速度可调节的电动变焦</li>
<li>双XD线性马达</li>
<li>按键：AF/MF切换，光圈锁定，对焦保持，电动变焦拨杆</li>
<li>防尘防潮</li>
<li>最近对焦距离：
<ul>
<li>16mm端：28cm</li>
<li>35mm端：24 cm</li>
</ul></li>
<li>官方标配遮光罩</li>
</ul>
<p><span class="math inline">\(\mathbf{SONY}\)</span> PZ 16-35mm F4
G是一只新出的紧凑的广角镜头，可以替代非常古早的<span class="math inline">\(\mathbf{SONY}\)</span> Vario Tessar T FE 16-35mm
F4 ZA
OSS。虽然价格有一点提高，但是功能和性能上的提升要大得多，完全对得起这点差价。</p>
<p>这只新的变焦镜头专为视频而生，配备了</p>
<ul>
<li>可以平滑变焦的电动变焦拨杆，变焦速度根据拨动力度可调。搭配原厂的RMT-P1BT或者GP-VPT2BT可以实现远程电动变焦控制。</li>
<li>有级/无极光圈环，镜身自动光圈档位。</li>
<li>线性对焦环。</li>
<li>变焦不丢焦，且没有呼吸效应</li>
</ul>
<p>做工和人体工学设计极为优秀：镜身有对角、变焦、光圈三个调节环；镜身紧凑、轻巧但依旧有丰富的按钮。</p>
<p>PZ 1635 G同样可以和又大又重又贵的<span class="math inline">\(\mathbf{SONY}\)</span> FEC 16-35mm
T3.1电影头一较高下。FEC 1635的焦段与PZ 1635
G相同，但拥有更大更精准的通光量，同时又齿轮组为跟焦提供便利。</p>
<p>PZ 1635 G采用内变焦设计，非常适合手持上稳定器和Vlog。</p>
<p>PZ 1635
G的主要缺点实在拍照上面。变焦环和对焦环没有机械限位，也没有标记，不利于快速调整到特定的焦距。</p>
<p><strong>自动对焦性能</strong></p>
<ul>
<li>拍照和视频的自动对焦都非常快速、精准、安静。连拍模式下，对焦性能依旧非常棒，有95%的几率对焦到主体。</li>
<li>可以完美配合相机的眼控对焦/追焦功能。</li>
<li>镜头支持A1的30fps连拍</li>
</ul>
<h2 id="光学性能">3 光学性能</h2>
<p>测试使用6100万像素的A7R4。</p>
<h3 id="锐度">3.1 锐度</h3>
<figure>
<img data-src="./Pasted%20image%2020220830194427.png" alt="PZ 1635 G锐度表现">
<figcaption aria-hidden="true">PZ 1635 G锐度表现</figcaption>
</figure>
<ul>
<li>F4光圈时，中心锐度都可以达到Excellent级别，在16mm端可以达到Outstanding级别。</li>
<li>在6100万像素下，边角锐度稍差，只能达到Very Good级别。</li>
<li>最佳焦距为35mm。</li>
</ul>
<p>对于这样一只如此轻便、紧凑的镜头来说，这样的锐度表现是非常不错的。</p>
<p><strong>人像锐度</strong></p>
<ul>
<li>这只镜头拍摄人像是锐不可当，只看锐度可以说有点过分了。色彩还原度非常好，对比度真的非常不错。</li>
</ul>
<h3 id="暗角色散畸变抗眩光星芒">3.2 暗角/色散/畸变/抗眩光/星芒</h3>
<ul>
<li>16mm端的畸变是真的非常巨大。机内会有自动校正，后期也可以使用自动校正文件。</li>
<li>35mm端的畸变就好很多了，但是依旧肉眼可见。</li>
<li>16mm端会出现暗角，35mm端则没有。</li>
<li>色散非常轻微。</li>
<li>抗眩光在全焦段都做的非常好，大多数情况下都不会出现眩光，只有在一些极为严苛的条件下才略微有一点眩光。</li>
<li>光圈缩小到F16至F22可以获得很不错的星芒。</li>
</ul>
<h3 id="焦外光斑色彩还原度">3.3 焦外光斑/色彩还原度</h3>
<ul>
<li>焦外光斑非常不错，主要出现在35mm端。光斑非常完美，非常圆，在光圈大于F8时肉眼无法看到7片光圈叶片带来的多边形。</li>
<li>对于1635来说，背景虚化算是好的。静距离拍摄时，虚化柔和；主体稍远时，就显得不太足够了。</li>
<li>色彩还原度非常好，色彩饱和度非常好，对比度很高，用来风光摄影和建筑摄影非常合适。</li>
</ul>
<h2 id="视频">4 视频</h2>
<ul>
<li>不管是视频拍摄的锐度还是色彩还原度，都是顶尖水平；风光、建筑、街拍、人像都可以很好地适应，也适合Vlog、稳定器、访谈等场景。</li>
<li>自动对焦完美契合相机，简直是杰作。</li>
<li>人体工程学设计非常棒，丝滑的电动变焦不仅可以调节变焦速度，还能通过<span class="math inline">\(\mathbf{SONY}\)</span> GP-VPT2BT远程控制。</li>
<li>无级光圈环在视频拍摄中非常顶。</li>
<li>手动对焦时，线性对焦环使用体验非常好。</li>
<li>内变焦设计，电动变焦没有很大的移动，这部分的平衡做得很好。</li>
<li>呼吸效应微不可察。</li>
<li>齐焦镜头：变焦时，对焦点不变。</li>
</ul>
<p>PZ 1635 G绝对是视频拍摄的主宰者。</p>
<h2 id="对比其它1635">5 对比其它1635</h2>
<p>主要的竞争者是</p>
<ul>
<li><span class="math inline">\(\mathbf{SONY}\)</span> Vario Tessar T FE
16-35mm F4 ZA OSS</li>
<li><span class="math inline">\(\mathbf{SONY}\)</span> FEC 16-35mm
T3.1</li>
<li><span class="math inline">\(\mathbf{SONY}\)</span> FE 16-35 mm F2.8
GM</li>
<li>Tamron 17-28mm F2.8 Di III RXD</li>
</ul>
<p>直接的对手是SPEC类似的<span class="math inline">\(\mathbf{SONY}\)</span> Vario Tessar T FE 16-35mm
F4 ZA OSS，另一个是有电子变焦的<span class="math inline">\(\mathbf{SONY}\)</span> FEC 16-35mm
T3.1，可以看做是<span class="math inline">\(\mathbf{SONY}\)</span> FE
16-35 mm F2.8 GM的电影版本。</p>
<p>Tamron 17-28mm F2.8 Di III
RXD价格很赞，就是焦段少了很多，当然光圈挺大，不太适合视频拍摄。</p>
<h3 id="spec">5.1 SPEC</h3>
<p>E卡口1635变焦竞品对比</p>
<table>
<colgroup>
<col style="width: 2%">
<col style="width: 26%">
<col style="width: 17%">
<col style="width: 15%">
<col style="width: 26%">
<col style="width: 11%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><span class="math inline">\(\mathbf{SONY}\)</span> <strong>PZ
16-35mm F4 G</strong></th>
<th><span class="math inline">\(\mathbf{SONY}\)</span> Vario Tessar T FE
16-35mm F4 ZA OSS</th>
<th><span class="math inline">\(\mathbf{SONY}\)</span> FEC 16-35mm
T3.1</th>
<th><span class="math inline">\(\mathbf{SONY}\)</span> FE 16-35 mm F2.8
GM</th>
<th>Tamron 17-28mm F2.8 Di III RXD</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>价格</td>
<td><span class="math inline">\(\begin{aligned}&amp;8299_{\mathbf{SONY},20220829}\\&amp;7599_{JD,20220829}\end{aligned}\)</span></td>
<td><span class="math inline">\(7100_{\mathbf{SONY},20220829}\)</span></td>
<td><span class="math inline">\(41999_{\mathbf{SONY},20220829}\)</span></td>
<td><span class="math inline">\(\begin{aligned}&amp;15499_{\mathbf{SONY},20220829}\\&amp;10800_{TB,20220829}\end{aligned}\)</span></td>
<td><span class="math inline">\(7100_{\mathbf{SONY},20220829}\)</span></td>
</tr>
<tr class="even">
<td>重量</td>
<td><strong>353g</strong></td>
<td>518g</td>
<td>1390g</td>
<td>686g</td>
<td>420g</td>
</tr>
<tr class="odd">
<td>长度</td>
<td><strong>88.1mm</strong></td>
<td>98.5mm</td>
<td>147mm</td>
<td>125mm</td>
<td>99mm</td>
</tr>
<tr class="even">
<td>自动对焦性能</td>
<td><strong>很棒</strong></td>
<td>很棒</td>
<td>还行</td>
<td>很棒</td>
<td>还行</td>
</tr>
<tr class="odd">
<td>镜身按钮/调节环</td>
<td><strong>AF/MF切换，光圈锁定，对焦保持，电动变焦拨杆，有级/无极光圈环</strong></td>
<td>变焦环，对焦环</td>
<td>跟焦齿轮组，有级/无极光圈，光圈环，带对焦标记的对焦环，带变焦标记的变焦环，对焦保持，光圈锁定，电动变焦拨杆</td>
<td>AF/MF切换，对焦保持</td>
<td>None</td>
</tr>
<tr class="even">
<td>最近对焦距离</td>
<td><strong>24-28cm</strong></td>
<td>28cm</td>
<td>28cm</td>
<td>28cm</td>
<td>19-26cm</td>
</tr>
<tr class="odd">
<td>做工</td>
<td><strong>很棒</strong></td>
<td>还行</td>
<td>很棒</td>
<td>很棒</td>
<td>还行</td>
</tr>
<tr class="even">
<td>光圈叶片</td>
<td><strong>7</strong></td>
<td>7</td>
<td>11</td>
<td>11</td>
<td>9</td>
</tr>
<tr class="odd">
<td>滤镜口径</td>
<td><strong>72</strong></td>
<td>72</td>
<td>114</td>
<td>82</td>
<td>67</td>
</tr>
<tr class="even">
<td>防尘防滴</td>
<td><strong>有</strong></td>
<td>有</td>
<td>有</td>
<td>有</td>
<td>有</td>
</tr>
</tbody>
</table>
<ul>
<li>从SPEC比较来看，PZ 1635 G是最轻最小的；它和FEC
1635电影头一样，操控性拉满（电动对焦、有极/无极光圈环等）。</li>
<li>自动对焦方面，PZ 1635 G是这几只中最快的一只。</li>
</ul>
<h3 id="锐度-1">5.2 锐度</h3>
<ul>
<li>对比<span class="math inline">\(\mathbf{SONY}\)</span> Vario Tessar
T FE 16-35mm F4 ZA OSS，没什么可比性，PZ 1635 G全面碾压。</li>
<li>对比<span class="math inline">\(\mathbf{SONY}\)</span> FE 16-35 mm
F2.8 GM，两者中心锐度基本相当，但是GM的边角可以达到Excellent级别，PZ
1635 G只能达到Very Good级别。</li>
<li>对比Tamron 17-28mm F2.8 Di III RXD，PZ 1635会略微强于1728。</li>
</ul>
<figure>
<img data-src="./Pasted%20image%2020220830194647.png" alt="锐度对比">
<figcaption aria-hidden="true">锐度对比</figcaption>
</figure>
<h3 id="背景虚化和焦外光斑">5.3 背景虚化和焦外光斑</h3>
<ul>
<li>背景虚化：除了F2.8那几只镜头在虚化质量上有些优势，其实1635这个焦段的虚化表现都不是非常优秀，尤其是在近距离拍摄中。</li>
<li>焦外光斑：索蔡的光斑不太圆；PZ 1635 G更好一点；1635
GM凭借11片光圈叶片可以获得最好的效果。</li>
<li>色彩还原度/对比度：PZ 1635 G这两方面要比1635
GM更甚一筹，可以提供更加生动、对比度更高的图像。</li>
</ul>
<h3 id="人像">5.4 人像</h3>
<ul>
<li>1635 GM毋庸置疑是最适合人像的，其次就是新的PZ 16-35 G。</li>
<li>1728最大焦距只有28mm，是个不可忽视的缺陷。</li>
</ul>
<h3 id="畸变色散暗角抗眩光">5.5 畸变/色散/暗角/抗眩光</h3>
<ul>
<li>PZ 1635
G的畸变和暗角控制是这几只最差的，尤其是在16mm端，但是都可以后期自动矫正。</li>
<li>抗眩光和色散是顶尖水平。</li>
</ul>
<h3 id="视频-1">5.6 视频</h3>
<p>PZ 1635 G和超贵的FEC 1635电影头一样，是最好的视频镜头。FEC
1635电影头有特制的视频控制控件、适配跟焦器的调节环、变焦标记和对焦标记；但是超重、超大的镜身只能安装在脚架上用于电影拍摄。PZ
1635
G则非常适合手持Vlog。其它几支镜头就没什么可说的了，光为视频拍摄的人体工学设计这块就远远落后于这两只了。</p>
<h3 id="对比结论">5.7 对比结论</h3>
<p>PZ 1635 G是一只非常不错的1635变焦，在视频拍摄上是顶尖水平。</p>
<p>对于照片拍摄，<span class="math inline">\(\mathbf{SONY}\)</span> FE
16-35 mm F2.8 GM只会在5000万和6100万像素的变焦有优势。</p>
<p>对于视频拍摄，PZ 1635 G更加适合日常使用，又贵又大又重的FEC
1635电影头还是在非动态场景中更加适用。</p>
]]></content>
      <categories>
        <category>镜头</category>
      </categories>
      <tags>
        <tag>镜头</tag>
        <tag>E卡口</tag>
        <tag>全画幅</tag>
        <tag>索尼Sony</tag>
      </tags>
  </entry>
  <entry>
    <title>STM32基础_GPIO流水灯</title>
    <url>//2017/07/28/stm32-gpio-led/</url>
    <content><![CDATA[<p>从一个月前开始学习STM32，对于MCU的理解也更加深入透彻。今天开始就陆续将自己在学习中的经历发布到这里（当然，更新随缘）。</p>
<span id="more"></span>
<h2 id="流水灯实验原理">1 流水灯实验原理</h2>
<p>LED模块的原理图如图1所示：</p>
<figure>
<img data-src="./1646673628.png" alt="图1 LED模块原理图">
<figcaption aria-hidden="true">图1 LED模块原理图</figcaption>
</figure>
<p>从原理图中可以很清楚地看出来，只有把左边引脚设成低电平，LED灯就会被点亮，否则，LED灯处于熄灭状态。
因此，STM32的作用就是按一定规律把GPIOD的2、3、4、7引脚拉低拉高。</p>
<h2 id="管脚配置">2 管脚配置</h2>
<p>STM32的管脚和8051MCU相比，功能更加丰富。STM32的管脚可以设置成不同的功能，成为“分时复用”，具体请移步ST提供的<a href="http://www.st.com/content/ccc/resource/technical/document/datasheet/e4/f3/1a/89/5a/02/46/ae/CD00220364.pdf/files/CD00220364.pdf/jcr:content/translations/en.CD00220364.pdf">DataSheet</a>和<a href="http://www.st.com/content/ccc/resource/technical/document/reference_manual/59/b9/ba/7f/11/af/43/d5/CD00171190.pdf/files/CD00171190.pdf/jcr:content/translations/en.CD00171190.pdf">参考手册</a>。</p>
<p>同时，不同于51MCU的流水灯程序（以AT89S52为例）：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> </span></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> nCount)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line">    P1 = <span class="number">0xfe</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">        P1 = _crol_ (P1,<span class="number">1</span>); <span class="comment">//循环左移函数，在intrins.h中定义</span></span><br><span class="line">        delay(<span class="number">5000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">delay</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> nCount)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(; nCount != <span class="number">0</span>; nCount--);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>将STM32的管脚拉低拉高需要配置STM32管脚的输入输出模式，详见下表：</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">模式名称</th>
<th style="text-align: center;">标识</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">浮空输入</td>
<td style="text-align: center;">GPIO_MODE_IN_FLOATING</td>
</tr>
<tr class="even">
<td style="text-align: center;">带上拉输入</td>
<td style="text-align: center;">GPIO_MODE_IPU</td>
</tr>
<tr class="odd">
<td style="text-align: center;">带下拉输入</td>
<td style="text-align: center;">GPIO_MODE_IPD</td>
</tr>
<tr class="even">
<td style="text-align: center;">模拟输入</td>
<td style="text-align: center;">GPIO_MODE_AIN</td>
</tr>
<tr class="odd">
<td style="text-align: center;">开漏输出</td>
<td style="text-align: center;">GPIO_MODE_OUT_OD</td>
</tr>
<tr class="even">
<td style="text-align: center;">推挽输出</td>
<td style="text-align: center;">GPIO_MODE_OUT_PP</td>
</tr>
<tr class="odd">
<td style="text-align: center;">复用_推挽输出</td>
<td style="text-align: center;">GPIO_MODE_AF_PP</td>
</tr>
<tr class="even">
<td style="text-align: center;">复用_开漏输出</td>
<td style="text-align: center;">GPIO_MODE_AF_OD</td>
</tr>
</tbody>
</table>
<blockquote>
<p>另外，还要提一点，关于STM32的所有外设（包括管脚)的使用流程:
初始化(Initialization)--&gt;配置(Configuation)--&gt;调用(Call)</p>
</blockquote>
<h2 id="code">3 CODE</h2>
<p>下面就贴一下代码。</p>
<p>关于STM32项目的建立，可参考STM32F1开发指南-库函数版本_V3.1
.pdf第三章。</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//LED.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __LED_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __LED_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;stm32f10x.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">LED_Init</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//LED.c</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;led.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">LED_Init</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    GPIO_InitTypeDef GPIO_InitStructure;</span><br><span class="line"></span><br><span class="line">    RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOD, ENABLE);</span><br><span class="line">    <span class="comment">//使能对应GPIO的Clock时钟</span></span><br><span class="line"></span><br><span class="line">    GPIO_InitStructure.GPIO_Pin = GPIO_Pin_2 | GPIO_Pin_3 |</span><br><span class="line">    GPIO_Pin_4 | GPIO_Pin_7;</span><br><span class="line">    <span class="comment">//设置端口</span></span><br><span class="line"></span><br><span class="line">    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;</span><br><span class="line">    <span class="comment">//设置端口模式 推挽输出（Push-Pull）</span></span><br><span class="line"></span><br><span class="line">    GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;</span><br><span class="line">    <span class="comment">//最大输出速度50MHz</span></span><br><span class="line"></span><br><span class="line">    GPIO_Init(GPIOD, &amp;GPIO_InitStructure);</span><br><span class="line">    <span class="comment">//调用GPIO初始化函数</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//main.c</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;led.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay</span><span class="params">(<span class="type">uint32_t</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    LED_Init();</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        GPIO_ResetBits(GPIOD, GPIO_Pin_2); <span class="comment">//将GPIOD的Pin2拉低</span></span><br><span class="line">        delay(<span class="number">1600000</span>);</span><br><span class="line">        GPIO_SetBits(GPIOD, GPIO_Pin_2); <span class="comment">//将GPIOD的Pin2拉高</span></span><br><span class="line">        delay(<span class="number">1600000</span>);</span><br><span class="line"></span><br><span class="line">        GPIO_ResetBits(GPIOD, GPIO_Pin_3);</span><br><span class="line">        delay(<span class="number">800000</span>);</span><br><span class="line">        GPIO_SetBits(GPIOD, GPIO_Pin_3);</span><br><span class="line">        delay(<span class="number">800000</span>);</span><br><span class="line"></span><br><span class="line">        GPIO_ResetBits(GPIOD, GPIO_Pin_4);</span><br><span class="line">        delay(<span class="number">400000</span>);</span><br><span class="line">        GPIO_SetBits(GPIOD, GPIO_Pin_4);</span><br><span class="line">        delay(<span class="number">400000</span>);</span><br><span class="line"></span><br><span class="line">        GPIO_ResetBits(GPIOD, GPIO_Pin_7);</span><br><span class="line">        delay(<span class="number">200000</span>);</span><br><span class="line">        GPIO_SetBits(GPIOD, GPIO_Pin_7);</span><br><span class="line">        delay(<span class="number">20000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay</span><span class="params">(__IO <span class="type">uint32_t</span> nCount)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(; nCount != <span class="number">0</span>; nCount--);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="总结">4 总结</h2>
<p>GPIO管脚配置+软件延时实现流水灯是学习STM32过程中最基础外设，也是最重要的资源之一，需要深入的了解。本文趋向实用性，对于GPIO管脚的复用和寄存器配置未进行详细说明，请移步相关文档继续研究。</p>
]]></content>
      <categories>
        <category>硬件</category>
      </categories>
      <tags>
        <tag>STM32</tag>
      </tags>
  </entry>
  <entry>
    <title>TAMRON 20-40mm F2.8 Di III VXD A062_by SonyAlphaBlog</title>
    <url>//2023/07/09/tamron-20-40mm-f2-8-di-iii-vxd-a062/</url>
    <content><![CDATA[<blockquote>
<p>源：<a href="https://sonyalpha.blog/2022/11/20/tamron-20-40mm-f2-8-di-iii-vxd/">https://sonyalpha.blog/2022/11/20/tamron-20-40mm-f2-8-di-iii-vxd/</a></p>
</blockquote>
<h2 id="结论">1 结论</h2>
<p>TAMRON 20-40mm F2.8 Di III VXD（<span class="math inline">\(5280_{TB,20221125}\)</span>）是一支标准变焦镜头，非常适合Vlog拍摄，对于主拍街拍、建筑、风光以及少量人像的使用场景非常契合。搭配TAMRON
35-150mm F2-2.8 Di III VXD是非常理想的组合。</p>
<span id="more"></span>
<p><img data-src="2040banner.png"></p>
<p>腾龙2040的性能表现总的来说非常不错。锐度表现可达Very
Good，尤其是20mm焦段的表现；尽管无法达到Excellent级别，40mm光圈全开的边角有一点锐度损失。最佳光圈为F5.6。背景虚化、焦外光斑、色彩还原度都有非常不错的表现。</p>
<p>图像可通过Lightroom自动矫正畸变和暗角。抗眩光表现比较一般。</p>
<p>竞品方面，腾龙2040并没有可直接比较的替代品；较为接近的是</p>
<ul>
<li><span class="math inline">\(\mathbf{SONY}\)</span> <a href="/2022/08/30/sony-pz-16-35mm-f4-g/">FE PZ 16-35mm F4 G</a>
<ul>
<li>性能（锐度、人体工学设计等）表现优异，焦端范围更广但没有F2.8大光圈</li>
</ul></li>
<li>腾龙双定焦组合
<ul>
<li>TAMRON 20mm F/2.8 Di III OSD M1:2 F050（<span class="math inline">\(2280_{TB,20221125}\)</span>）</li>
<li>TAMRON 35mm F/2.8 Di III OSD M1:2 F053（<span class="math inline">\(1550_{TB,20221125}\)</span>）</li>
<li>锐度表现优异</li>
</ul></li>
<li>索尼双定焦组合
<ul>
<li><span class="math inline">\(\mathbf{SONY}\)</span> FE 24mm F2.8
G（<span class="math inline">\(4399_{\mathbf{SONY},20221215}\)</span>）</li>
<li><span class="math inline">\(\mathbf{SONY}\)</span> FE 40mm F2.5
G（<span class="math inline">\(4399_{\mathbf{SONY},20221215}\)</span>）</li>
<li>锐度、色彩还原度、自动对焦速度表现优异，拍摄场景上稍微受限</li>
</ul></li>
</ul>
<p>腾龙2040只适合同时需要这个特定焦段的变焦、F2.8大光圈的使用场景；其在A7M4上的表现要优于在A7R5的表现。</p>
<ul>
<li>优势
<ul>
<li>非常独特的变焦范围</li>
<li>20mm端中心锐度，光圈全开可达到Very
Good级别，最高可达到Excellent级别</li>
<li>20mm端总体都有Very Good级别的锐度</li>
<li>40mm端在F5.6可达到Very Good锐度表现</li>
<li>柔和的背景虚化</li>
<li>非常不错的色彩还原度</li>
<li>对于F2.8的变焦来说，非常紧凑，非常轻巧</li>
<li>不错的做工</li>
<li>畸变和暗角表现一般，但在Lightroom可自动矫正</li>
<li>色散很小</li>
<li>呼吸效应比较小</li>
<li>非常小的慧差</li>
<li>自动对焦表现非常不错</li>
<li>可用TAMRON Lens Utility自定义对焦环</li>
<li>防尘防滴溅</li>
</ul></li>
<li>一般
<ul>
<li>没有镜身按钮</li>
<li>抗眩光</li>
<li>40mm端光圈全开时变焦锐度只有Average级别</li>
<li>价格</li>
</ul></li>
<li>缺点
<ul>
<li>无</li>
</ul></li>
</ul>
<h2 id="总体性能">2 总体性能</h2>
<h3 id="简介">2.1 简介</h3>
<p>TAMRON 20-40mm F2.8 Di III VXD（<span class="math inline">\(5280_{TB,20221125}\)</span>）是一支标准变焦镜头，非常适合Vlog拍摄，对于主拍街拍、建筑、风光以及少量人像的使用场景非常契合。搭配TAMRON
35-150mm F2-2.8 Di III VXD是非常理想的组合。</p>
<h3 id="spec">2.2 SPEC</h3>
<ul>
<li>重量：365g</li>
<li>价格：<span class="math inline">\(5280_{TB,20221125}\)</span></li>
<li>长度：86.5mm</li>
<li>滤镜尺寸：67mm</li>
<li>直径：74.4mm</li>
<li>9片光圈叶片</li>
<li>最近对焦距离：17-29cm</li>
<li>花瓣形遮光罩</li>
<li>连接TAMRON Lens Utility的USB Type-C接口</li>
<li>防尘防滴溅</li>
</ul>
<p>腾龙2040外观设计看上去就像是新旧腾龙镜头的混合体。做工不错，可用于固件更新和功能键设置的USB
Type-C接口，但是没有AF/MF切换按钮或者模式切换按钮。</p>
<p>腾龙2040给人最大的惊喜其实是其紧凑的设计——86mm的长度和365g的重量，相对于<span class="math inline">\(\mathbf{SONY}\)</span>的1635
GM（121mm，686g）和腾龙自家的1728（99mm，420g）都非常紧凑轻巧。这支镜头非常适合上稳定器。</p>
<p>腾龙的TAMRON Lens
Utility软件除了固件更新外，还给镜头一定的自定义空间，允许你调整对焦环方向和线性度。</p>
<div class="group-picture"><div class="group-picture-row"><div class="group-picture-column"><img data-src="./7CA07582.jpg.webp"></div><div class="group-picture-column"><img data-src="./7CA07586.jpg.webp"></div><div class="group-picture-column"><img data-src="./7CA07584.jpg.webp"></div></div><div class="group-picture-row"><div class="group-picture-column"><img data-src="./7CA07585.jpg.webp"></div><div class="group-picture-column"><img data-src="./7CA07589.jpg.webp"></div></div></div>
<figure>
<img data-src="./7CA07595.jpg.webp" alt="腾龙2040上机图">
<figcaption aria-hidden="true">腾龙2040上机图</figcaption>
</figure>
<h3 id="自动对焦性能">2.3 自动对焦性能</h3>
<p>自动对焦性能在运动摄影上总体还是不错的，能有70%的准确率。腾龙2040使用与TAMRON
70-180mm F2.8 Di III
VXD相同的VXD电机。但在自动对焦这上面，还是索尼原厂的镜头更有优势。</p>
<p>但是这只镜头真的是给对自动对焦非常看重的运动摄影准备的吗？好想并不是。</p>
<h2 id="光学性能">3 光学性能</h2>
<h3 id="锐度">3.1 锐度</h3>
<figure>
<img data-src="./Capture-decran-2022-11-15-a-14.08.55.jpg" alt="腾龙2040锐度表现">
<figcaption aria-hidden="true">腾龙2040锐度表现</figcaption>
</figure>
<ul>
<li>测试使用6100万像素的<span class="math inline">\(\mathbf{SONY}\)</span> A7R4。</li>
<li>中心锐度上，F2.8光圈全开已经很可用，达到Very
Good级别；20mm端在光圈F4可达到Excellent级别，40mm端在光圈F5.6可达到Excellent级别。</li>
<li>边角锐度上，20mm端达到Good级别，缩光圈到F4达到Very
Good级别，但在6100万像素下无法达到Excellent级别；40mm端就要差一点，光圈缩小到F5.6才能达到Very
Good级别。</li>
</ul>
<p>就锐度来说，20mm是最佳焦段，40mm端会有锐度损失。但如此紧凑的镜头有如此的性能，其实还是非常不错的。另外，腾龙2040并不是为6100万像素设计的。</p>
<h4 id="人像">3.1.1 人像</h4>
<p>40mm段的人像非常不错，光圈全开有Very
Good级别的锐度，光圈收缩到F4左右有一点提升。说实话，40mm
F2.8的虚化效果并不明显，焦外光斑也没理想。但是色彩还原度和皮肤质感上面非常不错的。</p>
<h4 id="远距离拍摄">3.1.2 远距离拍摄</h4>
<p>20mm端中心锐度Excellent，边角锐度Very
Good。光圈收缩到F5.6可以获得全像场最理想的锐度表现。</p>
<p>40mm端就稍差一些。中心锐度能达到很不错的水准，边角在光圈全开情况下就有点一般，收缩到F5.6才能得到不错的边角锐度。</p>
<h3 id="暗角色散畸变抗眩光">3.2 暗角/色散/畸变/抗眩光</h3>
<ul>
<li>畸变还算可以
<ul>
<li>20mm端有桶形畸变</li>
<li>40mm端有枕形畸变</li>
</ul></li>
<li>暗角也比较一般，F2.8光圈全开可见</li>
<li>暗角和畸变可通过Lightroom镜头配置文件矫正</li>
<li>色散非常轻微</li>
<li>抗眩光可以用但不是非常好，光环很容易出现在画面中</li>
<li>光圈F16时可以得到非常不错的星芒</li>
<li>有着非常小的慧差</li>
</ul>
<h3 id="焦外色彩还原度">3.3 焦外/色彩还原度</h3>
<ul>
<li>焦外光斑挺不错</li>
<li>背景虚化非常柔和顺滑，非常nice</li>
<li>色彩还原度非常棒</li>
</ul>
<h2 id="视频">4 视频</h2>
<p>视频拍摄表现非常不错，锐度表现、背景虚化、色彩还原度都表现不错。紧凑轻巧的设计也非常适合稳定器使用。</p>
<p>呼吸效应比较一般，但算不上差。拍摄近距离物体时，镜头没办法做到完全齐焦；被摄物体较远时，大部分情况下是能做到齐焦的。</p>
<h2 id="对比其他镜头">5 对比其他镜头</h2>
<p>腾龙2040目前是没有直接的竞品的，下面以一些相对接近的产品来进行比较。</p>
<ul>
<li><span class="math inline">\(\mathbf{SONY}\)</span> FE 16-35 mm F2.8
GM（<span class="math inline">\(15499_{\mathbf{SONY},20221125}\;9900_{TB,20221125}\)</span>）</li>
<li>TAMRON 17-28mm F2.8 Di III RXD（<span class="math inline">\(5980_{TB,20221125}\)</span>）</li>
<li><span class="math inline">\(\mathbf{SONY}\)</span> <a href="/2022/08/30/sony-pz-16-35mm-f4-g/">FE PZ 16-35mm F4 G</a>（<span class="math inline">\(8299_{\mathbf{SONY},20221125}\;7499_{JD,20221125}\)</span>）</li>
</ul>
<p>对比还加入了两套定焦组合 - <span class="math inline">\(\mathbf{SONY}\)</span>定焦组合 - <span class="math inline">\(\mathbf{SONY}\)</span> FE 24mm F2.8 G（<span class="math inline">\(4399_{\mathbf{SONY},20221215}\)</span>） - <span class="math inline">\(\mathbf{SONY}\)</span> FE 40mm F2.5 G（<span class="math inline">\(4399_{\mathbf{SONY},20221215}\)</span>） -
腾龙定焦组合 - TAMRON 20mm F/2.8 Di III OSD M1:2 F050（<span class="math inline">\(2280_{TB,20221125}\)</span>） - TAMRON 35mm F/2.8
Di III OSD M1:2 F053（<span class="math inline">\(1550_{TB,20221125}\)</span>）</p>
<table style="width:100%;">
<colgroup>
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"></th>
<th style="text-align: center;">腾龙2040</th>
<th style="text-align: center;"><span class="math inline">\(\mathbf{SONY}\)</span>定焦组合</th>
<th style="text-align: center;">腾龙定焦组合</th>
<th style="text-align: center;"><span class="math inline">\(\mathbf{SONY}\)</span> 1635 GM</th>
<th style="text-align: center;">腾龙1728</th>
<th style="text-align: center;"><span class="math inline">\(\mathbf{SONY}\)</span> PZ 1635 G</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">价格</td>
<td style="text-align: center;"><span class="math inline">\(5280_{TB}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(2\times
4399_{\mathbf{SONY}}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(2280+1550_{TB}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(15499_{\mathbf{SONY}}\;9900_{TB}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(5980_{TB}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(8299_{\mathbf{SONY}}\;7499_{JD}\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;">重量</td>
<td style="text-align: center;">369g</td>
<td style="text-align: center;">162g + 173g</td>
<td style="text-align: center;">220 g + 210g</td>
<td style="text-align: center;">686g</td>
<td style="text-align: center;">420g</td>
<td style="text-align: center;">353g</td>
</tr>
<tr class="odd">
<td style="text-align: center;">长度</td>
<td style="text-align: center;">86.5mm</td>
<td style="text-align: center;">45mm</td>
<td style="text-align: center;">64mm</td>
<td style="text-align: center;">121mm</td>
<td style="text-align: center;">99mm</td>
<td style="text-align: center;">88.1mm</td>
</tr>
<tr class="even">
<td style="text-align: center;">按钮</td>
<td style="text-align: center;">无</td>
<td style="text-align: center;">AF/MF切换, 光圈环, 无极/有级切换</td>
<td style="text-align: center;">无</td>
<td style="text-align: center;">AF/MF切换</td>
<td style="text-align: center;">无</td>
<td style="text-align: center;">AF/MF切换, 光圈环, 无极/有级切换,
电动变焦</td>
</tr>
<tr class="odd">
<td style="text-align: center;">最近对焦距离</td>
<td style="text-align: center;">17-29cm</td>
<td style="text-align: center;">24/28cm</td>
<td style="text-align: center;">11/15cm</td>
<td style="text-align: center;">28cm</td>
<td style="text-align: center;">19-26cm</td>
<td style="text-align: center;">28-24cm</td>
</tr>
<tr class="even">
<td style="text-align: center;">做工</td>
<td style="text-align: center;">++</td>
<td style="text-align: center;">+++</td>
<td style="text-align: center;">++</td>
<td style="text-align: center;">++++</td>
<td style="text-align: center;">++</td>
<td style="text-align: center;">+++</td>
</tr>
<tr class="odd">
<td style="text-align: center;">光圈叶片</td>
<td style="text-align: center;">9</td>
<td style="text-align: center;">7</td>
<td style="text-align: center;">7</td>
<td style="text-align: center;">11</td>
<td style="text-align: center;">9</td>
<td style="text-align: center;">7</td>
</tr>
<tr class="even">
<td style="text-align: center;">滤镜口径</td>
<td style="text-align: center;">67mm</td>
<td style="text-align: center;">49mm</td>
<td style="text-align: center;">67mm</td>
<td style="text-align: center;">82mm</td>
<td style="text-align: center;">67mm</td>
<td style="text-align: center;">72mm</td>
</tr>
</tbody>
</table>
<blockquote>
<p>以上镜头价格收集自20221215。</p>
</blockquote>
<p>腾龙2040在尺寸和重量上完全可以和<span class="math inline">\(\mathbf{SONY}\)</span> <a href="/2022/08/30/sony-pz-16-35mm-f4-g/">FE PZ 16-35mm F4
G</a>媲美，这两只镜头的取舍就是更大光圈和更全面的焦距范围。</p>
<p>与腾龙或者索尼的定焦组合对比，重量比较接近，无非是定焦表现更佳，变焦使用更灵活。</p>
<p>和TAMRON 17-28mm F2.8 Di III
RXD相比，17-28mm的焦距段更适合建筑和风光摄影，20-40mm则更加适合Vlog拍摄、街拍，也能胜任一部分风光拍摄。这需要衡量你自己的需求。</p>
<h3 id="锐度-1">5.1 锐度</h3>
<figure>
<img data-src="./Capture-decran-2022-11-20-a-16.43.56.jpg.webp" alt="腾龙2040与其它镜头锐度表现对比">
<figcaption aria-hidden="true">腾龙2040与其它镜头锐度表现对比</figcaption>
</figure>
<p>腾龙2040锐度表现能达到Very Good级别，在以上这些镜头中算不上出众。</p>
<p><span class="math inline">\(\mathbf{SONY}\)</span> <a href="/2022/08/30/sony-pz-16-35mm-f4-g/">FE PZ 16-35mm F4
G</a>给出了非常顶级的锐度，且有更全面的焦距，缺少F2.8光圈确实非常遗憾。（译者：期待1635GM2）</p>
<p>定焦的锐度表现当然是非常不错的，这无可争议。</p>
<p>因此，如果你真的非常想要变焦、F2.8光圈，而且20-40mm焦距段能满足要求，腾龙2040确实是非常不错的；如果只是上A7M4（3300万像素），锐度表现会好很多。</p>
]]></content>
      <categories>
        <category>镜头</category>
      </categories>
      <tags>
        <tag>镜头</tag>
        <tag>E卡口</tag>
        <tag>全画幅</tag>
        <tag>腾龙Tamron</tag>
      </tags>
  </entry>
  <entry>
    <title>TAMRON 50-400mm F4.5-6.3 Di III VC VXD A067_by SonyAlphaBlog</title>
    <url>//2022/11/14/tamron-50-400-f4-5-6-3-di-iii-vc-vxd-a067/</url>
    <content><![CDATA[<blockquote>
<p>源：<a href="https://sonyalpha.blog/2022/09/01/tamron-50-400-f4-5-6-3-di-iii-vc-vxd-a067/">https://sonyalpha.blog/2022/09/01/tamron-50-400-f4-5-6-3-di-iii-vc-vxd-a067/</a></p>
</blockquote>
<h2 id="结论">1 结论</h2>
<p>TAMRON 50-400mm F4.5-6.3 Di III VC VXD（<span class="math inline">\(8990_{TB,20221108}\)</span>）是一只非常不错的多用途镜头，适用于体育运动、野生动物、50mm端微距、风光细节、人像、街拍、旅拍。这一切都要归功于这只50400比普通的100400多出来的50-100mm焦段。</p>
<span id="more"></span>
<p><img data-src="Pasted%20image%2020221107212506.png"></p>
<p>腾龙50400最短焦距50mm，最长焦距400mm，达到了8倍；这只独一无二的镜头打破了70300、100400这两个常见焦段范围带来的限制。尤其是打开APSC裁切模式后，你可以获得600mm的等效焦距。</p>
<p>但就锐度来说，这只镜头的光学性能是顶尖水平，可以算得上Excellent级别。拍照和视频中，静物或规则移动主体的自动对焦是非常好的；配合A1，作为副厂镜头可以达到15fps的连拍。</p>
<p>光学稳定性也是意料之中相当不错。背景虚化柔和平顺，光斑在F6.3光圈下非常耐思。色彩还原度也很不错，</p>
<p>有点不足的是：</p>
<ul>
<li>和其它的100400一样，如果没有大太阳，光圈和长焦带来的往往是高ISO</li>
<li>腾龙50400又重又大，还得自己买脚架环来上独脚架或三脚架</li>
<li>暗角和畸变还是非常重要的，等待Lightroom更新</li>
<li>变焦环阻尼有点大，不能纵享丝滑</li>
<li>卡口上设计的密封圈有点太厚了，拧到相机上有点费劲儿</li>
</ul>
<p>可替换镜头：</p>
<ul>
<li><span class="math inline">\(\mathbf{SONY}\)</span> FE 70-300mm
f/4.5-5.6 G OSS
<ul>
<li><span class="math inline">\(8600_{\mathbf{SONY},20221108}\)</span></li>
<li>重量更轻</li>
<li>焦端覆盖较短</li>
<li>光学质量较差</li>
</ul></li>
<li><span class="math inline">\(\mathbf{SONY}\)</span> FE 100-400mm GM
OSS F4.5-F5.6
<ul>
<li><span class="math inline">\(17500_{\mathbf{SONY},20221108}\)</span></li>
<li>相似的锐度表现</li>
<li>更好的自动对焦性能，尤其是无规则运动主体、适配增距镜TC1.4和TC2.0、搭配A1可实现30fps连拍</li>
<li>更多的控制按钮</li>
<li>更重更贵</li>
<li>没有100mm一下的焦端，适用范围受限</li>
</ul></li>
<li><a href="/2022/08/27/sigma-100-400mm-f5-6-3-dg-dn-os-contemporary/">Sigma
100-400mm F5-6.3 DG DN OS Contemporary</a>
<ul>
<li><span class="math inline">\(5800_{TB,20221108}\)</span></li>
<li>锐度较差</li>
<li>自动对焦较差</li>
</ul></li>
</ul>
<p>如果只拍摄非常快速而复杂的运动主体，或者需要30fps连拍，或者需要非常精准顺滑的变焦，或者需要使用增距镜TC1.4和TC2.0，那么，加钱上100400
GM吧。</p>
<p>除了以上情况，腾龙的光学性能和自动对焦都是非常接近100400
GM的，更别说还提供了其它100400无法提供的、独家的50-100mm焦端，能非常好地应对人像、街拍、旅拍。</p>
<p>除非真的预算有限，而且相机像素只有2400万或者3300万，不然真的别选适马100400。</p>
<p><strong>墙裂推荐</strong></p>
<ul>
<li><strong>优势</strong>
<ul>
<li>50-300mm焦端，光圈全开中心锐度可以达到Excellent级别；400mm端，任有Very
Good级别的锐度表现</li>
<li>边角锐度可以到Very Good级别。</li>
<li>8倍变焦范围适用于人像、微距、街拍、旅拍、风光、体育运动、野生动物</li>
<li>柔和的背景虚化</li>
<li>色彩还原度非常好</li>
<li>挺不错的人体工学设计，配合TAMRON Lens Utility软件可实现自定义</li>
<li>非常不错的做工</li>
<li>大多数场景下都能有不错发挥的自动对焦</li>
<li>呼吸效应比较小</li>
<li>50mm端最近对焦距离为25cm，可以做简单的微距，放大倍率0.5x</li>
<li>抗眩光不错</li>
</ul></li>
<li><strong>一般</strong>
<ul>
<li>重量、体积，但比竞品更好</li>
<li>价格</li>
<li>无规则运动主体的自动对焦</li>
<li>50-100mm焦端的色散</li>
<li>需自行选购脚架环A035TM（<span class="math inline">\(300_{TB,20221108}\)</span>）</li>
<li>400mm端最近对焦距离为150cm，放大倍率0.25x</li>
<li>变焦环阻尼有点大</li>
<li>和其它的100400一样，光圈和长焦带来的往往是高ISO</li>
</ul></li>
<li><strong>缺陷</strong>
<ul>
<li>暗角和畸变，等待Lightroom更新</li>
<li>卡口上设计的密封圈有点太厚了，拧到相机上有点费劲儿（可能后续生产的镜头就没这个问题了）</li>
<li>副厂镜头无法使用增距镜</li>
</ul></li>
</ul>
<hr>
<h2 id="总体信息">2 总体信息</h2>
<h3 id="spec">2.1 SPEC</h3>
<ul>
<li>重量：1155g</li>
<li>价格：<span class="math inline">\(8990_{TB,20221108}\)</span></li>
<li>长度：183-257mm</li>
<li>直径：88.5mm</li>
<li>滤镜尺寸：67mm</li>
<li>9片光圈叶片</li>
<li>可通过镜身USC C口连接电脑使用TAMRON Lens Utility进行自定义</li>
<li>最近对焦距离
<ul>
<li>50mm端：25 cm</li>
<li>400mm端：150 cm</li>
</ul></li>
<li>放大倍率
<ul>
<li>50mm端：0.5x</li>
<li>400mm端：0.25x</li>
</ul></li>
<li>两种光学稳定模式（普通、平移）</li>
<li>可在TAMRON Lens Utility软件自定义3种拍摄模式</li>
<li>对焦保持按钮，可由TAMRON Lens Utility软件自定义</li>
<li>锁止按钮</li>
<li>配有遮光罩</li>
<li>需自行选购脚架环A035TM（<span class="math inline">\(300_{TB,20221108}\)</span>）</li>
<li>防尘防滴溅</li>
</ul>
<p>不同焦段下的最大光圈和最近对焦距离</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">焦距</th>
<th style="text-align: center;">最大光圈</th>
<th style="text-align: center;">最近对焦距离</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">50mm</td>
<td style="text-align: center;">F4.5</td>
<td style="text-align: center;">25cm</td>
</tr>
<tr class="even">
<td style="text-align: center;">70mm</td>
<td style="text-align: center;">F5</td>
<td style="text-align: center;">40cm</td>
</tr>
<tr class="odd">
<td style="text-align: center;">100mm</td>
<td style="text-align: center;">F5.6</td>
<td style="text-align: center;">50cm</td>
</tr>
<tr class="even">
<td style="text-align: center;">150mm</td>
<td style="text-align: center;">F6.3</td>
<td style="text-align: center;">100cm</td>
</tr>
<tr class="odd">
<td style="text-align: center;">300-400mm</td>
<td style="text-align: center;">F6.3</td>
<td style="text-align: center;">150cm</td>
</tr>
</tbody>
</table>
<p>腾龙50400以不同寻常的8倍变焦覆盖更多的焦端。大部分竞品只有100-400mm得变焦。</p>
<p>腾龙50400做工非常棒，同样非常不错的还有同产品线的TAMRON 35-150mm
F2-2.8 Di III
VXD。镜头有防尘防滴溅设计。变焦环阻有点大，变焦掌控力不足，不适合摄影快速变焦和视频递进式变焦。当然，这也意味着你背着相机的时候不会突然伸长。有些强迫症用户可以使用镜身上的锁止开关来防止突然变大。</p>
<p>由于测试使用的镜头序列号比较靠前，卡口位置的密封圈相当厚，导致拧到A7R4上都有点费劲儿。但是换到A1上就稍微轻松一点。</p>
<p>腾龙50400如果全天都带着，那是相当的重；但也不一定，看和谁比，和其它竞品差不太多。</p>
<p>腾龙50400需自行选购脚架环A035TM（<span class="math inline">\(300_{TB,20221108}\)</span>）。</p>
<p>腾龙50400配备光学稳定，有普通和平移两种模式。上脚架时记得关掉防抖。</p>
<p>对焦保持按钮和对焦环可以使用TAMRON Lens Utility来自定义。</p>
<h3 id="tamron-lens-utility">2.2 TAMRON Lens Utility</h3>
<p>镜身自带的USB C口可以非常简单地连接电脑。TAMRON Lens
Utility软件中有非常多的功能可以自定义并设置为3种可随时切换的模式。模式通过镜身上的按钮实现切换。</p>
<p>有功能被设置后，按压或者长按对焦保持按钮来激活。</p>
<p>所以，实际使用过程中，对焦保持按钮可以被设置为3种不同的功能，如改变自动对焦范围、将对焦环变为光圈环。</p>
<p>另外，对焦环的方向、对焦环是否线性响应都是可以自定义的。</p>
<h3 id="自动对焦性能">2.3 自动对焦性能</h3>
<ul>
<li>自动对焦又快又准又安静，不论是拍照还是视频都表现一致。眼控对焦也能完美工作。这里使用A1测试。</li>
<li>连拍模式可以实现14fps。只要主体的运动轨迹是可预测的，拍摄效果还是非常不错的。如果主体的运动轨迹难以预测，镜头有时就无法追踪到主体。主体靠近相机时也会出现一些问题。</li>
<li>另外，毕竟长焦时光圈最大只有F6.3，暗光环境下自动对焦并不理想。</li>
</ul>
<h2 id="光学性能">3 光学性能</h2>
<h3 id="锐度">3.1 锐度</h3>
<figure>
<img data-src="./Pasted%20image%2020221107205255.png" alt="腾龙50400锐度表现（A7R4）">
<figcaption aria-hidden="true">腾龙50400锐度表现（A7R4）</figcaption>
</figure>
<ul>
<li>50-200mm端光圈全开中心锐度都是Excellent级别；400mm端光圈全开也有Very
Good级别，收一档光圈可以达到Excellent级别。</li>
<li>变焦锐度大部分是比中心锐度稍差一点。</li>
<li>50mm是锐度表现最佳的焦端。</li>
</ul>
<p>锐度表现非常顶，非常完美。</p>
<h3 id="暗角色散畸变眩光">3.2 暗角/色散/畸变/眩光</h3>
<ul>
<li>100mm端畸变挺大，需要后期矫正。</li>
<li>暗角在光圈全开时相对明显，尤其是50mm端；需要收2档光圈，大致到F11时才能消除暗角。</li>
<li>色散会在全开光圈时出现，尤其是50-100mm焦端时怼太阳的时候。</li>
<li>抗眩光相对来说还是不错的。</li>
<li>光圈F16下可以获得不错的星芒。</li>
</ul>
<h3 id="背景虚化色彩还原度">3.3 背景虚化/色彩还原度</h3>
<ul>
<li>焦外光斑非常好：非常圆，不会变成多边形，边缘没有洋葱圈。</li>
<li>在最近对焦距离时，背景虚化非常不错，相对来说还是挺柔和的过渡。</li>
<li>长焦光圈最大只有F6.3，所以不要期待有非常多的虚化。</li>
<li>色彩还原度挺不错。</li>
</ul>
<h2 id="视频">4 视频</h2>
<p>视频的测试结果非常好，Excellent级别的锐度，最近对焦距离时顺滑的背景虚化，不错的色彩还原度。自动对焦也很不错，呼吸效应相当轻微。对焦环可以自定义为光圈环。200mm一下的光学防抖还是非常有效的。</p>
<p>也有些不足的地方，变焦环阻尼过大，不能平滑变焦。镜头手持时还是太重了。400mm端，即便有光学稳定，不装上脚架还是无法获得稳定的画面。</p>
<h2 id="与其它100-400mm镜头对比">5 与其它100-400mm镜头对比</h2>
<p>腾龙50400的主要竞品是两只另外的100-400mm变焦。SPEC对比同样加入了<span class="math inline">\(\mathbf{SONY}\)</span>的70300 G。</p>
<ul>
<li><span class="math inline">\(\mathbf{SONY}\)</span> FE 100-400mm GM
OSS F4.5-F5.6</li>
<li><a href="/2022/08/27/sigma-100-400mm-f5-6-3-dg-dn-os-contemporary/">Sigma
100-400mm F5-6.3 DG DN OS Contemporary</a></li>
<li><span class="math inline">\(\mathbf{SONY}\)</span> FE 70-300mm
f/4.5-5.6 G OSS</li>
</ul>
<figure>
<img data-src="./Pasted%20image%2020221107205859.png" alt="Tamron 50400 vs Sony 100400GM">
<figcaption aria-hidden="true">Tamron 50400 vs Sony
100400GM</figcaption>
</figure>
<figure>
<img data-src="./Pasted%20image%2020221107205949.png" alt="Sigma 100400 vs Sony 100400GM">
<figcaption aria-hidden="true">Sigma 100400 vs Sony
100400GM</figcaption>
</figure>
<h3 id="spec-1">5.1 SPEC</h3>
<table>
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"></th>
<th style="text-align: center;">TAMRON 50-400 F4.5-6.3 Di III VC
VXD</th>
<th style="text-align: center;"><span class="math inline">\(\mathbf{SONY}\)</span> FE 100-400mm GM OSS
F4.5-F5.6</th>
<th style="text-align: center;">Sigma 100-400mm F5-6.3 DG DN OS
Contemporary</th>
<th style="text-align: center;"><span class="math inline">\(\mathbf{SONY}\)</span> FE 70-300mm f/4.5-5.6 G
OSS</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">价格</td>
<td style="text-align: center;"><span class="math inline">\(8990_{TB,20221108}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(17500_{\mathbf{SONY},20221108}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(5800_{TB,20221108}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(8600_{\mathbf{SONY},20221108}\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;">重量</td>
<td style="text-align: center;">1155g</td>
<td style="text-align: center;">1395-1586g</td>
<td style="text-align: center;">1180g</td>
<td style="text-align: center;">854g</td>
</tr>
<tr class="odd">
<td style="text-align: center;">长度</td>
<td style="text-align: center;">183-257mm</td>
<td style="text-align: center;">205-307mm</td>
<td style="text-align: center;">197-299mm</td>
<td style="text-align: center;">143mm</td>
</tr>
<tr class="even">
<td style="text-align: center;">直径</td>
<td style="text-align: center;">88.5mm</td>
<td style="text-align: center;">93.9mm</td>
<td style="text-align: center;">86mm</td>
<td style="text-align: center;">84mm</td>
</tr>
<tr class="odd">
<td style="text-align: center;">自动对焦</td>
<td style="text-align: center;">+++</td>
<td style="text-align: center;">++++</td>
<td style="text-align: center;">++</td>
<td style="text-align: center;">++</td>
</tr>
<tr class="even">
<td style="text-align: center;">按钮</td>
<td style="text-align: center;">对焦保持，平移模式，自定义</td>
<td style="text-align: center;">对焦模式，对焦距离限制，平移模式，自定义</td>
<td style="text-align: center;">对焦距离限制，光学稳定，AF/MF切换，对焦保持</td>
<td style="text-align: center;">AF/MF切换</td>
</tr>
<tr class="odd">
<td style="text-align: center;">适配增距镜</td>
<td style="text-align: center;">否</td>
<td style="text-align: center;">是</td>
<td style="text-align: center;">否</td>
<td style="text-align: center;">否</td>
</tr>
<tr class="even">
<td style="text-align: center;">光学稳定</td>
<td style="text-align: center;">是</td>
<td style="text-align: center;">是</td>
<td style="text-align: center;">是</td>
<td style="text-align: center;">是</td>
</tr>
<tr class="odd">
<td style="text-align: center;">最大放大倍率</td>
<td style="text-align: center;">0.5-0.25</td>
<td style="text-align: center;">0.35x</td>
<td style="text-align: center;">0.24x</td>
<td style="text-align: center;">0.31x</td>
</tr>
<tr class="even">
<td style="text-align: center;">最近对焦距离</td>
<td style="text-align: center;">25cm-150cm</td>
<td style="text-align: center;">98cm-98cm</td>
<td style="text-align: center;">112-160cm</td>
<td style="text-align: center;">90cm</td>
</tr>
<tr class="odd">
<td style="text-align: center;">脚架环</td>
<td style="text-align: center;">需自行选购脚架环A035TM（<span class="math inline">\(300_{TB,20221108}\)</span>）</td>
<td style="text-align: center;">标配</td>
<td style="text-align: center;">需自行选购脚架环TS111（<span class="math inline">\(725_{TB,20221108}\)</span>）</td>
<td style="text-align: center;">无</td>
</tr>
<tr class="even">
<td style="text-align: center;">做工</td>
<td style="text-align: center;">++</td>
<td style="text-align: center;">+++</td>
<td style="text-align: center;">++</td>
<td style="text-align: center;">++</td>
</tr>
<tr class="odd">
<td style="text-align: center;">光圈叶片</td>
<td style="text-align: center;">9</td>
<td style="text-align: center;">9</td>
<td style="text-align: center;">9</td>
<td style="text-align: center;">9</td>
</tr>
<tr class="even">
<td style="text-align: center;">镜头包</td>
<td style="text-align: center;">无</td>
<td style="text-align: center;">有</td>
<td style="text-align: center;">有</td>
<td style="text-align: center;">有</td>
</tr>
<tr class="odd">
<td style="text-align: center;">滤镜尺寸</td>
<td style="text-align: center;">67mm</td>
<td style="text-align: center;">77mm</td>
<td style="text-align: center;">67mm</td>
<td style="text-align: center;">72mm</td>
</tr>
</tbody>
</table>
<ul>
<li>腾龙50400是重量最轻、尺寸最小的却有着最大的焦端覆盖。但是长焦端的最大光圈只有F6.3，没有100400
GM的F5.6。</li>
<li>腾龙50400的人体工学设计只能说接近<span class="math inline">\(\mathbf{SONY}\)</span>、适马，在控制按钮上还是稍显逊色。</li>
<li>腾龙50400有微距的能力，尤其是在50mm端0.5x的放大倍率。长焦端，100400
GM的表现跟好，0.37x的放大倍率要比腾龙50400的0.25x要稍有优势。</li>
<li>标配脚架环的100400
GM，同样也是做工最好的，变焦环可以设置大小不同的两档阻尼，要比腾龙50400过大的阻尼更好。适马100400的变焦环非常顺滑，还是很不错的。</li>
<li>[[Sigma 100-400mm F5-6.3 DG DN OS
Contemporary]]虽然最近对焦距离要远一些，重量重一些，尺寸大一些，但是价格要便宜得多。</li>
<li>在自动对焦方面，<span class="math inline">\(\mathbf{SONY}\)</span>
FE 100-400mm GM OSS
F4.5-F5.6无疑是最好的，排在其后的是腾龙50400，适马100400就差劲了。</li>
<li><span class="math inline">\(\mathbf{SONY}\)</span> FE 100-400mm GM
OSS F4.5-F5.6是唯一可以加增距镜的，原因就是原厂。</li>
<li>腾龙50400拥有50-100mm的焦端，其用途是最广的，可以在寻常的100-400mm焦端上增加人像、街拍、旅拍的用途。</li>
</ul>
<h3 id="锐度-1">5.2 锐度</h3>
<p><img data-src="./Pasted%20image%2020221107210712.png"></p>
<p>锐度表现最佳的是100400
GM，除了在400mm端光圈全开稍稍逊色，其它情况下都与腾龙50400相同。适马的锐度表现就要在所有情况下弱一个级别了。</p>
<h3 id="畸变色散眩光">5.3 畸变/色散/眩光</h3>
<ul>
<li><span class="math inline">\(\mathbf{SONY}\)</span> FE 100-400mm GM
OSS
F4.5-F5.6畸变和暗角控制的很好，且在Lightroom中已有矫正文件；在这方面，还没有矫正文件的腾龙50400是最差的。</li>
<li>色散都控制挺好，腾龙50400会稍稍有一点。</li>
<li>抗眩光除了100400 GM表现好一点，其它的都差不多。</li>
</ul>
<h3 id="背景虚化色彩还原度-1">5.4 背景虚化/色彩还原度</h3>
<ul>
<li>背景虚化、焦外光斑、色彩还原度都表现非常不错。100400
GM有一点优势，其在150mm有F5.6光圈，最近对焦距离1m要比腾龙50400得1.5m近一点。</li>
</ul>
<h3 id="对比小结">5.5 对比小结</h3>
<p>对比腾龙的50400：</p>
<ul>
<li><span class="math inline">\(\mathbf{SONY}\)</span> FE 70-300mm
f/4.5-5.6 G OSS
<ul>
<li><span class="math inline">\(8600_{\mathbf{SONY},20221108}\)</span></li>
<li>重量更轻</li>
<li>焦端覆盖较短</li>
<li>光学质量较差</li>
</ul></li>
<li><span class="math inline">\(\mathbf{SONY}\)</span> FE 100-400mm GM
OSS F4.5-F5.6
<ul>
<li><span class="math inline">\(17500_{\mathbf{SONY},20221108}\)</span></li>
<li>相似的锐度表现</li>
<li>更好的自动对焦性能，尤其是无规则运动主体、适配增距镜TC1.4和TC2.0、搭配A1可实现30fps连拍</li>
<li>更多的控制按钮</li>
<li>更重更贵</li>
<li>没有100mm一下的焦端，适用范围受限</li>
</ul></li>
<li>[[Sigma 100-400mm F5-6.3 DG DN OS Contemporary]]
<ul>
<li><span class="math inline">\(5800_{TB,20221108}\)</span></li>
<li>锐度较差</li>
<li>自动对焦较差</li>
</ul></li>
</ul>
<p>如果只拍摄非常快速而复杂的运动主体，或者需要30fps连拍，或者需要非常精准顺滑的变焦，或者需要使用增距镜TC1.4和TC2.0，那么，加钱上100400
GM吧。</p>
<p>除了以上情况，腾龙的光学性能和自动对焦都是非常接近100400
GM的，更别说还提供了其它100400无法提供的、独家的50-100mm焦端，能非常好地应对人像、街拍、旅拍。</p>
<p>除非真的预算有限，而且相机像素只有2400万或者3300万，不然真的别选适马100400。</p>
]]></content>
      <categories>
        <category>镜头</category>
      </categories>
      <tags>
        <tag>镜头</tag>
        <tag>E卡口</tag>
        <tag>全画幅</tag>
        <tag>腾龙Tamron</tag>
      </tags>
  </entry>
  <entry>
    <title>铭匠TTArtisan 50mm F1.4 Tilt_by SonyAlphaBlog</title>
    <url>//2022/10/27/ttartisan-50mm-f1-4-tilt/</url>
    <content><![CDATA[<blockquote>
<p>源：<a href="https://sonyalpha.blog/2022/10/14/TTArtisan-50mm-f1-4-tilt/">https://sonyalpha.blog/2022/10/14/TTArtisan-50mm-f1-4-tilt/</a></p>
</blockquote>
<h2 id="结论">1 结论</h2>
<p>铭匠TTArtisan 50mm F1.4 Tilt（<span class="math inline">\(1200_{TB,20221015}\)</span>）是一只非常好的移轴镜头，移轴操作的工学设计非常不错，背景虚化柔和，可以实现非常漂亮的微缩景观效果，或者用来进行微距摄影。但在总体上还有所欠缺，尤其是F1.4光圈下的锐度表现较差。</p>
<p>这枚镜头的直接对手时岩石星Astrhori 50mm F1.4 Tilt（<span class="math inline">\(1288_{TB,20221015}\)</span>）。岩石星这只移轴在移轴操作上效率差了些，但是锐度表现要好很多。</p>
<span id="more"></span>
<p><img data-src="./Pasted%20image%2020221027195041.png"></p>
<ul>
<li>优势
<ul>
<li>非常好的移轴操作工学设计</li>
<li>非常奈斯的移轴效果</li>
<li>价格</li>
<li>背景虚化柔和</li>
<li>光圈全开时，焦外光斑挺不错</li>
<li>非常棒的色彩还原度</li>
<li>无级光圈</li>
<li>做工非常棒</li>
</ul></li>
<li>一般
<ul>
<li>F2.8光圈下的锐度</li>
<li>畸变</li>
<li>暗角</li>
<li>抗眩光</li>
<li>光圈全开有色散</li>
<li>重量</li>
<li>F2光圈下的焦外光斑形状</li>
<li>非移轴模式下的成像</li>
</ul></li>
<li>缺陷
<ul>
<li>光圈全开锐度较差</li>
<li>边角锐度较差</li>
</ul></li>
</ul>
<hr>
<h2 id="总体信息">2 总体信息</h2>
<h3 id="移轴镜头是个啥">2.1 移轴镜头是个啥？</h3>
<p>移轴的原理可以参考Theodor
Scheimpflug在矫正航空摄影时研发的数学模型。通过改变镜头和相机胶片/CMOS的相对角度，他改变了接收图像的视角。</p>
<p>通过倾斜/旋转镜身，改变焦平面。 -
一般情况下，焦平面平行于传感器（左）； -
如果你倾斜镜身，焦平面也会跟着倾斜，这对于多个对焦主体所在平面与传感器不平行有很大的帮助（中），称为Scheimpflug效应（Scheimpflug
Effect）； -
或者，你可以将镜身转向另一个方向，来聚焦对焦主题（右），称为反Scheimpflug效应（Anti-Scheimpflug
Effect）；</p>
<figure>
<img data-src="./Pasted%20image%2020221014161954.png" alt="移轴简述">
<figcaption aria-hidden="true">移轴简述</figcaption>
</figure>
<p>反Scheimpflug效应也是非常著名的微型化效应（Miniaturization
Effect），图像中仅有一部分是清晰的，其余部分都是模糊不清的。</p>
<figure>
<img data-src="./Pasted%20image%2020221014162023.png" alt="反Scheimpflug效应样张">
<figcaption aria-hidden="true">反Scheimpflug效应样张</figcaption>
</figure>
<h3 id="spec">2.2 Spec</h3>
<ul>
<li>重量：477g</li>
<li>价格：<span class="math inline">\(1200_{TB,20221015}\)</span></li>
<li>长度：70mm</li>
<li>滤镜：62mm</li>
<li>光圈叶片：12</li>
<li>对焦环</li>
<li>移轴倾斜行程：8°</li>
<li>移轴旋转行程：90°</li>
<li>最近对焦距离：50cm</li>
<li>无遮光罩</li>
</ul>
<p>铭匠TTArtisan 50mm F1.4
Tilt做工非常棒，无级调节的光圈环和阻尼很棒的对焦环带来非常不错的使用体验。</p>
<p>镜身上的黑色螺丝是用来对移轴倾斜进行锁止的。将螺丝拧松即可调整倾斜的角度，拧紧螺丝来固定角度。在高端的移轴中，使用按钮来调节倾斜，倾斜步进为1度，很有用但是不能精确调节。</p>
<p>镜身底部另一个银色的螺丝是用来控制移轴旋转的，旋转步进为15度。移轴倾斜和移轴旋转可以同时使用，来获取需要的角度和姿态。如果需要恢复初始状态，调节起来非常方便；熟练的话，1秒即可解决。</p>
<p><img data-src="./ttartisan50.4tilt_x4.png"> <img data-src="./Pasted%20image%2020221014162326.png"></p>
<h2 id="光学性能">3 光学性能</h2>
<h3 id="锐度">3.1 锐度</h3>
<p><img data-src="./Pasted%20image%2020221014162416.png"></p>
<ul>
<li>测试使用6100万像素的A7R4。</li>
<li>光圈全开，中心锐度只能达到Average级别；建议使用光圈F2.8，锐度表现可以达到Very
Good级别。</li>
<li>变焦会比中心稍差，光圈F2.8只有Good级别，需要缩小到F5.6才能获得Very
Good级别。</li>
</ul>
<p>总的来说，光圈1.4下非常柔，使用时一定要使用F2甚至F2.8来提高整体成像的锐度表现。</p>
<h3 id="暗角色散畸变眩光">3.2 暗角/色散/畸变/眩光</h3>
<ul>
<li>畸变比较大。</li>
<li>F1.4光圈下，暗角非常明显；移轴倾斜到最大时，暗角会变得更大；光圈缩小到F5.6时，暗角会消失。</li>
<li>色散在F1.4光圈下在光线周围会有紫边和绿色光晕。</li>
<li>防眩光做的比较一般。</li>
<li>光圈F16才能得到一点星芒。</li>
</ul>
<h3 id="焦外色彩还原度">3.3 焦外/色彩还原度</h3>
<ul>
<li>焦外光斑在光圈全开时还是非常好的：非常规整的圆形，没有洋葱圈；但收光圈到F2，就会出现12边形。</li>
<li>背景虚化非常棒，也很柔和。</li>
<li>色彩还原度还是挺好的。</li>
</ul>
<h2 id="视频">4 视频</h2>
<p>视频总的来说还是不错的。锐度可以达到Good级别，背景虚化很平滑，色彩还原度也不错。无级光圈的加持可以解锁一些更加平滑的操作。呼吸效应比较小。移轴的特性可以扩展一些不错的效果。</p>
<h2 id="与其它移轴镜头比较">5 与其它移轴镜头比较</h2>
<p>比较对象是岩石星Astrhori 50mm F1.4 Tilt</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"></th>
<th style="text-align: center;">TTArtisan 50mm 1.4</th>
<th style="text-align: center;">AstrHori 50mm F1.4 Tilt</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">价格</td>
<td style="text-align: center;"><span class="math inline">\(1200_{TB,20221015}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(1288_{TB,20221015}\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;">重量</td>
<td style="text-align: center;">477g</td>
<td style="text-align: center;">339g</td>
</tr>
<tr class="odd">
<td style="text-align: center;">长度</td>
<td style="text-align: center;">70mm</td>
<td style="text-align: center;">68mm</td>
</tr>
<tr class="even">
<td style="text-align: center;">自动对焦</td>
<td style="text-align: center;">无</td>
<td style="text-align: center;">无</td>
</tr>
<tr class="odd">
<td style="text-align: center;">光圈环</td>
<td style="text-align: center;">无级</td>
<td style="text-align: center;">无级</td>
</tr>
<tr class="even">
<td style="text-align: center;">工学设计</td>
<td style="text-align: center;">两个螺丝分别用来锁止倾斜和旋转</td>
<td style="text-align: center;">全向活动，全局锁止</td>
</tr>
<tr class="odd">
<td style="text-align: center;">最近对焦距离</td>
<td style="text-align: center;">50cm</td>
<td style="text-align: center;">40cm</td>
</tr>
<tr class="even">
<td style="text-align: center;">做工</td>
<td style="text-align: center;">***</td>
<td style="text-align: center;">**</td>
</tr>
<tr class="odd">
<td style="text-align: center;">光圈叶片</td>
<td style="text-align: center;">12</td>
<td style="text-align: center;">12</td>
</tr>
<tr class="even">
<td style="text-align: center;">滤镜</td>
<td style="text-align: center;">62mm</td>
<td style="text-align: center;">46mm</td>
</tr>
</tbody>
</table>
<p>总的来说，铭匠TTArtisan的做工要更好，工学设计上也更好，给倾斜和旋转提供单独的锁止螺丝。岩石星的全向角度调整则会稍微自由一点。</p>
<p><img data-src="./Pasted%20image%2020221014163155.png"></p>
<p>锐度方面，岩石星Astrhori要比TTArtisan这枚移轴好得多，铭匠TTArtisan
50mm
F1.4非移轴版本同样有好得多的锐度表现。锐度上，铭匠TTArtisan移轴还是挺让人失望的。</p>
<ul>
<li>背景虚化上，铭匠TTArtisan要更加柔和，岩石星Astrhori则有更好的焦外光斑。</li>
<li>色彩还原度上，铭匠TTArtisan要比Astrhori好。</li>
<li>畸变和暗角上，两只差不多。</li>
<li>色散和抗眩光上，岩石星Astrhori会稍微好那么一点点，领先不多。</li>
<li>移轴的使用体验上，铭匠TTArtisan的工学设计明显有更好的使用体验。</li>
</ul>
<h3 id="对比小结">5.1 对比小结</h3>
<ul>
<li>岩石星Astrhori的锐度更好，色散和眩光会稍微弱一点。铭匠TTArtisan在移轴控制上更加得心应手，色彩和背景虚化也有些许优势。</li>
<li>这两只镜头都是需要取舍的，得看你更看重那些参数。</li>
</ul>
]]></content>
      <categories>
        <category>镜头</category>
      </categories>
      <tags>
        <tag>镜头</tag>
        <tag>E卡口</tag>
        <tag>全画幅</tag>
        <tag>铭匠TTArtisan</tag>
      </tags>
  </entry>
  <entry>
    <title>Tiny Tiny RSS再次搭建</title>
    <url>//2021/07/22/ttrss-build-2/</url>
    <content><![CDATA[<p>贫穷的Leon的腾讯云服务器快要到期了(发文章的时候已经到期了)，自用的TTRSS服务岌岌可危，这可咋整啊！！！所幸几周前已经把阿里云上的博客全部迁移到Github
Pages上了，阿里云的服务器就空出来了。</p>
<p>但是，不幸再次降临，TTRSS官方把原来的安装方式取消了，推荐使用docker安装。经过一番摸索，终于完成了docker安装TTRSS，并搞定fever。</p>
<p>环境说明：所使用的是Aliyun服务器（1C2G），系统为CentOS 7.9。</p>
<span id="more"></span>
<h2 id="安装docker">1 安装Docker</h2>
<p>Docker是...啥？我也不是特别清楚，我把它看作是独立的运行环境，和虚拟机类似。详细的请找Docker官方文档和百度。</p>
<p>首先确保系统内没有预安装旧版本的docker，使用命令卸载旧版本。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo yum remove docker docker-common docker-selinux docker-engine</span><br></pre></td></tr></table></figure>
<p>配置yum源，参考了<a href="https://mirrors.tuna.tsinghua.edu.cn/help/centos/">TUNA
CentOS镜像使用帮助</a>。使用云服务器一般不需要配置。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo sed -e &#x27;s|^mirrorlist=|#mirrorlist=|g&#x27; \</span><br><span class="line">         -e &#x27;s|^#baseurl=http://mirror.centos.org|baseurl=https://mirrors.tuna.tsinghua.edu.cn|g&#x27; \</span><br><span class="line">         -i.bak \</span><br><span class="line">         /etc/yum.repos.d/CentOS-*.repo</span><br><span class="line"></span><br><span class="line">sudo yum makecache</span><br></pre></td></tr></table></figure>
<p>配置docker的yum源。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>
<p>安装docker相关依赖包。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo yum install -y yum-utils device-mapper-persistent-data lvm2</span><br></pre></td></tr></table></figure>
<p>安装docker</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo yum install docker-ce</span><br></pre></td></tr></table></figure>
<p>启动docker，并设置开机自启。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo systemctl start docker</span><br><span class="line">sudo systemctl enable docker</span><br></pre></td></tr></table></figure>
<p>验证docker安装。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker version</span><br></pre></td></tr></table></figure>
<h2 id="安装docker-compose">2 安装Docker Compose</h2>
<p>Docker Compose是基于Docker的多容器运行管理工具。</p>
<p>下载Docker
Compose的Release包。下面的命令使用的是1.29.2版本的Release，可前往<a href="https://github.com/docker/compose/releases">软件发布页</a>查看最新的版本号，然后修改下面命令的版本号即可。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo curl -L &quot;https://github.com/docker/compose/releases/download/1.29.2/docker-compose-Linux-x86_64&quot; -o /usr/local/bin/docker-compose</span><br></pre></td></tr></table></figure>
<p>为文件夹添加可执行权限。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo chmod +x /usr/local/bin/docker-compose</span><br></pre></td></tr></table></figure>
<p>为Docker Compose在<code>/usr/bin/</code>创建链接。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将文件copy到/usr/bin/目录下</span></span><br><span class="line">sudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose</span><br></pre></td></tr></table></figure>
<p>验证Docker Compose安装。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker-compose --version</span><br></pre></td></tr></table></figure>
<h2 id="安装ttrss">3 安装TTRSS</h2>
<p>TTRSS是啥就不再次介绍了，需要了解的可以看看之前写的<a href="/2020/04/23/ttrss-build/">那篇文章</a>，或者直接访问<a href="https://tt-rss.org/">TTRSS官网</a>。</p>
<h3 id="获取docker安装所需文件">3.1 获取docker安装所需文件</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone https://git.tt-rss.org/fox/ttrss-docker-compose.git ttrss-docker</span><br><span class="line">cd ttrss-docker</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">git checkout命令为切换static-dockerhub分支，也可以不切换使用master分支</span></span><br><span class="line">git checkout static-dockerhub</span><br></pre></td></tr></table></figure>
<h3 id="修改.env配置文件">3.2 修改<code>.env</code>配置文件</h3>
<p>首先需要将<code>ttrss-docker</code>文件夹中的<code>.env-dist</code>复制为<code>.env</code>。（注：<code>.env-dist</code>和<code>.env</code>均为隐藏文件，需要使用<code>ls -a</code>才能看到。）</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cp .env-dist .env</span><br></pre></td></tr></table></figure>
<p>打开<code>.env</code>。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vim .env</span><br></pre></td></tr></table></figure>
<p>修改端口<code>HTTP_PORT</code>。默认为8280端口，可以配置为自定义端口。配置完成后，还需要Aliyun控制台开放端口访问，其它云平台类似，自建服务器那就自己搞定。</p>
<p>修改URL<code>TTRSS_SELF_URL_PATH</code>。如果简单使用ip进行访问，只需要将<code>localhost</code>修改为服务器的ip地址即可。</p>
<h3 id="拉取并启动容器">3.3 拉取并启动容器</h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker-compose pull &amp;&amp; docker-compose up -d</span><br></pre></td></tr></table></figure>
<p>验证容器运行。 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker ps</span><br></pre></td></tr></table></figure></p>
<h3 id="登录ttrss">3.4 登录TTRSS</h3>
<p>使用浏览器访问<code>TTRSS_SELF_URL_PATH</code>配置的URL。默认账号密码为<code>admin</code>和<code>password</code>。<strong>进入前台系统后，请先通过界面右上角的<code>偏好设置</code>修改密码。</strong></p>
<p>有需要的可以新建普通用户，将<code>admin</code>仅作为管理员用户。</p>
<p><img data-src="./ttrss-setting-1.png"></p>
<p>注：文章编写时，TTRSS的前台系统由于使用<code>window.requestIdleCallback</code>API，该API并不受Safari支持，所以前台系统不能使用Safari<del>应该都知道我为什么知道吧</del>。</p>
<p><img data-src="./ttrss-safari-bug.jpg"></p>
<h2 id="ttrss后续配置">4 TTRSS后续配置</h2>
<h3 id="fever">4.1 Fever</h3>
<p>目前大部分RSS的客户端可以使用fever和GoogleAPI登录，但遗憾的是TTRSS不原生支持fever
API。因此，需要配置fever插件。</p>
<p>获取TTRSS fever插件，仓库地址为<a href="https://github.com/DigitalDJ/tinytinyrss-fever-plugin">DigitalDJ/tinytinyrss-fever-plugin</a>。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/DigitalDJ/tinytinyrss-fever-plugin fever</span><br></pre></td></tr></table></figure>
<p>由于ttrss是通过docker-compose安装的，所以具体的安装路径就不清楚了；虽然普通使用不需要知道安装路径，但是使用官方仓库以外的插件时，安装路径至关重要。下面先来确定TTRSS的安装路径。</p>
<p>安装mlocate。为什么要安装mlocate呢？因为<code>find</code>的搜索速度堪忧啊。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yum install -y mlocate</span><br></pre></td></tr></table></figure>
<p>初始化文件索引。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">updatedb</span><br></pre></td></tr></table></figure>
<p>确定TTRSS安装路径。由于插件目录名称为<code>plugins.local</code>，为了简化搜索，直接搜索<code>plugins.local</code>即可。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">locate plugins.local</span><br></pre></td></tr></table></figure>
<p>搜索后，TTRSS的安装路径就一目了然了，我的路径为<code>/var/lib/docker/volumes/ttrss-docker_app/_data/tt-rss/</code>。</p>
<p><img data-src="./locate-plugins-folder.png"></p>
<p>之后将插件复制到TTRSS的<code>plugins.local</code>目录下。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cp -rf ./fever /var/lib/docker/volumes/ttrss-docker_app/_data/tt-rss/plugins.local/</span><br></pre></td></tr></table></figure>
<p>登录到TTRSS前台界面，进入偏好设置，勾选<code>启用API:外部客户端通过API来访问账户</code>。同时，页面底部会有<code>Fever Emulation</code>的条目。</p>
<p><img data-src="./ttrss-fever-1.png"></p>
<p>选择<code>插件</code>条目，勾选<code>fever</code>。</p>
<p><img data-src="./ttrss-fever-2.png"></p>
<p>选择<code>Fever Emulation</code>的条目，在文本框中输入fever连接密码（可以与ttrss账号密码相同）。点击<code>Set Password</code>，设置成功后会有浮窗。另外，记住红框内的地址，这是客户端连接fever的地址。</p>
<p><img data-src="./ttrss-fever-3.png"></p>
<p>到这里，ttrss fever插件就搞定了。</p>
<p>关于ttrss fever插件的更新。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git pull origin master</span><br><span class="line">cp -rf ./fever /var/lib/docker/volumes/ttrss-docker_app/_data/tt-rss/plugins.local/</span><br></pre></td></tr></table></figure>
<p>客户端连接可以参考下图。</p>
<p><img data-src="./ttrss-reeder-setting.jpg"></p>
<h3 id="ttrss工具更新">4.2 TTRSS工具更新</h3>
<p>停止TTRSS相关容器。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker-compose down &amp;&amp; docker-compose rm</span><br></pre></td></tr></table></figure>
<p>拉取最新安装文件，根据需要选取分支。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">拉取static-dockerhub分支</span></span><br><span class="line">git pull origin static-dockerhub</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">拉取master分支</span></span><br><span class="line">git pull origin master</span><br></pre></td></tr></table></figure>
<p>依据新的<code>.env-dist</code>修改<code>.env</code>。</p>
<p>再起用docker-compose拉取、启动。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker-compose pull &amp;&amp; docker-compose up</span><br></pre></td></tr></table></figure>
<h2 id="总结">总结</h2>
<p>写文章时，我的TTRSS已经稳定运行了两周了，没有出什么幺蛾子。</p>
<p><img data-src="./ttrss-reeder-done.jpg"></p>
<p>有TTRSS安装需求的同学可以参考上面的安装步骤，搭建自己的、可靠的RSS订阅服务。</p>
]]></content>
      <categories>
        <category>DIY</category>
      </categories>
      <tags>
        <tag>DIY</tag>
        <tag>RSS</tag>
        <tag>服务器</tag>
      </tags>
  </entry>
  <entry>
    <title>VHDL学习笔记之元件递归</title>
    <url>//2020/08/05/vhdl-note-component-recursion/</url>
    <content><![CDATA[<p>欢迎来看我的VHDL学习笔记，这是我写的第一篇，是关于我在用元件递归来设计n输入与门的全过程。</p>
<blockquote>
<p>上个月没有时间<del>主要是懒</del>，所以没有达成每月至少一篇的小目标，这个与争取多写几篇。</p>
</blockquote>
<span id="more"></span>
<p>设计n输入与门的想法是在做8421BCD计数器实验的时候冒出来的。设计这个计数器是用的D触发器，所以需要用到三输入的与门和或门。然后，我就联想到，如果是n输入的与门该怎么实现呢？</p>
<h2 id="元件递归设计">1 元件递归设计</h2>
<blockquote>
<p>首先声明一点，元件递归的设计不是正常的设计，而且<strong>不可综合</strong>。</p>
</blockquote>
<p>元件(component)是重复使用entity的一种方式，可以在此基础上设计出通用的实体在项目中使用，具体语法请查阅<a href="https://github.com/xulu199705/blog-attachment/blob/main/pdf/1076-2019_ieee-standard-for-vhdl-language-reference-manual.pdf">IEEE
Std 1076-2019</a>。</p>
<p>在上数电课的时候，应该都知道设计多级逻辑门的时候最好要设计比较平衡的结构，以降低延迟带来的影响。所以，我在设计n输入与门的时候也想往这个方向靠。<del>但是事实证明我这个考虑似乎是多余的，见下一章</del><br>
为了实现平衡的设计，我准备使用二分法。方案一，通过generate循环，使用二维数组存储每次二分的结果，循环次数可以通过<span class="math inline">\(n = \lceil log_{2}{m}
\rceil\)</span>得到；但这个方案感觉比较麻烦，选择放弃。<br>
方案二，利用元件自己调用自己，通过递归来实现二分法。首先，将输入端口数port_num为1或者2作为递归结束条件，直接使用and操作符输出结果；然后，针对输入端口数port_num为奇数和偶数分别进行操作，将二分后的结果连接到信号re中，最后对re做与操作输出到outp。代码如下。</p>
<figure class="highlight vhdl"><table><tr><td class="code"><pre><span class="line"><span class="keyword">library</span> ieee;</span><br><span class="line"><span class="keyword">use</span> ieee.std_logic_1164.<span class="keyword">all</span>;</span><br><span class="line"><span class="keyword">use</span> ieee.numeric_std.<span class="keyword">all</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">entity</span> add_gate <span class="keyword">is</span></span><br><span class="line">    <span class="keyword">generic</span> (</span><br><span class="line">        port_num : <span class="built_in">integer</span> := <span class="number">6</span></span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">port</span> (</span><br><span class="line">        inp : <span class="keyword">in</span> <span class="built_in">unsigned</span>(port_num - <span class="number">1</span> <span class="keyword">downto</span> <span class="number">0</span>);</span><br><span class="line">        outp : <span class="keyword">out</span> <span class="built_in">std_logic</span></span><br><span class="line">    );</span><br><span class="line"><span class="keyword">end</span> add_gate;</span><br><span class="line"></span><br><span class="line"><span class="keyword">architecture</span> behavioral <span class="keyword">of</span> add_gate <span class="keyword">is</span></span><br><span class="line">    <span class="keyword">component</span> add_gate <span class="keyword">is</span></span><br><span class="line">        <span class="keyword">generic</span> (</span><br><span class="line">            port_num : <span class="built_in">integer</span> := <span class="number">6</span></span><br><span class="line">        );</span><br><span class="line">        <span class="keyword">port</span> (</span><br><span class="line">            inp : <span class="keyword">in</span> <span class="built_in">unsigned</span>(port_num - <span class="number">1</span> <span class="keyword">downto</span> <span class="number">0</span>);</span><br><span class="line">            outp : <span class="keyword">out</span> <span class="built_in">std_logic</span></span><br><span class="line">        );</span><br><span class="line">    <span class="keyword">end</span> <span class="keyword">component</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">signal</span> re : <span class="built_in">unsigned</span>(<span class="number">1</span> <span class="keyword">downto</span> <span class="number">0</span>) := <span class="string">&quot;00&quot;</span>;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">    gen : <span class="keyword">if</span> port_num = <span class="number">1</span> <span class="keyword">generate</span></span><br><span class="line">        outp &lt;= inp(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">elsif</span> port_num = <span class="number">2</span> <span class="keyword">generate</span></span><br><span class="line">        outp &lt;= inp(<span class="number">0</span>) <span class="keyword">and</span> inp(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">elsif</span> port_num <span class="keyword">mod</span> <span class="number">2</span> = <span class="number">1</span> <span class="keyword">generate</span> <span class="comment">-- odd</span></span><br><span class="line">        add1 : add_gate <span class="keyword">generic</span> <span class="keyword">map</span> (port_num =&gt; port_num / <span class="number">2</span> + <span class="number">1</span>)</span><br><span class="line">                        <span class="keyword">port</span> <span class="keyword">map</span> (inp =&gt; inp(port_num / <span class="number">2</span> <span class="keyword">downto</span> <span class="number">0</span>), outp =&gt; re(<span class="number">0</span>));</span><br><span class="line">        add2 : add_gate <span class="keyword">generic</span> <span class="keyword">map</span> (port_num =&gt; port_num / <span class="number">2</span>)</span><br><span class="line">                        <span class="keyword">port</span> <span class="keyword">map</span> (inp =&gt; inp(port_num - <span class="number">1</span> <span class="keyword">downto</span> port_num / <span class="number">2</span> + <span class="number">1</span>), outp =&gt; re(<span class="number">1</span>));</span><br><span class="line">        outp &lt;= re(<span class="number">0</span>) <span class="keyword">and</span> re(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">generate</span> <span class="comment">-- even</span></span><br><span class="line">        add1 : add_gate <span class="keyword">generic</span> <span class="keyword">map</span> (port_num =&gt; port_num / <span class="number">2</span>)</span><br><span class="line">                        <span class="keyword">port</span> <span class="keyword">map</span> (inp =&gt; inp(port_num / <span class="number">2</span> - <span class="number">1</span> <span class="keyword">downto</span> <span class="number">0</span>), outp =&gt; re(<span class="number">0</span>));</span><br><span class="line">        add2 : add_gate <span class="keyword">generic</span> <span class="keyword">map</span> (port_num =&gt; port_num / <span class="number">2</span>)</span><br><span class="line">                        <span class="keyword">port</span> <span class="keyword">map</span> (inp =&gt; inp(port_num - <span class="number">1</span> <span class="keyword">downto</span> port_num / <span class="number">2</span>), outp =&gt; re(<span class="number">1</span>));</span><br><span class="line">        outp &lt;= re(<span class="number">0</span>) <span class="keyword">and</span> re(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">end</span> <span class="keyword">generate</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span> behavioral;</span><br></pre></td></tr></table></figure>
<p>简单写了个仿真文件，仿真结果如下。</p>
<figure>
<img data-src="./3099739303.png#vwid=795&amp;vhei=409" alt="综合前仿真结果">
<figcaption aria-hidden="true">综合前仿真结果</figcaption>
</figure>
<p>当然了，<strong>元件递归是不可综合的</strong>，综合是会出现如下的弹窗。</p>
<figure>
<img data-src="./4032806407.png#vwid=541&amp;vhei=351" alt="综合元件递归综合时出错">
<figcaption aria-hidden="true">综合元件递归综合时出错</figcaption>
</figure>
<h2 id="正常的n输入与门设计">2 正常的n输入与门设计</h2>
<p>一般来说，设计n输入与门是不会使用二分法的。虽然思路没错，但是，真的没有必要，原因我会在后面提到。下面两段代码都是比较正常的而且可以使用的n输入与门的设计。</p>
<figure class="highlight vhdl"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 示例一</span></span><br><span class="line"><span class="keyword">library</span> ieee;</span><br><span class="line"><span class="keyword">use</span> ieee.std_logic_1164.<span class="keyword">all</span>;</span><br><span class="line"><span class="keyword">use</span> ieee.numeric_std.<span class="keyword">all</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">entity</span> add_gate <span class="keyword">is</span></span><br><span class="line">    <span class="keyword">generic</span> (</span><br><span class="line">        port_num : <span class="built_in">integer</span> := <span class="number">6</span></span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">port</span> (</span><br><span class="line">        inp : <span class="keyword">in</span> <span class="built_in">unsigned</span>(port_num - <span class="number">1</span> <span class="keyword">downto</span> <span class="number">0</span>);</span><br><span class="line">        outp : <span class="keyword">out</span> <span class="built_in">std_logic</span></span><br><span class="line">    );</span><br><span class="line"><span class="keyword">end</span> add_gate;</span><br><span class="line"></span><br><span class="line"><span class="keyword">architecture</span> behavioral <span class="keyword">of</span> add_gate <span class="keyword">is</span></span><br><span class="line">    <span class="keyword">signal</span> tmp : <span class="built_in">unsigned</span>(port_num - <span class="number">1</span> <span class="keyword">downto</span> <span class="number">0</span>);</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">    tmp(<span class="number">0</span>) &lt;= inp(<span class="number">0</span>);</span><br><span class="line">    gen : <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span> <span class="keyword">to</span> port_num - <span class="number">1</span> <span class="keyword">generate</span></span><br><span class="line">        tmp(i) &lt;= tmp(i - <span class="number">1</span>) <span class="keyword">and</span> inp(i);</span><br><span class="line">    <span class="keyword">end</span> <span class="keyword">generate</span>;</span><br><span class="line">    outp &lt;= tmp(port_num - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span> behavioral;</span><br></pre></td></tr></table></figure>
<p>示例一使用for/generate将后加入的输入信号和之前的结果进行与操作，RTL原理图如下。</p>
<figure>
<img data-src="./590385094.png#vwid=1184&amp;vhei=402" alt="示例一RTL原理图">
<figcaption aria-hidden="true">示例一RTL原理图</figcaption>
</figure>
<figure class="highlight vhdl"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 示例二</span></span><br><span class="line"><span class="keyword">library</span> ieee;</span><br><span class="line"><span class="keyword">use</span> ieee.std_logic_1164.<span class="keyword">all</span>;</span><br><span class="line"><span class="keyword">use</span> ieee.numeric_std.<span class="keyword">all</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">entity</span> add_gate <span class="keyword">is</span></span><br><span class="line">    <span class="keyword">generic</span> (</span><br><span class="line">        port_num : <span class="built_in">integer</span> := <span class="number">6</span></span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">port</span> (</span><br><span class="line">        inp : <span class="keyword">in</span> <span class="built_in">unsigned</span>(port_num - <span class="number">1</span> <span class="keyword">downto</span> <span class="number">0</span>);</span><br><span class="line">        outp : <span class="keyword">out</span> <span class="built_in">std_logic</span></span><br><span class="line">    );</span><br><span class="line"><span class="keyword">end</span> add_gate;</span><br><span class="line"></span><br><span class="line"><span class="keyword">architecture</span> behavioral <span class="keyword">of</span> add_gate <span class="keyword">is</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">    outp &lt;= <span class="string">&#x27;1&#x27;</span> <span class="keyword">when</span> inp = to_unsigned(<span class="number">2</span> ** port_num - <span class="number">1</span>, port_num) <span class="keyword">else</span></span><br><span class="line">            <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span> behavioral;</span><br></pre></td></tr></table></figure>
<p>示例二利用了n输入与门的实质，即所有输入都为高电平才输出高电平，否则输出低电平，RTL原理图如下。</p>
<figure>
<img data-src="./2322955368.png#vwid=868&amp;vhei=495" alt="示例二RTL原理图">
<figcaption aria-hidden="true">示例二RTL原理图</figcaption>
</figure>
<p>接下来，就要说说为什么二分法没有必要了。很显然，示例一的RTL图是一点都不平衡的设计，如果在实际连接中使用这个结构势必会出现延时的问题。但是，如果综合这两个示例，如下所示，就会发现这两个示例的RTL原理图虽然大相径庭，但是他们的综合后原理图是一模一样的。图中的LUT(查找表)是FPGA的基本组成单元，可以当做是一个n*1的RAM。以图中的6输入LUT为例，LUT内部存储了<span class="math inline">\(2^n\)</span>个1bit的数据，地址是6位的；输入信号是地址总线，LUT根据输入的地址查找到相应地址的数据，将数据直接输出到LUT的输出端口上。</p>
<figure>
<img data-src="./2394619868.png#vwid=930&amp;vhei=499" alt="示例一综合后原理图">
<figcaption aria-hidden="true">示例一综合后原理图</figcaption>
</figure>
<figure>
<img data-src="./350538066.png#vwid=958&amp;vhei=497" alt="示例二综合后原理图">
<figcaption aria-hidden="true">示例二综合后原理图</figcaption>
</figure>
<h2 id="总结">3 总结</h2>
<p>虽然这次用了元件递归来设计n输入与门才发现元件递归是不能综合的
:&amp;(蛆音娘_扶额)
，并且综合工具的优化功能是很强大的，但是，这次尝试真的特别有意思，让我对FPGA的设计有了新的关注点。之后的学习过程中，我准备将之前学过的算法设计思想添加到FPGA设计中，找到新的乐趣。
:@(击掌)</p>
<p>最后的最后，请别忘了<del>一键三连</del>收藏分享。</p>
]]></content>
      <categories>
        <category>集成电路</category>
      </categories>
      <tags>
        <tag>VHDL</tag>
        <tag>FPGA</tag>
      </tags>
  </entry>
  <entry>
    <title>视频相关术语</title>
    <url>//2020/02/12/video-terms/</url>
    <content><![CDATA[<p>今天在人人影视上找资源的时候，突然对文件名上的HEVC、10bit等感到疑惑，就花了一下午时间研究了一下视频相关的术语，在下面分享一下。</p>
<span id="more"></span>
<ul>
<li><a href="#%e8%a7%86%e9%a2%91%e7%9b%b8%e5%85%b3%e6%9c%af%e8%af%ad">视频相关术语</a>
<ul>
<li><a href="#%e7%9b%ae%e5%bd%95">目录</a></li>
<li><a href="#%e5%88%86%e8%be%a8%e7%8e%87">分辨率</a></li>
<li><a href="#%e5%ae%bd%e9%ab%98%e6%af%94">宽高比</a>
<ul>
<li><a href="#%e5%bd%b1%e5%83%8f%e5%ae%bd%e9%ab%98%e6%af%94">影像宽高比</a></li>
<li><a href="#%e5%83%8f%e7%b4%a0%e5%ae%bd%e9%ab%98%e6%af%94">像素宽高比</a></li>
</ul></li>
<li><a href="#%e5%b8%a7%e7%8e%87">帧率</a>
<ul>
<li><a href="#%e8%a7%86%e9%a2%91%e5%88%b6%e5%bc%8fpalntsc">视频制式(PAL&amp;NTSC)</a></li>
</ul></li>
<li><a href="#%e4%bd%8d%e6%b7%b1">位深</a></li>
<li><a href="#%e7%bc%96%e7%a0%81">编码</a></li>
</ul></li>
</ul>
<h2 id="分辨率">1 分辨率</h2>
<p>分辨率(Resolution)指影像的尺寸大小。衡量视频分辨率的基本单位为像素(Pixel,px)。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">┌-------------┐┄┄┄┄┄</span><br><span class="line">|             |   ↑</span><br><span class="line">|    Video    | Height</span><br><span class="line">|             |   ↓</span><br><span class="line">└-------------┘┄┄┄┄┄</span><br><span class="line">┆←   Width   →┆</span><br></pre></td></tr></table></figure>
<p>分辨率一般用宽(Width) * 高(Height)来表示。</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">常见分辨率</th>
<th style="text-align: center;"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">720P</td>
<td style="text-align: center;">1280px * 720px</td>
</tr>
<tr class="even">
<td style="text-align: center;">1080P</td>
<td style="text-align: center;">1920px * 1080px</td>
</tr>
<tr class="odd">
<td style="text-align: center;">4K</td>
<td style="text-align: center;">3840px * 2160px</td>
</tr>
</tbody>
</table>
<p>对于宽/宽为16:9的分辨率，通常可以用720P、1080P等简称来表示。其中，P(Progressive)表示逐行扫描。1080P即表示每一次刷新都需要对1080行像素进行刷新(当然，最新的屏幕刷新技术已经可以对局部进行更新，以实现更高的刷新率)。</p>
<h2 id="宽高比">2 宽高比</h2>
<p>宽高比(Aspect Ratio)表示为宽(Width)和高(Height)的比例。</p>
<h3 id="影像宽高比">2.1 影像宽高比</h3>
<p>常见的影像宽高比(Video Aspect
Ratio)有16:9、4:3、21:9、16:10。不同的使用场景和需求需要不同的宽高比，比如电视、电影或“带鱼屏”等。</p>
<h3 id="像素宽高比">2.2 像素宽高比</h3>
<p>像素宽高比(Pixel Aspect
Ratio)与影像宽高比类似，表示像素的宽高之比。</p>
<p>目前，方形像素(Square Pixel)比较常用。但是，非方形像素(Non-Square
Pixel)仍然存在于某些场合中，并且发挥着一定的作用。我们需要能够辨别这些非方形像素，否则，图像显示会出现扭曲，信息传达会出现错误。</p>
<h2 id="帧率">3 帧率</h2>
<p>帧率(Frame Rate)是视频实现影像从静止到运动转变的关键。</p>
<p>在视频中，一幅静止的画面被称为帧(Frame)。视频播放实质上就是许多帧连续展示在屏幕上，当帧展示的间隔不断缩小，也就是每秒展示的帧不断增加，人眼看到的图案就变得连续起来(原理可自行搜索视觉暂留)。</p>
<p>帧率就是视频在一秒内展示的帧的数量。帧率单位是fps(frame pre
second)。一般来说，电影的帧率为24fps，当然最近也有120fps拍的电影(片名忘记了，只记得是李安导演的)；流媒体的帧率则需要根据你的网速和你的会员级别确定了；而电视的帧率则有所在地区的视频制式决定。</p>
<h3 id="视频制式palntsc">3.1 视频制式(PAL&amp;NTSC)</h3>
<p>这是一个存在于传统的电视广播行业的问题。</p>
<p>NTSC普遍用于北美和南美，每秒30帧隔行；而其他地区，比如中国、欧洲，则使用每秒25帧隔行的PAL。在电视广播行业中工作，就需要考虑到这个问题；如果是上传到网站的视频，就可以忽略这个问题。</p>
<h2 id="位深">4 位深</h2>
<p>位深(Bit
Depth)可以表示图像或者影像系统中可以使用的独立色彩的个数。如果系统的位深为10，那么需要三个10bit数码来分别表示R、G、B(当然还有其他色彩表示方式)，那么，系统就可以使用30bit的数码表示混合后的颜色，共有2^30=1.07*10^9种。</p>
<p>位深越多的系统，色彩就越丰富，图像或影像的色彩表现力就越强。目前，8位和10位的位深常见于各种场合中。当然，在部分对色彩显示要求不高的场合中，使用8位或10位RGB码来表示颜色也屡见不鲜。</p>
<h2 id="编码">5 编码</h2>
<p>编码(CODEC)可以看做编码器(Coder) + 解码器(DeCoder)。</p>
<p>首先，来看一下编码出现的原因。</p>
<p>对于一段无压缩的、8bitRGB、4K、24fps的视频，暂且不考虑音频，它的码率
= 3840 * 2160 * 8 * 3 * 24 bps = 4777574400bps =
570MB/s，即如果要实现24fps播放这段视频，硬盘或网络需要传输570MB数据，GPU每秒需要处理570MB数据。以目前主流的硬件状况来看，5400rpm机械硬盘最高读取速度为130MB/s，(虽然m.2
NVME的固态硬盘的最高读取速度远超这个码率，但每秒视频至少需要570MB的存储空间，反正我是没有这么多钱)，IEEE
802.11 ac(WiFi
5)能实现的最高无线传输速度在300-400MBPS之间，硬盘和网络都完全无法承受无压缩4K视频的码率。也因此，视频的压制和编码就应运而生。</p>
<p>一般我们看见的视频文件后缀名MOV、MP4、MKV是是视频的封装格式(Format)，可以理解为一个容器，里面包含了视频的帧信息、音频信息、媒体信息、字幕及其他信息。</p>
<p>目前，常见编码有H.264、H.265/HEVC等，编码信息记录着帧与帧之间的变化，虽然有效地压缩了视频体积，但却大大增加了处理器压力。</p>
<p>在视频处理过程中，编码通常有拍摄编码、剪辑编码、输出编码三种使用场景。</p>
<p>拍摄编码，顾名思义，是指使用相机进行拍摄时所使用的的编码，索尼、松下等相机在存储获取的影像时就会使用帧间编码对每一帧进行存储。</p>
<p>剪辑编码，指对素材进行剪辑时使用的编码。举个栗子，由于帧间编码需要强大的处理能力，如果剪辑使用的设备性能欠缺，剪辑时素材的播放就会出现卡顿，使用体验极差；这时就可以将素材重编码为低分辨率视频进行编辑，再用源素材进行输出。</p>
<p>输出编码，指剪辑软件根据需求输出的视频的编码。对于网络视频来说，网络平台会对码率过高的视频进行二次压缩。为了解决这个问题，要么将上传的视频压制到平台限定码率之下；要么尽量减少复杂移动画面的拍摄、调整曝光减少噪点等。</p>
]]></content>
      <categories>
        <category>杂项</category>
      </categories>
      <tags>
        <tag>视频</tag>
        <tag>视频编码</tag>
      </tags>
  </entry>
  <entry>
    <title>VS Code笔记之可自动更新的Markdown目录</title>
    <url>//2020/05/05/vscode-note-tableofcontents/</url>
    <content><![CDATA[<p>Markdown语法支持自己编写目录，但是碰到中文标题就捉襟见肘了。不久前在写项目README的时候，我一时兴起准备给文章编写一个目录，却发现一开始编写的目录竟然可以自动更新。照着目录的格式摸索了几次，终于总结出快速编写目录的方法。</p>
<span id="more"></span>
<p>可自动更新目录需要在VS Code中安装插件<a href="https://marketplace.visualstudio.com/items?itemName=yzhang.markdown-all-in-one">Markdown
All in One</a>。</p>
<p>以本文为例，编写可自动更新的目录的步骤如下：</p>
<h2 id="步骤1">步骤1</h2>
<p>创建Markdown文件后，先输入一个标题。如：<br>
<code># VS Code笔记之快速插入Markdown目录</code></p>
<h2 id="步骤2">步骤2</h2>
<p>在需要创建目录的地方输入<code>- [](#</code><del>注意空格和英文半角括号</del>，这时会有自动补全列表弹出，选择"VS
Code笔记之快速插入Markdown目录"的标题，如图1。</p>
<figure>
<img data-src="./3134778940.png" alt="图1">
<figcaption aria-hidden="true">图1</figcaption>
</figure>
<p>选择标题后，目录的最上方会有灰色的小字<code>Table of Contents (up to date)</code>，效果如图2所示。</p>
<figure>
<img data-src="./4154552605.png#vwid=649&amp;vhei=127" alt="图2">
<figcaption aria-hidden="true">图2</figcaption>
</figure>
<p>此时，插件就已经把这一块列表识别为文章的目录了。对于已经创建的Markdown文档，在步骤2输入列表时，有时需要输入两级标题才可以被插件识别为目录。</p>
<h2 id="步骤3">步骤3</h2>
<p>保存文件，插件会自动补全连接的内容，见图3所示。之后，插件就会在保存文件时自动获取文章的各级标题，并添加到目录列表中。</p>
<figure>
<img data-src="./362785527.png#vwid=646&amp;vhei=120" alt="图3">
<figcaption aria-hidden="true">图3</figcaption>
</figure>
<hr>
<p>如果这篇可自动更新的Markdown目录编写指南对你有帮助，请别忘了<del>一键三连</del>收藏分享哦。</p>
]]></content>
      <categories>
        <category>软件</category>
      </categories>
      <tags>
        <tag>VS Code</tag>
        <tag>Markdown</tag>
      </tags>
  </entry>
  <entry>
    <title>自建RSS服务——Tiny Tiny RSS</title>
    <url>//2020/04/23/ttrss-build/</url>
    <content><![CDATA[<p><strong>这篇文章使用的是TTRSS老版本安装方式，新版的Docker安装请参考最新的文章<a href="/2021/07/22/ttrss-build-2/">Tiny Tiny
RSS再次搭建</a>。</strong></p>
<p>很早之前就有了自建RSS服务的想法，但是Feedly和Inoreader的基(mian)础(fei)套餐真的太香了，懒人表示无法拒绝。结果，不出所料，Feedly和Inoreader在4月初的时候陆续被墙，当时还以为Reeder
3停更了。<br>
为了解决日常的RSS阅读，自建RSS服务就提上了日程<del>从冒出想法到搞定实际只花了半天时间</del>。</p>
<p>本文我就来详细介绍一下搭建多平台RSS服务——Tiny Tiny RSS(TTRSS)。</p>
<span id="more"></span>
<blockquote>
<p><strong>最新版的TTRSS更新了安装方式，目前官方推荐使用docker方式安装，具体的安装和迁移请等待相关文章的更新。</strong></p>
</blockquote>
<h2 id="ttrss">1 TTRSS</h2>
<p>冒出自建RSS服务之前，我其实已经删掉Reeder准备放弃移动端了。网上推荐的Win平台RSS阅读器，发现大多都是Outlook、ThunderMail之类的邮件客户端；虽然我也用"宇宙最强的邮件客户端"——Outlook，但我并不想把娱乐消遣和工作搅和在一起。<br>
在小众软件的一篇文章的评论里面，我发现了Tiny Tiny
RSS(TTRSS)，一下子就发现它非常符合我的情况： 1. 国内有闲置的服务器可用；
2. 订阅源偏重国内(国外源较多建议使用国外的服务器)； 3.
时间较多的白嫖党。</p>
<p>说干就干。花了一下午把TTRSS给搞定了，并已经成功在Reeder上登录、阅读、标记。</p>
<h2 id="服务器配置">2 服务器配置</h2>
<p>闲置的服务器是在两年前买的腾讯云"1C+2G+1Mbps"，无域名，一直没有利用起来。</p>
<p>首先，在腾讯云控制台重装系统，这是清空系统防止出现程序冲突。如果服务器已经运行其它任务，可以无视，但出现问题需要考虑会不会是已运行任务的冲突。因为比较偏爱CentOS，所以操作系统选择了CentOS。</p>
<figure>
<img data-src="./3506696871.png" alt="服务器系统重装">
<figcaption aria-hidden="true">服务器系统重装</figcaption>
</figure>
<p>重装完服务器的系统先不要关掉控制台，在左侧找到"安全组"，新建一个安全组规则。<br>
我开通了3个端口： 1. 8888 --&gt; 宝塔面板默认端口； 2. 2333 --&gt;
预留给宝塔面板的端口； 3. 9999 --&gt; 预留给TTRSS的端口。<br>
注：宝塔面板和TTRSS的端口可以选自己喜欢的，只要不和现有的冲突就行。</p>
<p>新建安全组规则后，将这个规则绑定到服务器。</p>
<figure>
<img data-src="./2662962289.png" alt="配置安全组">
<figcaption aria-hidden="true">配置安全组</figcaption>
</figure>
<h2 id="服务器环境安装">3 服务器环境安装</h2>
<h3 id="宝塔面板安装">3.1 宝塔面板安装</h3>
<p>云服务器的配置结束后，就可以使用SSH工具登录服务器了(别告诉我你把密码给忘记了)。<br>
SSH工具(如XShell)使用教程自行百度(喜欢谷歌的可以选择番羽土啬)。</p>
<p>使用SSH登录服务器后，根据系统使用下面的命令安装宝塔面板，其它操作系统的安装命令请到<a href="https://www.bt.cn/download/linux.html">宝塔面板官网</a>查看。<br>
使用宝塔面板的目的是为了安装LNMP并为TTRSS建立站点，已经安装过或者对此精通的大佬请自觉跳至<a href="#ttrss%e7%ab%99%e7%82%b9%e5%bb%ba%e7%ab%8b">TTRSS站点建立</a>。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># CentOS 安装命令</span></span><br><span class="line">yum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install_6.0.sh &amp;&amp; sh install.sh</span><br><span class="line"><span class="comment"># Ubuntu/Deepin 安装命令</span></span><br><span class="line">wget -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh &amp;&amp; sudo bash install.sh</span><br></pre></td></tr></table></figure>
<p>安装过程不是特别慢，大概几分钟就搞定了。宝塔面板安装成功后会在最后有"Completed"字样，并在字样上方有访问宝塔面板的默认URL及账号密码，请务必将这几行字符复制出来并暂时保存起来。这里的图片没有截，请仔细阅读这段文字。</p>
<h3 id="lnmp安装">3.2 LNMP安装</h3>
<p>使用宝塔面板安装后输出的URL和账号密码登录宝塔面板，然后在弹出的框内选择LNMP进行安装。<br>
如果你看到这篇文章的时候PHP没有更新8.0的话，PHP版本选择最新的；服务器配置如果是1核1G，MySQL版本请自觉选用5.6及以下；phpMyAdmin可以不选。我安装时没有截图，这张图是官方论坛里截取的，使用图里的版本也可以。</p>
<figure>
<img data-src="./2780109685.png" alt="安装LNMP">
<figcaption aria-hidden="true">安装LNMP</figcaption>
</figure>
<p>安装过程看具体服务器配置，我的2G内存的跑了十分钟左右。等任务队列全部跑完就说明环境安装好了。</p>
<p>接下来需要安装PHP的扩展fileinfo，否则TTRSS的初始化会出错。几年前我搭建我的WordPress的时候就因为没安装fileinfo，一直初始化失败。<br>
在左侧边栏中选择"软件商店"，选择分类"已安装"，点击PHP的"设置"。</p>
<figure>
<img data-src="./1674883902.png" alt="安装fileinfo插件-1">
<figcaption aria-hidden="true">安装fileinfo插件-1</figcaption>
</figure>
<p>在弹出的界面中选择左侧的"安装扩展"，找到fileinfo并点击安装，安装需要等待几秒钟。</p>
<figure>
<img data-src="./3460819832.png" alt="安装fileinfo插件-2">
<figcaption aria-hidden="true">安装fileinfo插件-2</figcaption>
</figure>
<p>到这里，LNMP的环境就搭建好了，但我还是要多说一句，<strong>请务必在左侧边栏的"面板设置"中修改面板登录端口、账号密码以及安全入口</strong>，端口使用安全组预留给宝塔面板的端口。</p>
<h3 id="ttrss站点建立">3.3 TTRSS站点建立</h3>
<p>在左侧边栏中选择"网站"，点击"添加站点"。</p>
<figure>
<img data-src="./2348240304.png" alt="建立站点">
<figcaption aria-hidden="true">建立站点</figcaption>
</figure>
<p>在弹出的界面中填写站点的信息。</p>
<blockquote>
<p>填写要求：<br>
域名 -
使用"http://服务器外网ip:端口号"的格式，端口号使用安全组预留给TTRSS使用的端口；可以使用域名代替外网ip，甚至使用https<br>
根目录 - 为了方便，我使用了"/www/wwwroot/ttrss"<br>
数据库 - 选择"MySQL"，编码为"utf-8"，用户名与密码自己输入并记住</p>
</blockquote>
<h2 id="ttrss安装及配置">4 TTRSS安装及配置</h2>
<p>此时服务器上的站点还是空的网站，需要从<a href="https://tt-rss.org/">TTRSS官网</a>下载TTRSS并进行配置。</p>
<h3 id="ttrss下载">4.1 TTRSS下载</h3>
<p>虽然使用服务器也可以获取TTRSS，但下载速度太感人，还是在PC上下好了传上去吧。不信邪的可以使用下面的命令。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://git.tt-rss.org/fox/tt-rss.git ttrss</span><br></pre></td></tr></table></figure>
<p>建议大家使用浏览器访问TTRSS的<a href="https://git.tt-rss.org/git/tt-rss/src/master">仓库</a>，下载zip包。如果这个仓库失效可以访问<a href="https://tt-rss.org/">TTRSS官网</a>，再进入仓库下载。</p>
<p>成功下载TTRSS后，使用宝塔面板将zip包上传到服务器的/www/wwwroot/目录下；<br>
解压这个zip包，将tt-rss文件夹内的所有文件剪切到/www/wwwroot/ttrss/目录下。<br>
小文件上传速度堪忧，请务必在服务器解压zip包。</p>
<figure>
<img data-src="./2606487638.png" alt="上传TTRSS">
<figcaption aria-hidden="true">上传TTRSS</figcaption>
</figure>
<h3 id="ttrss初始化">4.2 TTRSS初始化</h3>
<p>打开浏览器，访问"http://服务器外网ip:端口号/install"，进入TTRSS的初始化。<br>
数据库选择MySQL，端口选择3306，用户名密码是建立站点时设置的，希望没有忘记。然后点击"Test
configuration"。</p>
<figure>
<img data-src="./301425375.png" alt="TTRSS初始化-1">
<figcaption aria-hidden="true">TTRSS初始化-1</figcaption>
</figure>
<p>网页下方出现下图的内容，点击"Initialize database"。</p>
<figure>
<img data-src="./3081491383.png" alt="TTRSS初始化-2">
<figcaption aria-hidden="true">TTRSS初始化-2</figcaption>
</figure>
<p>接着，在出现的内容中点击"Save
configuration"，让系统自己保存配置。</p>
<figure>
<img data-src="./3023230390.png" alt="TTRSS初始化-3">
<figcaption aria-hidden="true">TTRSS初始化-3</figcaption>
</figure>
<p>到此，TTRSS就配置结束了，访问"http://服务器外网ip:端口号"即可登录TTRSS了。<br>
使用默认用户名及密码(admin,password)即可登录TTRSS，第一次登录时系统会提示重设密码。</p>
<h3 id="ttrss配置自动更新">4.3 TTRSS配置——自动更新</h3>
<p>可能是因为bug的原因，目前的TTRSS通过"偏好设置"无法自动更新，需要使用服务器的非root用户的crontab进行自动更新。配置过程如下。</p>
<p>使用SSH登录服务器，输入下面这个命令。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">crontab -u www -e</span><br></pre></td></tr></table></figure>
<p>然后，点击"i"进入编辑模式，插入以下命令实现1小时更新一下信息源。请注意php后的路径和命令中的空格。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">* */1 * * * php /www/wwwroot/ttrss/update.php  --feeds  &gt; /dev/null</span><br></pre></td></tr></table></figure>
<p>最后，使用"Esc"和":wq"退出vim编辑，TTRSS就可以自动更新了。</p>
<p>至于订阅源的配置步骤就不赘述了。</p>
<h3 id="ttrss配置多平台支持fever">4.4 TTRSS配置——多平台支持/fever</h3>
<p>目前大部分RSS的客户端可以使用fever和GoogleAPI登录，但遗憾的是TTRSS不原生支持fever
API。因此，需要配置fever插件。</p>
<ol type="1">
<li>下载<a href="./3738853280.7z">fever插件</a>并解压，使用宝塔面板将<strong>整个fever文件夹</strong>上传到/www/wwwroot/ttrss/plugins/目录下。注意：<strong>整个fever文件夹</strong>。</li>
<li>在TTRSS的偏好设置中，勾选"允许外部客户端通过API来访问该账户"。</li>
<li>在TTRSS的偏好设置中，选择"插件"页面，勾选fever，点击"启用选择的插件"。</li>
<li>刷新页面，在TTRSS的偏好设置中，选择"Fever
Emulation"页面，设置密码。密码可与TTRSS账户密码相同，用于客户端访问TTRSS。</li>
</ol>
<p>下面就可以在客户端使用Fever访问TTRSS了。下面是Reeder 3的配置页面。
服务器填写"http://服务器外网ip:端口号/plugins/fever"；邮箱填写TTRSS账号用户名，不一定要邮箱；密码是在"Fever
Emulation"页面设置的密码。</p>
<figure>
<img data-src="./3057100732.png#vhei=800" alt="Reeder 3配置界面">
<figcaption aria-hidden="true">Reeder 3配置界面</figcaption>
</figure>
<h2 id="总结">总结</h2>
<p>整篇文章写下来花了两天时间，有几张图片因为搭建时遗忘而没有截图，但整个搭建描述还是挺清晰的(自我评价的)。</p>
<p>如果参考了这篇TTRSS搭建教程，请别忘了<del>一键三连</del>收藏分享哦。</p>
]]></content>
      <categories>
        <category>DIY</category>
      </categories>
      <tags>
        <tag>DIY</tag>
        <tag>RSS</tag>
        <tag>服务器</tag>
      </tags>
  </entry>
  <entry>
    <title>Wi-Fi 6简析</title>
    <url>//2020/03/19/wifi-6/</url>
    <content><![CDATA[<p>Wi-Fi 6这个词是我在翻看张大妈了解到的，只是大概知道Wi-Fi
6的延迟更低，传输更快，多设备体验更舒服。</p>
<p>2月13日，雷军在小米的 <del>无人</del> 发布会上发布了Wi-Fi
6协议的AX3600，售价599，真不愧是价格屠夫。</p>
<p>反正最近一段时间一直在家蹲着，自然要看看这个Wi-Fi
6协议到底是个啥情况，Wi-Fi
6对于我这样的普通用户是不是真的有丶东西呢？</p>
<span id="more"></span>
<blockquote>
<p>紧接着小米无人发布会，华为也发布了Wi-Fi 6路由器。</p>
</blockquote>
<h2 id="从何而来">1 “6”从何而来</h2>
<p>Wi-Fi并不是某一项标准，而是在IEEE 802.11内，包括IEEE
802.11n/ac/ax的一系列标准，用于规范化无线局域网传输。</p>
<p>2018年下半年，Wi-Fi联盟(Wi-Fi Alliance，WFA)正式发布了IEEE 802.11
ax标准，并把802.11 ax称作Wi-Fi 6。同时为IEEE 802.11n和ac添加名称Wi-Fi
4和Wi-Fi
5。这既方便硬件厂商对产品进行宣传，又让消费者不再需要仔细研究IEEE
802.11a/b/g/n/ac/ax这一堆标准了。</p>
<figure>
<img data-src="./718581389.jpg" alt="Wi-Fi 6 logo">
<figcaption aria-hidden="true">Wi-Fi 6 logo</figcaption>
</figure>
<p>那Wi-Fi 6到底6在哪里呢？</p>
<h2 id="到底有多6">2 到底有多“6”</h2>
<p>要想知道Wi-Fi 6有多“6”，那就一定要和Wi-Fi 4和Wi-Fi 5比较一下。</p>
<table style="text-align:center">
<tr>
<td>
</td>
<td>
Wi-Fi 4
</td>
<td colspan="2">
Wi-Fi 5
</td>
<td>
Wi-Fi 6
</td>
</tr>
<tr>
<td rowspan="2">
协议
</td>
<td rowspan="2">
802.11n
</td>
<td colspan="2">
802.11ac
</td>
<td rowspan="2">
802.11ax
</td>
</tr>
<tr>
<td>
Wave1
</td>
<td>
Wave2
</td>
</tr>
<tr>
<td>
发布年份
</td>
<td>
2009
</td>
<td>
2013
</td>
<td>
2016
</td>
<td>
2018
</td>
</tr>
<tr>
<td>
工作频段
</td>
<td>
2.4 GHz 5 GHz
</td>
<td colspan="2">
5 GHz
</td>
<td>
2.4 GHz 5 GHz
</td>
</tr>
<tr>
<td>
最大频宽
</td>
<td>
40 MHz
</td>
<td>
80 MHz
</td>
<td>
160 MHz
</td>
<td>
160 MHz
</td>
</tr>
<tr>
<td>
最高调制
</td>
<td>
64 QAM
</td>
<td colspan="2">
256 QAM
</td>
<td>
1024 QAM
</td>
</tr>
<tr>
<td>
单流带宽
</td>
<td>
150 Mbps
</td>
<td>
433 Mbps
</td>
<td>
867 Mbps
</td>
<td>
1024 Mbps
</td>
</tr>
<tr>
<td>
最大带宽
</td>
<td>
600 Mbps
</td>
<td>
3466 Mbps
</td>
<td>
6933 Mbps
</td>
<td>
9.6 Gbps
</td>
</tr>
<tr>
<td>
最大空间流
</td>
<td>
4 * 4
</td>
<td colspan="2">
8 * 8
</td>
<td>
8 * 8
</td>
</tr>
<tr>
<td>
MU-MIMO
</td>
<td>
N/A
</td>
<td>
N/A
</td>
<td>
下行
</td>
<td>
上行 下行
</td>
</tr>
<tr>
<td>
OFDMA
</td>
<td>
N/A
</td>
<td>
N/A
</td>
<td>
N/A
</td>
<td>
上行 下行
</td>
</tr>
</table>
<h3 id="工作频段">2.1 工作频段</h3>
<p>工作频段是通信时使用的电波的频率范围，它不是一个特定的频率，而是一个频率范围。比如，Wi-Fi
4所使用的的2.4 GHz频段的范围是2.401 GHz-2.483
Ghz，ZigBee和蓝牙同样在使用2.4
GHz频段，只是工作频段的范围不同罢了。这个频段还被细分为14个信道，每个信道的带宽可依据使用场合进行设置，各信道中心频点以5
MHz的倍数增加，有效带宽为20 MHz，剩余2
MHz属于隔离保护带宽。电波的频率越高，承载的信息自然就越多，通信的时间效率也就更高。所以，5
GHz能为通信提供更高的传输速率。但根据波的相关原理，频率越高，波长就越短，介质的穿透能力就越弱。因此，5
GHz的穿墙能力要比2.4 GHz弱的多。</p>
<p>Wi-Fi 6同时兼容了2.4 GHz和5
GHz，兼容性和性能兼得。同时，Wi-Fi联盟目前申请6
GHz频段，并把新标准命名为Wi-Fi
6E，该标准提供的超高传输速率将为VR和AR提供硬件支持。</p>
<h3 id="最大频宽">2.2 最大频宽</h3>
<p>频宽是指工作频段内被细分的信道的带宽。当工作频段为2.4
GHz，频宽设置为20 MHz时，此时，每个信道就是20 MHz。因为2.4
GHz频段总总频宽只有83
MHz，所以信道与信道之间必定会有重叠，图示如下。</p>
<figure>
<img data-src="./3653584390.png" alt="信道图示">
<figcaption aria-hidden="true">信道图示</figcaption>
</figure>
<p>理论上，频宽越高，最高传输速率就高。但你的设备当前使用的信道其实一直被其它设备的信号干扰。在频宽不变的情况下，当周围使用的Wi-Fi的设备增加时，这种干扰就更加明显，表现为网络延迟等(当然，日常使用不会感觉出来)。</p>
<p>因此，目前来说，高频宽带来的高速传输和低频宽带来的低干扰不可兼得。</p>
<p>Wi-Fi 6的最大频宽可以达到160 MHz，与Wi-Fi 5 Wave
2相同，理论上可以提供高速上下行传输速率。</p>
<h3 id="单流带宽最大带宽">2.3 单流带宽&amp;最大带宽</h3>
<p>带宽是最能直接表明传输（理论）速度的指标了。一眼看过去就能明白Wi-Fi
6的传输速度very fast，其他就不赘述了。</p>
<h3 id="mu-mimo">2.4 MU-MIMO</h3>
<p>MU-MIMO（Multi-User Multiple-Input Multiple-Output）在Wi-Fi
5标准中就提出了，Wi-Fi
6依旧采用了MU-MIMO。MU-MIMO旨在将多终端的数据传输放在相同的子载波上，尽可能提高系统的吞吐量，直观的表现在延时降低上。当然，MU-MIMO也有缺点：多终端的共信道干扰、中断间通信协作困难等。</p>
<h3 id="ofdma">2.5 OFDMA</h3>
<p>Wi-Fi
6采用了OFDMA，支持局域网内的多个无线终端并行传输数据。之前的Wi-Fi协议中，信息传输都是基于时间的周期传输；OFDMA支持多个终端。以快递公司打个比方，未使用OFDMA的A公司，送给同小区X、Y、Z三人的快递使用一辆运输车分三次运送；使用OFDMA的B公司，送给同小区X、Y、Z三人的快递装在一辆运输车上一次性送达（这个比喻不是特别恰当）。</p>
<h2 id="总结">3 总结</h2>
<p>以上对于Wi-Fi
6的介绍比较简略的将它的一些特点列写出来了。总的来看，Wi-Fi
6确实是有技术更新和体验的提升的；但目前来说，Wi-Fi
6进入大众家庭，或者说大众家庭完全发挥好Wi-Fi
6的优势，依旧是厂商和用户需要考虑和头疼的问题。（好吧，我承认我刚买了华硕的AC系列路由器，想安慰一下自己[doge]）</p>
]]></content>
      <categories>
        <category>杂项</category>
      </categories>
      <tags>
        <tag>Wi-Fi</tag>
        <tag>IEEE 802.11</tag>
      </tags>
  </entry>
  <entry>
    <title>VS Code笔记之根据语言选择性删除行末空格</title>
    <url>//2020/04/08/vscode-note-trimTrailingWhitespace/</url>
    <content><![CDATA[<p>由于一直没有找到合适的Markdown编辑器，就一直用VS Code来写点东西。从VS
Code发布以来就一直在用，到现在已经有了相当丰富的插件可以使用了。平时一直使用Latex
Workshop、Markdown+Math和Markdown Preview
Enhanced配合来写东西，用着特别顺手。</p>
<p>平时用VS
Code写代码比较多，就在设置里面勾选了保存时自动删除文末的空格。Markdown写作当然就出现了瑕疵，最近才上心解决了这个问题。希望这个分享可以给有相同需求的同学带来一点帮助。</p>
<span id="more"></span>
<h2 id="问题">1 问题</h2>
<p>Markdown换行机制原本就一直搞不太明白，之前都是使用另起新行来实现换行的，见下方样例一。<br>
样例一：<br>
代码： <figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">para-1</span><br><span class="line">//另起新行</span><br><span class="line">para-2</span><br></pre></td></tr></table></figure></p>
<p>效果：<br>
para-1</p>
<p>para-2</p>
<p>后来重新看了Markdown的语法，学会了用行末空格来换行，见下方样例二。<br>
样例二：<br>
代码： <figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">para-1  //这里有2个空格</span><br><span class="line">para-2</span><br></pre></td></tr></table></figure></p>
<p>效果：<br>
para-1<br>
para-2</p>
<p>很明显，另起新行的效果更偏向于另起一段，行末空格的效果才是真正的换行方式。这也就代码编辑里面的自动去除行末空格起了冲突，行末空格换行就一直没有使用。</p>
<h2 id="解决方案">2 解决方案</h2>
<p>如果之前已经勾选了保存时自动删除文末空格，在setting.json文件中就会有下面这行代码。</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="attr">&quot;files.trimTrailingWhitespace&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>
<p>VS
Code支持对某一种语言自定额外规则，只需要在setting.json中的<em>files.trimTrailingWhitespace</em>同一级添加以下代码即可。</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="attr">&quot;[markdown]&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;files.trimTrailingWhitespace&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>软件</category>
      </categories>
      <tags>
        <tag>VS Code</tag>
        <tag>Markdown</tag>
      </tags>
  </entry>
</search>
